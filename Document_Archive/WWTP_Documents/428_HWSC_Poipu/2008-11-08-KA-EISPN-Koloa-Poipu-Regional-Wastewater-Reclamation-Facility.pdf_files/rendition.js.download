/*! For license information please see rendition.js.LICENSE.txt */
(()=>{var r,f,_={"2pFd":r=>{"use strict";r.exports=window.adobe_dc_sdk["dc-core"]},"4DGF":(r,f,_)=>{"use strict";_.d(f,{UP:()=>isEdge,_7:()=>isIOS1803,lT:()=>isIE,rZ:()=>isSafari1803});const isEdge=()=>/Edge/.test(navigator.userAgent),isIE=()=>!!document.documentMode,isSafari1803=()=>{const r=navigator.userAgent,f=/Safari/.test(r)&&!/(Chrome|Chromium|Edg)/.test(r),_=r.match(/Version\/(\d+)\.(\d+)/);if(f&&_){const r=parseInt(_[1],10),f=parseInt(_[2],10);return 18===r&&f>=0&&f<=3}return!1},isIOS1803=()=>{const r=navigator.userAgent,f=/iPhone|iPad|iPod/.test(r),_=r.match(/OS (\d+)_(\d+)/);if(f&&_){const r=parseInt(_[1],10),f=parseInt(_[2],10);return 18===r&&f>=0&&f<=3}return!1}},"4eby":(r,f,_)=>{"use strict";_.d(f,{A:()=>L});const S={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let k;const C=new Uint8Array(16);const I=[];for(let r=0;r<256;++r)I.push((r+256).toString(16).slice(1));function unsafeStringify(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(I[r[f+0]]+I[r[f+1]]+I[r[f+2]]+I[r[f+3]]+"-"+I[r[f+4]]+I[r[f+5]]+"-"+I[r[f+6]]+I[r[f+7]]+"-"+I[r[f+8]]+I[r[f+9]]+"-"+I[r[f+10]]+I[r[f+11]]+I[r[f+12]]+I[r[f+13]]+I[r[f+14]]+I[r[f+15]]).toLowerCase()}const L=function v4(r,f,_){var I,L,W,ie;if(S.randomUUID&&!f&&!r)return S.randomUUID();const ne=null!==(I=null!==(L=(r=r||{}).random)&&void 0!==L?L:null===(W=(ie=r).rng)||void 0===W?void 0:W.call(ie))&&void 0!==I?I:function rng(){if(!k){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");k=crypto.getRandomValues.bind(crypto)}return k(C)}();if(ne.length<16)throw new Error("Random bytes length must be >= 16");if(ne[6]=15&ne[6]|64,ne[8]=63&ne[8]|128,f){if((_=_||0)<0||_+16>f.length)throw new RangeError(`UUID byte range ${_}:${_+15} is out of buffer bounds`);for(let r=0;r<16;++r)f[_+r]=ne[r];return f}return unsafeStringify(ne)}},"6Wbc":(r,f,_)=>{"use strict";_.d(f,{Sr:()=>W,Tq:()=>S,UB:()=>I,Un:()=>ie,bE:()=>C,ht:()=>k,iC:()=>L});const S=5,k=Object.freeze({CACHED:0,ACTIVE:1,IDLE:2}),C=new Set([]),I=new Set(["organizeWillBegin","insertPages","insertBlankPage","deletePages","reorderPages","rotatePages","extractPages","organizeDidEnd"]),L=new Set(["isScannedDocument","detectLanguage","getAnnots","extractPageText","detectSignFields"]),W=Object.freeze({INVALID_INTENT:"Intent Is Invalid",FETCH_TOKEN_FAILURE:"Fetch Token Failure",UNKNOWN_ERROR:"Unknown Error"}),ie=10},"6mnL":(r,f,_)=>{"use strict";_.d(f,{A:()=>SecurityHandler});var S=_("sR8A");class SecurityHandler extends S.AcrobatJSSecurityHandler{constructor(r){super(),r.fetchPasswordCallback&&(this.fetchPassword=r.fetchPasswordCallback)}}},GNuk:(r,f,_)=>{"use strict";_.d(f,{v:()=>getQueryParams});const getQueryParams=r=>{const f={};let _,S;const k=(r||window.location.search).substr(1).split("&");if(""!==k)for(_=0;_<k.length;_+=1)S=k[_].split("="),2===S.length&&(f[S[0]]=decodeURIComponent(S[1].replace(/\+/g," ")));return f}},GTUu:(r,f,_)=>{"use strict";_.d(f,{ES:()=>preloadAsset,cb:()=>delay,mg:()=>cloneDeep,nZ:()=>canDoOrganize,pq:()=>shouldUseWasmParts,qT:()=>getVariablesFromQueryParams});var S=_("6Wbc");const cloneDeep=r=>JSON.parse(JSON.stringify(r)),delay=async r=>new Promise(f=>setTimeout(f,r)),getVariablesFromQueryParams=r=>{const f={useDCAPI:{transform:r=>"false"!==r},enableAJSLogging:{transform:r=>"true"===r},useAJSFullBuild:{transform:r=>"true"===r},useProgressiveRendering:{transform:r=>"true"===r},ajsExceptionSupport:{transform:r=>r},ajsSplitWasm:{transform:r=>"true"===r}},_={};return Object.keys(f).forEach(S=>{S in r&&(_[S]=f[S].transform(r[S]))}),_},canDoOrganize=async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={isSupported:!0,reason:{}},{isXFA:_,isPortfolio:k,isEncrypted:C,permissions:I,hasDigitalSignatures:L,hasAcroFormDict:W,hasSignMetadata:ie,hasAcroFormFields:ne}=r;if(_||k||C||L||W){const r=1===((r,f)=>r>>>f&1)(I,S.Un);f.isSupported=!1,_&&(f.reason.isXFA=!0),k&&(f.reason.isPortfolio=!0),C&&(f.reason.isEncrypted=!0,f.reason.isDocumentAssemblyAllowed=r),L&&(f.reason.hasDigitalSignatures=!0,f.reason.isDocumentAssemblyAllowed=r),W&&(f.reason.hasAcroFormDict=!0),ie&&(f.reason.hasSignMetadata=!0),ne&&(f.reason.hasAcroFormFields=!0)}return f},preloadAsset=function(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script";if(document.head.querySelector(`link[href="${r}"][rel="preload"]`))return;const _=document.createElement("link");_.href=r,_.as=f,_.rel="preload",document.head.appendChild(_)},shouldUseWasmParts=()=>{var r,f,_,S;return!(null===(r=window)||void 0===r||null===(f=r.adobe_dc_data)||void 0===f||null===(_=f.data)||void 0===_||null===(S=_.file)||void 0===S||!S.shouldUseWasmParts)}},IM6f:(r,f)=>{"use strict";function withResolvers(){return this.promise=new Promise((r,f)=>{this.resolve=r,this.reject=f}),this}Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,f.polyfillPromise=function polyfillPromise(){Promise.withResolvers||(Promise.withResolvers=Deferred.withResolvers)};class Deferred{constructor(){withResolvers.call(this)}}Deferred.withResolvers=function resolvers(){return withResolvers.call({})};f.default=Deferred},Kq49:(r,f,_)=>{"use strict";_.d(f,{A:()=>AcrobatJSInstanceHandler});var S=_("4eby"),k=_("sR8A"),C=_("plsW"),I=_("ibkQ"),L=_("RbXz");class DoublyLinkedNode{constructor(r){this._value=r,this._previousNode=null,this._nextNode=null}get value(){return this._value}get previousNode(){return this._previousNode}set previousNode(r){this._previousNode=r}get nextNode(){return this._nextNode}set nextNode(r){this._nextNode=r}unlink(){this._previousNode=null,this._nextNode=null}}class DoublyLinkedList{constructor(){this._headNode=null,this._tailNode=null,this._countNodes=0}get headNode(){return this._headNode}get tailNode(){return this._tailNode}nodeCount(){return this._countNodes}append(r){r instanceof DoublyLinkedNode&&(0===this._countNodes?(this._headNode=r,this._tailNode=r):(this._tailNode.nextNode=r,r.previousNode=this._tailNode,this._tailNode=r),this._countNodes+=1)}moveToFront(r){r instanceof DoublyLinkedNode&&this._headNode!==r&&this.remove(r)&&(r.nextNode=this._headNode,this._headNode.previousNode=r,this._headNode=r,this._countNodes+=1)}remove(r){if(!(r instanceof DoublyLinkedNode))return null;if(1===this._countNodes&&this._headNode===r)this._tailNode=null,this._headNode=null;else if(r===this._headNode)this._headNode=this._headNode.nextNode,this._headNode.previousNode=null;else if(r===this._tailNode)this._tailNode=this._tailNode.previousNode,this._tailNode.nextNode=null;else{if(!r.nextNode||!r.previousNode)return null;r.previousNode.nextNode=r.nextNode,r.nextNode.previousNode=r.previousNode}return r.unlink(),this._countNodes-=1,r}front(){return this.isEmpty()?null:this.remove(this._headNode)}isEmpty(){return null===this._headNode}}class AwaitQueue{constructor(){this.addResourceRequest=()=>new Promise(r=>{this._awaitQueue.append(new DoublyLinkedNode(()=>{r()}))}),this.hasPendingRequest=()=>!this._awaitQueue.isEmpty(),this.executeRequest=()=>{if(this.hasPendingRequest()){(0,this._awaitQueue.front().value)()}},this._awaitQueue=new DoublyLinkedList}}var W=_("6Wbc"),ie=_("NHKb");class AcrobatJSInstanceNode{constructor(r){this._state=W.ht.ACTIVE,this._ajsInstance=r,this._ajsInstanceParameters=null,this._editPluginLoaded=!1}get ajsInstance(){return this._ajsInstance}get state(){return this._state}set state(r){this._state=r}get ajsInstanceParameters(){return this._ajsInstanceParameters}set ajsInstanceParameters(r){this._ajsInstanceParameters=r}get editPluginLoaded(){return this._editPluginLoaded}set editPluginLoaded(r){this._editPluginLoaded=r}deactivate(){this._state!==W.ht.CACHED&&(this._ajsInstance.terminate(),this._ajsInstance=null,this._state=W.ht.CACHED)}terminate(){this._ajsInstanceParameters=null,this.deactivate()}}class AcrobatJSInstanceHandler{constructor(r){this.has=r=>this._activeNodeMap.has(r)||this._inactiveNodeMap.has(r),this.activeAcrobatJSInstanceCount=()=>this._activeNodeMap.size,this.isFull=()=>this.activeAcrobatJSInstanceCount()>=this._maxActiveAJSinstanceLimit||this._instanceCreationRequestCount>=this._maxActiveAJSinstanceLimit,this.checkInstanceState=(r,f)=>{if(this.has(r)){return this._getAcrobatJSInstanceNode(r).state===f}return!1},this._getAcrobatJSInstanceNode=r=>this.has(r)?this._activeNodeMap.get(r)||this._inactiveNodeMap.get(r):null,this.getAcrobatJSInstance=r=>{if(this._activeNodeMap.has(r)){const f=this._getAcrobatJSInstanceNode(r);return f.state=W.ht.ACTIVE,f.ajsInstance}return null},this.getAcrobatJSInstanceParameters=r=>{var f;return null===(f=this._getAcrobatJSInstanceNode(r))||void 0===f?void 0:f.ajsInstanceParameters},this._add=(r,f)=>{this.checkInstanceState(r,W.ht.CACHED)&&this.erase(r),this._activeNodeMap.set(r,new AcrobatJSInstanceNode(f)),this._activeNodeMap.size>this._maxActiveAJSinstanceLimit&&(0,I.$s)("Active AcrobatJS instance count exceeds limit")},this.setOpenPDFParameters=(r,f)=>{if(this.has(r)){const _=this._getAcrobatJSInstanceNode(r);_.ajsInstanceParameters={..._.ajsInstanceParameters,openPdfParams:f}}},this._evictAjsInstance=r=>{if(this._getAcrobatJSInstanceNode(r).editPluginLoaded||this.checkInstanceState(r,W.ht.CACHED))return!1;const f=this._getAcrobatJSInstanceNode(r);return this._inactiveNodeMap.set(r,f),this._activeNodeMap.delete(r),f.deactivate(),!0},this.erase=r=>{const f=this._getAcrobatJSInstanceNode(r);f&&(this.checkInstanceState(r,W.ht.CACHED)?this._inactiveNodeMap.delete(r):this._activeNodeMap.delete(r),f.terminate()),this.isFull()||this._workerAwaitQueue.executeRequest(),this._activeNodeMap.size||this._inactiveNodeMap.size||((0,I.$s)("AcrobatJS provider usage stats",{filesOpened:this._filesOpened,instancesCreated:this._instancesCreated}),this._filesOpened=0,this._instancesCreated=0)},this._enableAJSLogging=r.enableAJSLogging,this._useAJSFullBuild=r.useAJSFullBuild,this._exposedAPIs=r.exposedAPIs,this._instanceCreationRequestCount=0,this._activeNodeMap=new Map,this._inactiveNodeMap=new Map,this._workerAwaitQueue=new AwaitQueue,this._filesOpened=0,this._instancesCreated=0,this._maxActiveAJSinstanceLimit=r.maxActiveAJSinstanceLimit||W.Tq}setEditPluginLoaded(r,f){this.has(r)&&(this._getAcrobatJSInstanceNode(r).editPluginLoaded=f)}_onAjsEventForProvider(r,f){if("workerIdle"===f){if(this._getAcrobatJSInstanceNode(r).editPluginLoaded)return;this._getAcrobatJSInstanceNode(r).state=W.ht.IDLE,this._workerAwaitQueue.hasPendingRequest()&&this._evictAjsInstance(r)&&this._workerAwaitQueue.executeRequest()}}_ajsInit(r,f,_){var S=this;return r.subscribe(function(){for(var r=arguments.length,_=new Array(r),k=0;k<r;k++)_[k]=arguments[k];return S._onAjsEventForProvider(f,..._)}),_&&r.subscribe(_),r.init()}_tryEvictingAnIdleInstance(){return Array.from(this._activeNodeMap).some(r=>{let[f,_]=r;return!(_.state!==W.ht.IDLE||!this._evictAjsInstance(f))})}async _getAcrobatJSWorker(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={ajsPath:(0,L.Ey)(),apiTrackingInfo:{enabled:!0,trackList:this._exposedAPIs},enableLogging:this._enableAJSLogging,useFullBuild:this._useAJSFullBuild,hostEnv:C.envUtil.getHostEnv(),enableWasmExceptions:(0,ie.b)(),...r};return new k.AcrobatJS({...f})}async createAcrobatJSInstance(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;this.isFull()&&!this._tryEvictingAnIdleInstance()&&(r.forceEvict?Array.from(this._activeNodeMap).some(r=>{let[f]=r;return this._evictAjsInstance(f)}):await this._workerAwaitQueue.addResourceRequest()),this._instanceCreationRequestCount+=1;const{openPdfParams:_,ajsInstanceParams:k}=r,C=f||(0,S.A)(),L=await this._getAcrobatJSWorker(r.ajsConfig);if(this._add(C,L),this._instanceCreationRequestCount-=1,this._instancesCreated+=1,!f){this._filesOpened+=1;this._getAcrobatJSInstanceNode(C).ajsInstanceParameters={openPdfParams:_,ajsInstanceParams:k}}const W=performance.now();return this._ajsInit(L,C,r.onAjsEvent).then(()=>((0,I.$s)("AcrobatJS instance created",{instanceInitTime:performance.now()-W}),C)).catch(r=>((0,I.$s)("AcrobatJS instance init error: ",r),this.erase(C),Promise.reject(r)))}}},NHKb:(r,f,_)=>{"use strict";_.d(f,{O:()=>preloadSecondaryWasm,b:()=>shouldEnableWasmExceptions});const S=JSON.parse('{"Ad":"wasm_acrobat_we.38933e2069756be3339d72f59cbf56b1.deferred.wasm"}');var k=_("GNuk"),C=_("GTUu"),I=_("RbXz"),L=_("ibkQ"),W=_("4DGF");const shouldEnableWasmExceptions=()=>{const r=(0,k.v)(),f=(0,C.qT)(r);let _=!0;return WebAssembly&&WebAssembly.Exception?f.ajsExceptionSupport&&(_="wasm"===f.ajsExceptionSupport):_=!1,((0,W.rZ)()||(0,W._7)())&&(_=!1),(0,L.SZ)({enableWasmExceptions:_}),_},preloadSecondaryWasm=()=>{const r=S.Ad,f=`${(0,I.Ey)()}build/${r}`;(0,C.ES)(f,"fetch")}},RbXz:(r,f,_)=>{"use strict";_.d(f,{Ey:()=>getAjsPath,Yo:()=>getOriginFromUrl,ip:()=>getScriptSrc});var S=_("zSZc");const getOriginFromUrl=r=>{const f=document.createElement("a");return f.href=r,`${f.protocol}//${f.hostname}${f.port?`:${f.port}`:""}`},getScriptSrc=r=>{const f=[...document.scripts].find(f=>-1!==f.src.indexOf(r));return null==f?void 0:f.src},getAjsPath=()=>{const r=getScriptSrc(S.P4),f=/\/(\d+\.\d+\.\d+(?:-[0-9A-Za-z.-]+)?(?:_[0-9A-Za-z.-]+)?)\/rendition\.js$/.exec(r);let _=r;return _=f?`${r.substring(0,f.index+1)}AJS/`:r?`${r.replace(S.P4,"")}AJS/`:"",_}},UtFC:(r,f,_)=>{"use strict";f.Q=function getSingletonFunction(r,f,_){const C=new S.default;return function getInstance(){for(var S=arguments.length,I=new Array(S),L=0;L<S;L++)I[L]=arguments[L];return C.result||f&&!I.length||(C.result=new r(...I),C.result.ready().then(r=>C.resolve(r),r=>{if(!_||I&&I[0]&&!1===I[0].neverReject)return C.reject(r);!function logWarning(r,f){if(console.warn(r,f),!k&&window.adobe_dc_sdk&&window.adobe_dc_sdk["dc-core"]&&window.adobe_dc_sdk.aliases){const r=window.adobe_dc_sdk["dc-core"](window.adobe_dc_sdk.aliases["dc-core"]).logging;r&&(k=r.getLogger("ProviderUtil"))}k&&k.warn(r,f)}("Non-rejected Promise silently caught",r)})),C.promise}};var S=function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}(_("IM6f"));let k},ibkQ:(r,f,_)=>{"use strict";_.d(f,{$s:()=>logEvent,SZ:()=>addFieldsToCommonLogging,TU:()=>setDocumentId});const S=_("plsW").logging.getLogger("dc-rendition-provider");let k=!1;const C=document.querySelectorAll("meta[name^=adobe_external]");C&&(k=!C[0]||!C[0].content);let I="",L={sessionId:window.dcWebSessionId,userAgent:navigator.userAgent,isAdobeNetworkUser:k};function setDocumentId(r){I=r}function addFieldsToCommonLogging(r){L={...L,...r}}const logEvent=(r,f)=>{S.emit(r,{...f,...L,docSessionId:window.docSessionId,documentId:I})}},plsW:(r,f,_)=>{r.exports=_("2pFd")("o4sN")},sR8A:r=>{(()=>{var f,_,S={7232:function(r,f,_){var S;!function(k,C){"use strict";var I="function",L="undefined",W="object",ie="string",ne="model",oe="name",le="type",ve="vendor",we="version",be="architecture",Pe="console",Ae="mobile",Se="tablet",Re="smarttv",De="wearable",Te="embedded",ke="Amazon",Ce="Apple",Ie="ASUS",je="BlackBerry",Fe="Browser",Ee="Chrome",Ne="Firefox",xe="Google",Oe="Huawei",Me="LG",Ue="Microsoft",qe="Motorola",He="Opera",ze="Samsung",Ge="Sharp",Je="Sony",Ve="Xiaomi",$e="Zebra",Ke="Facebook",U=function(r){for(var f={},_=0;_<r.length;_++)f[r[_].toUpperCase()]=r[_];return f},z=function(r,f){return typeof r===ie&&-1!==H(f).indexOf(H(r))},H=function(r){return r.toLowerCase()},q=function(r,f){if(typeof r===ie)return r=r.replace(/^\s\s*/,""),typeof f===L?r:r.substring(0,350)},V=function(r,f){for(var _,S,k,L,ie,ne,oe=0;oe<f.length&&!ie;){var le=f[oe],ve=f[oe+1];for(_=S=0;_<le.length&&!ie;)if(ie=le[_++].exec(r))for(k=0;k<ve.length;k++)ne=ie[++S],typeof(L=ve[k])===W&&L.length>0?2===L.length?typeof L[1]==I?this[L[0]]=L[1].call(this,ne):this[L[0]]=L[1]:3===L.length?typeof L[1]!==I||L[1].exec&&L[1].test?this[L[0]]=ne?ne.replace(L[1],L[2]):C:this[L[0]]=ne?L[1].call(this,ne,L[2]):C:4===L.length&&(this[L[0]]=ne?L[3].call(this,ne.replace(L[1],L[2])):C):this[L]=ne||C;oe+=2}},G=function(r,f){for(var _ in f)if(typeof f[_]===W&&f[_].length>0){for(var S=0;S<f[_].length;S++)if(z(f[_][S],r))return"?"===_?C:_}else if(z(f[_],r))return"?"===_?C:_;return r},Xe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Qe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[we,[oe,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[we,[oe,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[oe,we],[/opios[\/ ]+([\w\.]+)/i],[we,[oe,He+" Mini"]],[/\bopr\/([\w\.]+)/i],[we,[oe,He]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[oe,we],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[we,[oe,"UC"+Fe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[we,[oe,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[we,[oe,"WeChat"]],[/konqueror\/([\w\.]+)/i],[we,[oe,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[we,[oe,"IE"]],[/yabrowser\/([\w\.]+)/i],[we,[oe,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[oe,/(.+)/,"$1 Secure "+Fe],we],[/\bfocus\/([\w\.]+)/i],[we,[oe,Ne+" Focus"]],[/\bopt\/([\w\.]+)/i],[we,[oe,He+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[we,[oe,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[we,[oe,"Dolphin"]],[/coast\/([\w\.]+)/i],[we,[oe,He+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[we,[oe,"MIUI "+Fe]],[/fxios\/([-\w\.]+)/i],[we,[oe,Ne]],[/\bqihu|(qi?ho?o?|360)browser/i],[[oe,"360 "+Fe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[oe,/(.+)/,"$1 "+Fe],we],[/(comodo_dragon)\/([\w\.]+)/i],[[oe,/_/g," "],we],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[oe,we],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[oe],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[oe,Ke],we],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[oe,we],[/\bgsa\/([\w\.]+) .*safari\//i],[we,[oe,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[we,[oe,Ee+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[oe,Ee+" WebView"],we],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[we,[oe,"Android "+Fe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[oe,we],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[we,[oe,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[we,oe],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[oe,[we,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[oe,we],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[oe,"Netscape"],we],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[we,[oe,Ne+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[oe,we],[/(cobalt)\/([\w\.]+)/i],[oe,[we,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[be,"amd64"]],[/(ia32(?=;))/i],[[be,H]],[/((?:i[346]|x)86)[;\)]/i],[[be,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[be,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[be,"armhf"]],[/windows (ce|mobile); ppc;/i],[[be,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[be,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[be,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[be,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[ne,[ve,ze],[le,Se]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[ne,[ve,ze],[le,Ae]],[/\((ip(?:hone|od)[\w ]*);/i],[ne,[ve,Ce],[le,Ae]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[ne,[ve,Ce],[le,Se]],[/(macintosh);/i],[ne,[ve,Ce]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[ne,[ve,Oe],[le,Se]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[ne,[ve,Oe],[le,Ae]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[ne,/_/g," "],[ve,Ve],[le,Ae]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[ne,/_/g," "],[ve,Ve],[le,Se]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[ne,[ve,"OPPO"],[le,Ae]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[ne,[ve,"Vivo"],[le,Ae]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[ne,[ve,"Realme"],[le,Ae]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[ne,[ve,qe],[le,Ae]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[ne,[ve,qe],[le,Se]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[ne,[ve,Me],[le,Se]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[ne,[ve,Me],[le,Ae]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[ne,[ve,"Lenovo"],[le,Se]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[ne,/_/g," "],[ve,"Nokia"],[le,Ae]],[/(pixel c)\b/i],[ne,[ve,xe],[le,Se]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[ne,[ve,xe],[le,Ae]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[ne,[ve,Je],[le,Ae]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[ne,"Xperia Tablet"],[ve,Je],[le,Se]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[ne,[ve,"OnePlus"],[le,Ae]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[ne,[ve,ke],[le,Se]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[ne,/(.+)/g,"Fire Phone $1"],[ve,ke],[le,Ae]],[/(playbook);[-\w\),; ]+(rim)/i],[ne,ve,[le,Se]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[ne,[ve,je],[le,Ae]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[ne,[ve,Ie],[le,Se]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[ne,[ve,Ie],[le,Ae]],[/(nexus 9)/i],[ne,[ve,"HTC"],[le,Se]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[ve,[ne,/_/g," "],[le,Ae]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[ne,[ve,"Acer"],[le,Se]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[ne,[ve,"Meizu"],[le,Ae]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[ne,[ve,Ge],[le,Ae]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[ve,ne,[le,Ae]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[ve,ne,[le,Se]],[/(surface duo)/i],[ne,[ve,Ue],[le,Se]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[ne,[ve,"Fairphone"],[le,Ae]],[/(u304aa)/i],[ne,[ve,"AT&T"],[le,Ae]],[/\bsie-(\w*)/i],[ne,[ve,"Siemens"],[le,Ae]],[/\b(rct\w+) b/i],[ne,[ve,"RCA"],[le,Se]],[/\b(venue[\d ]{2,7}) b/i],[ne,[ve,"Dell"],[le,Se]],[/\b(q(?:mv|ta)\w+) b/i],[ne,[ve,"Verizon"],[le,Se]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[ne,[ve,"Barnes & Noble"],[le,Se]],[/\b(tm\d{3}\w+) b/i],[ne,[ve,"NuVision"],[le,Se]],[/\b(k88) b/i],[ne,[ve,"ZTE"],[le,Se]],[/\b(nx\d{3}j) b/i],[ne,[ve,"ZTE"],[le,Ae]],[/\b(gen\d{3}) b.+49h/i],[ne,[ve,"Swiss"],[le,Ae]],[/\b(zur\d{3}) b/i],[ne,[ve,"Swiss"],[le,Se]],[/\b((zeki)?tb.*\b) b/i],[ne,[ve,"Zeki"],[le,Se]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[ve,"Dragon Touch"],ne,[le,Se]],[/\b(ns-?\w{0,9}) b/i],[ne,[ve,"Insignia"],[le,Se]],[/\b((nxa|next)-?\w{0,9}) b/i],[ne,[ve,"NextBook"],[le,Se]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[ve,"Voice"],ne,[le,Ae]],[/\b(lvtel\-)?(v1[12]) b/i],[[ve,"LvTel"],ne,[le,Ae]],[/\b(ph-1) /i],[ne,[ve,"Essential"],[le,Ae]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[ne,[ve,"Envizen"],[le,Se]],[/\b(trio[-\w\. ]+) b/i],[ne,[ve,"MachSpeed"],[le,Se]],[/\btu_(1491) b/i],[ne,[ve,"Rotor"],[le,Se]],[/(shield[\w ]+) b/i],[ne,[ve,"Nvidia"],[le,Se]],[/(sprint) (\w+)/i],[ve,ne,[le,Ae]],[/(kin\.[onetw]{3})/i],[[ne,/\./g," "],[ve,Ue],[le,Ae]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[ne,[ve,$e],[le,Se]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[ne,[ve,$e],[le,Ae]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[ve,ne,[le,Pe]],[/droid.+; (shield) bui/i],[ne,[ve,"Nvidia"],[le,Pe]],[/(playstation [345portablevi]+)/i],[ne,[ve,Je],[le,Pe]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[ne,[ve,Ue],[le,Pe]],[/smart-tv.+(samsung)/i],[ve,[le,Re]],[/hbbtv.+maple;(\d+)/i],[[ne,/^/,"SmartTV"],[ve,ze],[le,Re]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[ve,Me],[le,Re]],[/(apple) ?tv/i],[ve,[ne,Ce+" TV"],[le,Re]],[/crkey/i],[[ne,Ee+"cast"],[ve,xe],[le,Re]],[/droid.+aft(\w)( bui|\))/i],[ne,[ve,ke],[le,Re]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[ne,[ve,Ge],[le,Re]],[/(bravia[\w ]+)( bui|\))/i],[ne,[ve,Je],[le,Re]],[/(mitv-\w{5}) bui/i],[ne,[ve,Ve],[le,Re]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[ve,q],[ne,q],[le,Re]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[le,Re]],[/((pebble))app/i],[ve,ne,[le,De]],[/droid.+; (glass) \d/i],[ne,[ve,xe],[le,De]],[/droid.+; (wt63?0{2,3})\)/i],[ne,[ve,$e],[le,De]],[/(quest( 2)?)/i],[ne,[ve,Ke],[le,De]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[ve,[le,Te]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[ne,[le,Ae]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[ne,[le,Se]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[le,Se]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[le,Ae]],[/(android[-\w\. ]{0,9});.+buil/i],[ne,[ve,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[we,[oe,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[we,[oe,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[oe,we],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[we,oe]],os:[[/microsoft (windows) (vista|xp)/i],[oe,we],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[oe,[we,G,Xe]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[oe,"Windows"],[we,G,Xe]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[we,/_/g,"."],[oe,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[oe,"Mac OS"],[we,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[we,oe],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[oe,we],[/\(bb(10);/i],[we,[oe,je]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[we,[oe,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[we,[oe,Ne+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[we,[oe,"webOS"]],[/crkey\/([\d\.]+)/i],[we,[oe,Ee+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[oe,"Chromium OS"],we],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[oe,we],[/(sunos) ?([\w\.\d]*)/i],[[oe,"Solaris"],we],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[oe,we]]},K=function(r,f){if(typeof r===W&&(f=r,r=C),!(this instanceof K))return new K(r,f).getResult();var _=r||(typeof k!==L&&k.navigator&&k.navigator.userAgent?k.navigator.userAgent:""),S=f?function(r,f){var _={};for(var S in r)f[S]&&f[S].length%2==0?_[S]=f[S].concat(r[S]):_[S]=r[S];return _}(Qe,f):Qe;return this.getBrowser=function(){var r,f={};return f[oe]=C,f[we]=C,V.call(f,_,S.browser),f.major=typeof(r=f.version)===ie?r.replace(/[^\d\.]/g,"").split(".")[0]:C,f},this.getCPU=function(){var r={};return r[be]=C,V.call(r,_,S.cpu),r},this.getDevice=function(){var r={};return r[ve]=C,r[ne]=C,r[le]=C,V.call(r,_,S.device),r},this.getEngine=function(){var r={};return r[oe]=C,r[we]=C,V.call(r,_,S.engine),r},this.getOS=function(){var r={};return r[oe]=C,r[we]=C,V.call(r,_,S.os),r},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return _},this.setUA=function(r){return _=typeof r===ie&&r.length>350?q(r,350):r,this},this.setUA(_),this};K.VERSION="1.0.33",K.BROWSER=U([oe,we,"major"]),K.CPU=U([be]),K.DEVICE=U([ne,ve,le,Pe,Ae,Re,Se,De,Te]),K.ENGINE=K.OS=U([oe,we]),typeof f!==L?(r.exports&&(f=r.exports=K),f.UAParser=K):_.amdO?(S=function(){return K}.call(f,_,f,r))===C||(r.exports=S):typeof k!==L&&(k.UAParser=K);var Ze=typeof k!==L&&(k.jQuery||k.Zepto);if(Ze&&!Ze.ua){var Ye=new K;Ze.ua=Ye.getResult(),Ze.ua.get=function(){return Ye.getUA()},Ze.ua.set=function(r){Ye.setUA(r);var f=Ye.getResult();for(var _ in f)Ze.ua[_]=f[_]}}}("object"==typeof window?window:this)},9306:(r,f,_)=>{"use strict";var S=_(4901),k=_(6823),C=TypeError;r.exports=function(r){if(S(r))return r;throw new C(k(r)+" is not a function")}},5548:(r,f,_)=>{"use strict";var S=_(3517),k=_(6823),C=TypeError;r.exports=function(r){if(S(r))return r;throw new C(k(r)+" is not a constructor")}},3506:(r,f,_)=>{"use strict";var S=_(3925),k=String,C=TypeError;r.exports=function(r){if(S(r))return r;throw new C("Can't set "+k(r)+" as a prototype")}},6469:(r,f,_)=>{"use strict";var S=_(8227),k=_(2360),C=_(4913).f,I=S("unscopables"),L=Array.prototype;void 0===L[I]&&C(L,I,{configurable:!0,value:k(null)}),r.exports=function(r){L[I][r]=!0}},7829:(r,f,_)=>{"use strict";var S=_(8183).charAt;r.exports=function(r,f,_){return f+(_?S(r,f).length:1)}},679:(r,f,_)=>{"use strict";var S=_(1625),k=TypeError;r.exports=function(r,f){if(S(f,r))return r;throw new k("Incorrect invocation")}},8551:(r,f,_)=>{"use strict";var S=_(34),k=String,C=TypeError;r.exports=function(r){if(S(r))return r;throw new C(k(r)+" is not an object")}},7811:r=>{"use strict";r.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4644:(r,f,_)=>{"use strict";var S,k,C,I=_(7811),L=_(3724),W=_(4576),ie=_(4901),ne=_(34),oe=_(9297),le=_(6955),ve=_(6823),we=_(6699),be=_(6840),Pe=_(2106),Ae=_(1625),Se=_(2787),Re=_(2967),De=_(8227),Te=_(3392),ke=_(1181),Ce=ke.enforce,Ie=ke.get,je=W.Int8Array,Fe=je&&je.prototype,Ee=W.Uint8ClampedArray,Ne=Ee&&Ee.prototype,xe=je&&Se(je),Oe=Fe&&Se(Fe),Me=Object.prototype,Ue=W.TypeError,qe=De("toStringTag"),He=Te("TYPED_ARRAY_TAG"),ze="TypedArrayConstructor",Ge=I&&!!Re&&"Opera"!==le(W.opera),Je=!1,Ve={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$e={BigInt64Array:8,BigUint64Array:8},B=function(r){var f=Se(r);if(ne(f)){var _=Ie(f);return _&&oe(_,ze)?_[ze]:B(f)}},U=function(r){if(!ne(r))return!1;var f=le(r);return oe(Ve,f)||oe($e,f)};for(S in Ve)(C=(k=W[S])&&k.prototype)?Ce(C)[ze]=k:Ge=!1;for(S in $e)(C=(k=W[S])&&k.prototype)&&(Ce(C)[ze]=k);if((!Ge||!ie(xe)||xe===Function.prototype)&&(xe=function(){throw new Ue("Incorrect invocation")},Ge))for(S in Ve)W[S]&&Re(W[S],xe);if((!Ge||!Oe||Oe===Me)&&(Oe=xe.prototype,Ge))for(S in Ve)W[S]&&Re(W[S].prototype,Oe);if(Ge&&Se(Ne)!==Oe&&Re(Ne,Oe),L&&!oe(Oe,qe))for(S in Je=!0,Pe(Oe,qe,{configurable:!0,get:function(){return ne(this)?this[He]:void 0}}),Ve)W[S]&&we(W[S],He,S);r.exports={NATIVE_ARRAY_BUFFER_VIEWS:Ge,TYPED_ARRAY_TAG:Je&&He,aTypedArray:function(r){if(U(r))return r;throw new Ue("Target is not a typed array")},aTypedArrayConstructor:function(r){if(ie(r)&&(!Re||Ae(xe,r)))return r;throw new Ue(ve(r)+" is not a typed array constructor")},exportTypedArrayMethod:function(r,f,_,S){if(L){if(_)for(var k in Ve){var C=W[k];if(C&&oe(C.prototype,r))try{delete C.prototype[r]}catch(_){try{C.prototype[r]=f}catch(r){}}}Oe[r]&&!_||be(Oe,r,_?f:Ge&&Fe[r]||f,S)}},exportTypedArrayStaticMethod:function(r,f,_){var S,k;if(L){if(Re){if(_)for(S in Ve)if((k=W[S])&&oe(k,r))try{delete k[r]}catch(r){}if(xe[r]&&!_)return;try{return be(xe,r,_?f:Ge&&xe[r]||f)}catch(r){}}for(S in Ve)!(k=W[S])||k[r]&&!_||be(k,r,f)}},getTypedArrayConstructor:B,isView:function(r){if(!ne(r))return!1;var f=le(r);return"DataView"===f||oe(Ve,f)||oe($e,f)},isTypedArray:U,TypedArray:xe,TypedArrayPrototype:Oe}},6346:(r,f,_)=>{"use strict";var S=_(4576),k=_(9504),C=_(3724),I=_(7811),L=_(350),W=_(6699),ie=_(2106),ne=_(6279),oe=_(9039),le=_(679),ve=_(1291),we=_(8014),be=_(7696),Pe=_(5617),Ae=_(8490),Se=_(2787),Re=_(2967),De=_(4373),Te=_(7680),ke=_(3167),Ce=_(7740),Ie=_(687),je=_(1181),Fe=L.PROPER,Ee=L.CONFIGURABLE,Ne="ArrayBuffer",xe="DataView",Oe="prototype",Me="Wrong index",Ue=je.getterFor(Ne),qe=je.getterFor(xe),He=je.set,ze=S[Ne],Ge=ze,Je=Ge&&Ge[Oe],Ve=S[xe],$e=Ve&&Ve[Oe],Ke=Object.prototype,Xe=S.Array,Qe=S.RangeError,Ze=k(De),Ye=k([].reverse),et=Ae.pack,tt=Ae.unpack,J=function(r){return[255&r]},X=function(r){return[255&r,r>>8&255]},K=function(r){return[255&r,r>>8&255,r>>16&255,r>>24&255]},Y=function(r){return r[3]<<24|r[2]<<16|r[1]<<8|r[0]},$=function(r){return et(Pe(r),23,4)},Q=function(r){return et(r,52,8)},Z=function(r,f,_){ie(r[Oe],f,{configurable:!0,get:function(){return _(this)[f]}})},ee=function(r,f,_,S){var k=qe(r),C=be(_),I=!!S;if(C+f>k.byteLength)throw new Qe(Me);var L=k.bytes,W=C+k.byteOffset,ie=Te(L,W,W+f);return I?ie:Ye(ie)},te=function(r,f,_,S,k,C){var I=qe(r),L=be(_),W=S(+k),ie=!!C;if(L+f>I.byteLength)throw new Qe(Me);for(var ne=I.bytes,oe=L+I.byteOffset,le=0;le<f;le++)ne[oe+le]=W[ie?le:f-le-1]};if(I){var rt=Fe&&ze.name!==Ne;oe(function(){ze(1)})&&oe(function(){new ze(-1)})&&!oe(function(){return new ze,new ze(1.5),new ze(NaN),1!==ze.length||rt&&!Ee})?rt&&Ee&&W(ze,"name",Ne):((Ge=function(r){return le(this,Je),ke(new ze(be(r)),this,Ge)})[Oe]=Je,Je.constructor=Ge,Ce(Ge,ze)),Re&&Se($e)!==Ke&&Re($e,Ke);var it=new Ve(new Ge(2)),nt=k($e.setInt8);it.setInt8(0,2147483648),it.setInt8(1,2147483649),!it.getInt8(0)&&it.getInt8(1)||ne($e,{setInt8:function(r,f){nt(this,r,f<<24>>24)},setUint8:function(r,f){nt(this,r,f<<24>>24)}},{unsafe:!0})}else Je=(Ge=function(r){le(this,Je);var f=be(r);He(this,{type:Ne,bytes:Ze(Xe(f),0),byteLength:f}),C||(this.byteLength=f,this.detached=!1)})[Oe],$e=(Ve=function(r,f,_){le(this,$e),le(r,Je);var S=Ue(r),k=S.byteLength,I=ve(f);if(I<0||I>k)throw new Qe("Wrong offset");if(I+(_=void 0===_?k-I:we(_))>k)throw new Qe("Wrong length");He(this,{type:xe,buffer:r,byteLength:_,byteOffset:I,bytes:S.bytes}),C||(this.buffer=r,this.byteLength=_,this.byteOffset=I)})[Oe],C&&(Z(Ge,"byteLength",Ue),Z(Ve,"buffer",qe),Z(Ve,"byteLength",qe),Z(Ve,"byteOffset",qe)),ne($e,{getInt8:function(r){return ee(this,1,r)[0]<<24>>24},getUint8:function(r){return ee(this,1,r)[0]},getInt16:function(r){var f=ee(this,2,r,arguments.length>1&&arguments[1]);return(f[1]<<8|f[0])<<16>>16},getUint16:function(r){var f=ee(this,2,r,arguments.length>1&&arguments[1]);return f[1]<<8|f[0]},getInt32:function(r){return Y(ee(this,4,r,arguments.length>1&&arguments[1]))},getUint32:function(r){return Y(ee(this,4,r,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(r){return tt(ee(this,4,r,arguments.length>1&&arguments[1]),23)},getFloat64:function(r){return tt(ee(this,8,r,arguments.length>1&&arguments[1]),52)},setInt8:function(r,f){te(this,1,r,J,f)},setUint8:function(r,f){te(this,1,r,J,f)},setInt16:function(r,f){te(this,2,r,X,f,arguments.length>2&&arguments[2])},setUint16:function(r,f){te(this,2,r,X,f,arguments.length>2&&arguments[2])},setInt32:function(r,f){te(this,4,r,K,f,arguments.length>2&&arguments[2])},setUint32:function(r,f){te(this,4,r,K,f,arguments.length>2&&arguments[2])},setFloat32:function(r,f){te(this,4,r,$,f,arguments.length>2&&arguments[2])},setFloat64:function(r,f){te(this,8,r,Q,f,arguments.length>2&&arguments[2])}});Ie(Ge,Ne),Ie(Ve,xe),r.exports={ArrayBuffer:Ge,DataView:Ve}},4373:(r,f,_)=>{"use strict";var S=_(8981),k=_(5610),C=_(6198);r.exports=function(r){for(var f=S(this),_=C(f),I=arguments.length,L=k(I>1?arguments[1]:void 0,_),W=I>2?arguments[2]:void 0,ie=void 0===W?_:k(W,_);ie>L;)f[L++]=r;return f}},5370:(r,f,_)=>{"use strict";var S=_(6198);r.exports=function(r,f,_){for(var k=0,C=arguments.length>2?_:S(f),I=new r(C);C>k;)I[k]=f[k++];return I}},7916:(r,f,_)=>{"use strict";var S=_(6080),k=_(9565),C=_(8981),I=_(6319),L=_(4209),W=_(3517),ie=_(6198),ne=_(4659),oe=_(81),le=_(851),ve=Array;r.exports=function(r){var f=C(r),_=W(this),we=arguments.length,be=we>1?arguments[1]:void 0,Pe=void 0!==be;Pe&&(be=S(be,we>2?arguments[2]:void 0));var Ae,Se,Re,De,Te,ke,Ce=le(f),Ie=0;if(!Ce||this===ve&&L(Ce))for(Ae=ie(f),Se=_?new this(Ae):ve(Ae);Ae>Ie;Ie++)ke=Pe?be(f[Ie],Ie):f[Ie],ne(Se,Ie,ke);else for(Se=_?new this:[],Te=(De=oe(f,Ce)).next;!(Re=k(Te,De)).done;Ie++)ke=Pe?I(De,be,[Re.value,Ie],!0):Re.value,ne(Se,Ie,ke);return Se.length=Ie,Se}},9617:(r,f,_)=>{"use strict";var S=_(5397),k=_(5610),C=_(6198),s=function(r){return function(f,_,I){var L=S(f),W=C(L);if(0===W)return!r&&-1;var ie,ne=k(I,W);if(r&&_!=_){for(;W>ne;)if((ie=L[ne++])!=ie)return!0}else for(;W>ne;ne++)if((r||ne in L)&&L[ne]===_)return r||ne||0;return!r&&-1}};r.exports={includes:s(!0),indexOf:s(!1)}},3839:(r,f,_)=>{"use strict";var S=_(6080),k=_(7055),C=_(8981),I=_(6198),a=function(r){var f=1===r;return function(_,L,W){for(var ie,ne=C(_),oe=k(ne),le=I(oe),ve=S(L,W);le-- >0;)if(ve(ie=oe[le],le,ne))switch(r){case 0:return ie;case 1:return le}return f?-1:void 0}};r.exports={findLast:a(0),findLastIndex:a(1)}},9213:(r,f,_)=>{"use strict";var S=_(6080),k=_(9504),C=_(7055),I=_(8981),L=_(6198),W=_(1469),ie=k([].push),l=function(r){var f=1===r,_=2===r,k=3===r,ne=4===r,oe=6===r,le=7===r,ve=5===r||oe;return function(we,be,Pe,Ae){for(var Se,Re,De=I(we),Te=C(De),ke=L(Te),Ce=S(be,Pe),Ie=0,je=Ae||W,Fe=f?je(we,ke):_||le?je(we,0):void 0;ke>Ie;Ie++)if((ve||Ie in Te)&&(Re=Ce(Se=Te[Ie],Ie,De),r))if(f)Fe[Ie]=Re;else if(Re)switch(r){case 3:return!0;case 5:return Se;case 6:return Ie;case 2:ie(Fe,Se)}else switch(r){case 4:return!1;case 7:ie(Fe,Se)}return oe?-1:k||ne?ne:Fe}};r.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},4598:(r,f,_)=>{"use strict";var S=_(9039);r.exports=function(r,f){var _=[][r];return!!_&&S(function(){_.call(null,f||function(){return 1},1)})}},7680:(r,f,_)=>{"use strict";var S=_(9504);r.exports=S([].slice)},4488:(r,f,_)=>{"use strict";var S=_(7680),k=Math.floor,o=function(r,f){var _=r.length;if(_<8)for(var C,I,L=1;L<_;){for(I=L,C=r[L];I&&f(r[I-1],C)>0;)r[I]=r[--I];I!==L++&&(r[I]=C)}else for(var W=k(_/2),ie=o(S(r,0,W),f),ne=o(S(r,W),f),oe=ie.length,le=ne.length,ve=0,we=0;ve<oe||we<le;)r[ve+we]=ve<oe&&we<le?f(ie[ve],ne[we])<=0?ie[ve++]:ne[we++]:ve<oe?ie[ve++]:ne[we++];return r};r.exports=o},7433:(r,f,_)=>{"use strict";var S=_(4376),k=_(3517),C=_(34),I=_(8227)("species"),L=Array;r.exports=function(r){var f;return S(r)&&(f=r.constructor,(k(f)&&(f===L||S(f.prototype))||C(f)&&null===(f=f[I]))&&(f=void 0)),void 0===f?L:f}},1469:(r,f,_)=>{"use strict";var S=_(7433);r.exports=function(r,f){return new(S(r))(0===f?0:f)}},6319:(r,f,_)=>{"use strict";var S=_(8551),k=_(9539);r.exports=function(r,f,_,C){try{return C?f(S(_)[0],_[1]):f(_)}catch(f){k(r,"throw",f)}}},4428:(r,f,_)=>{"use strict";var S=_(8227)("iterator"),k=!1;try{var C=0,I={next:function(){return{done:!!C++}},return:function(){k=!0}};I[S]=function(){return this},Array.from(I,function(){throw 2})}catch(r){}r.exports=function(r,f){try{if(!f&&!k)return!1}catch(r){return!1}var _=!1;try{var C={};C[S]=function(){return{next:function(){return{done:_=!0}}}},r(C)}catch(r){}return _}},2195:(r,f,_)=>{"use strict";var S=_(9504),k=S({}.toString),C=S("".slice);r.exports=function(r){return C(k(r),8,-1)}},6955:(r,f,_)=>{"use strict";var S=_(2140),k=_(4901),C=_(2195),I=_(8227)("toStringTag"),L=Object,W="Arguments"===C(function(){return arguments}());r.exports=S?C:function(r){var f,_,S;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(_=function(r,f){try{return r[f]}catch(r){}}(f=L(r),I))?_:W?C(f):"Object"===(S=C(f))&&k(f.callee)?"Arguments":S}},7740:(r,f,_)=>{"use strict";var S=_(9297),k=_(5031),C=_(7347),I=_(4913);r.exports=function(r,f,_){for(var L=k(f),W=I.f,ie=C.f,ne=0;ne<L.length;ne++){var oe=L[ne];S(r,oe)||_&&S(_,oe)||W(r,oe,ie(f,oe))}}},2211:(r,f,_)=>{"use strict";var S=_(9039);r.exports=!S(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},2529:r=>{"use strict";r.exports=function(r,f){return{value:r,done:f}}},6699:(r,f,_)=>{"use strict";var S=_(3724),k=_(4913),C=_(6980);r.exports=S?function(r,f,_){return k.f(r,f,C(1,_))}:function(r,f,_){return r[f]=_,r}},6980:r=>{"use strict";r.exports=function(r,f){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:f}}},4659:(r,f,_)=>{"use strict";var S=_(3724),k=_(4913),C=_(6980);r.exports=function(r,f,_){S?k.f(r,f,C(0,_)):r[f]=_}},2106:(r,f,_)=>{"use strict";var S=_(283),k=_(4913);r.exports=function(r,f,_){return _.get&&S(_.get,f,{getter:!0}),_.set&&S(_.set,f,{setter:!0}),k.f(r,f,_)}},6840:(r,f,_)=>{"use strict";var S=_(4901),k=_(4913),C=_(283),I=_(9433);r.exports=function(r,f,_,L){L||(L={});var W=L.enumerable,ie=void 0!==L.name?L.name:f;if(S(_)&&C(_,ie,L),L.global)W?r[f]=_:I(f,_);else{try{L.unsafe?r[f]&&(W=!0):delete r[f]}catch(r){}W?r[f]=_:k.f(r,f,{value:_,enumerable:!1,configurable:!L.nonConfigurable,writable:!L.nonWritable})}return r}},6279:(r,f,_)=>{"use strict";var S=_(6840);r.exports=function(r,f,_){for(var k in f)S(r,k,f[k],_);return r}},9433:(r,f,_)=>{"use strict";var S=_(4576),k=Object.defineProperty;r.exports=function(r,f){try{k(S,r,{value:f,configurable:!0,writable:!0})}catch(_){S[r]=f}return f}},4606:(r,f,_)=>{"use strict";var S=_(6823),k=TypeError;r.exports=function(r,f){if(!delete r[f])throw new k("Cannot delete property "+S(f)+" of "+S(r))}},3724:(r,f,_)=>{"use strict";var S=_(9039);r.exports=!S(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:(r,f,_)=>{"use strict";var S=_(4576),k=_(34),C=S.document,I=k(C)&&k(C.createElement);r.exports=function(r){return I?C.createElement(r):{}}},7400:r=>{"use strict";r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:(r,f,_)=>{"use strict";var S=_(4055)("span").classList,k=S&&S.constructor&&S.constructor.prototype;r.exports=k===Object.prototype?void 0:k},8727:r=>{"use strict";r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:(r,f,_)=>{"use strict";var S=_(2839).match(/firefox\/(\d+)/i);r.exports=!!S&&+S[1]},3763:(r,f,_)=>{"use strict";var S=_(2839);r.exports=/MSIE|Trident/.test(S)},2839:(r,f,_)=>{"use strict";var S=_(4576).navigator,k=S&&S.userAgent;r.exports=k?String(k):""},9519:(r,f,_)=>{"use strict";var S,k,C=_(4576),I=_(2839),L=C.process,W=C.Deno,ie=L&&L.versions||W&&W.version,ne=ie&&ie.v8;ne&&(k=(S=ne.split("."))[0]>0&&S[0]<4?1:+(S[0]+S[1])),!k&&I&&(!(S=I.match(/Edge\/(\d+)/))||S[1]>=74)&&(S=I.match(/Chrome\/(\d+)/))&&(k=+S[1]),r.exports=k},3607:(r,f,_)=>{"use strict";var S=_(2839).match(/AppleWebKit\/(\d+)\./);r.exports=!!S&&+S[1]},4215:(r,f,_)=>{"use strict";var S=_(4576),k=_(2839),C=_(2195),s=function(r){return k.slice(0,r.length)===r};r.exports=s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":S.Bun&&"string"==typeof Bun.version?"BUN":S.Deno&&"object"==typeof Deno.version?"DENO":"process"===C(S.process)?"NODE":S.window&&S.document?"BROWSER":"REST"},6518:(r,f,_)=>{"use strict";var S=_(4576),k=_(7347).f,C=_(6699),I=_(6840),L=_(9433),W=_(7740),ie=_(2796);r.exports=function(r,f){var _,ne,oe,le,ve,we=r.target,be=r.global,Pe=r.stat;if(_=be?S:Pe?S[we]||L(we,{}):S[we]&&S[we].prototype)for(ne in f){if(le=f[ne],oe=r.dontCallGetSet?(ve=k(_,ne))&&ve.value:_[ne],!ie(be?ne:we+(Pe?".":"#")+ne,r.forced)&&void 0!==oe){if(typeof le==typeof oe)continue;W(le,oe)}(r.sham||oe&&oe.sham)&&C(le,"sham",!0),I(_,ne,le,r)}}},9039:r=>{"use strict";r.exports=function(r){try{return!!r()}catch(r){return!0}}},9228:(r,f,_)=>{"use strict";_(7495);var S=_(9565),k=_(6840),C=_(7323),I=_(9039),L=_(8227),W=_(6699),ie=L("species"),ne=RegExp.prototype;r.exports=function(r,f,_,oe){var le=L(r),ve=!I(function(){var f={};return f[le]=function(){return 7},7!==""[r](f)}),we=ve&&!I(function(){var f=!1,_=/a/;return"split"===r&&((_={}).constructor={},_.constructor[ie]=function(){return _},_.flags="",_[le]=/./[le]),_.exec=function(){return f=!0,null},_[le](""),!f});if(!ve||!we||_){var be=/./[le],Pe=f(le,""[r],function(r,f,_,k,I){var L=f.exec;return L===C||L===ne.exec?ve&&!I?{done:!0,value:S(be,f,_,k)}:{done:!0,value:S(r,_,f,k)}:{done:!1}});k(String.prototype,r,Pe[0]),k(ne,le,Pe[1])}oe&&W(ne[le],"sham",!0)}},8745:(r,f,_)=>{"use strict";var S=_(616),k=Function.prototype,C=k.apply,I=k.call;r.exports="object"==typeof Reflect&&Reflect.apply||(S?I.bind(C):function(){return I.apply(C,arguments)})},6080:(r,f,_)=>{"use strict";var S=_(7476),k=_(9306),C=_(616),I=S(S.bind);r.exports=function(r,f){return k(r),void 0===f?r:C?I(r,f):function(){return r.apply(f,arguments)}}},616:(r,f,_)=>{"use strict";var S=_(9039);r.exports=!S(function(){var r=function(){}.bind();return"function"!=typeof r||r.hasOwnProperty("prototype")})},9565:(r,f,_)=>{"use strict";var S=_(616),k=Function.prototype.call;r.exports=S?k.bind(k):function(){return k.apply(k,arguments)}},350:(r,f,_)=>{"use strict";var S=_(3724),k=_(9297),C=Function.prototype,I=S&&Object.getOwnPropertyDescriptor,L=k(C,"name"),W=L&&"something"===function(){}.name,ie=L&&(!S||S&&I(C,"name").configurable);r.exports={EXISTS:L,PROPER:W,CONFIGURABLE:ie}},6706:(r,f,_)=>{"use strict";var S=_(9504),k=_(9306);r.exports=function(r,f,_){try{return S(k(Object.getOwnPropertyDescriptor(r,f)[_]))}catch(r){}}},7476:(r,f,_)=>{"use strict";var S=_(2195),k=_(9504);r.exports=function(r){if("Function"===S(r))return k(r)}},9504:(r,f,_)=>{"use strict";var S=_(616),k=Function.prototype,C=k.call,I=S&&k.bind.bind(C,C);r.exports=S?I:function(r){return function(){return C.apply(r,arguments)}}},7751:(r,f,_)=>{"use strict";var S=_(4576),k=_(4901);r.exports=function(r,f){return arguments.length<2?(_=S[r],k(_)?_:void 0):S[r]&&S[r][f];var _}},851:(r,f,_)=>{"use strict";var S=_(6955),k=_(5966),C=_(4117),I=_(6269),L=_(8227)("iterator");r.exports=function(r){if(!C(r))return k(r,L)||k(r,"@@iterator")||I[S(r)]}},81:(r,f,_)=>{"use strict";var S=_(9565),k=_(9306),C=_(8551),I=_(6823),L=_(851),W=TypeError;r.exports=function(r,f){var _=arguments.length<2?L(r):f;if(k(_))return C(S(_,r));throw new W(I(r)+" is not iterable")}},6933:(r,f,_)=>{"use strict";var S=_(9504),k=_(4376),C=_(4901),I=_(2195),L=_(655),W=S([].push);r.exports=function(r){if(C(r))return r;if(k(r)){for(var f=r.length,_=[],S=0;S<f;S++){var ie=r[S];"string"==typeof ie?W(_,ie):"number"!=typeof ie&&"Number"!==I(ie)&&"String"!==I(ie)||W(_,L(ie))}var ne=_.length,oe=!0;return function(r,f){if(oe)return oe=!1,f;if(k(this))return f;for(var S=0;S<ne;S++)if(_[S]===r)return f}}}},5966:(r,f,_)=>{"use strict";var S=_(9306),k=_(4117);r.exports=function(r,f){var _=r[f];return k(_)?void 0:S(_)}},2478:(r,f,_)=>{"use strict";var S=_(9504),k=_(8981),C=Math.floor,I=S("".charAt),L=S("".replace),W=S("".slice),ie=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ne=/\$([$&'`]|\d{1,2})/g;r.exports=function(r,f,_,S,oe,le){var ve=_+r.length,we=S.length,be=ne;return void 0!==oe&&(oe=k(oe),be=ie),L(le,be,function(k,L){var ie;switch(I(L,0)){case"$":return"$";case"&":return r;case"`":return W(f,0,_);case"'":return W(f,ve);case"<":ie=oe[W(L,1,-1)];break;default:var ne=+L;if(0===ne)return k;if(ne>we){var le=C(ne/10);return 0===le?k:le<=we?void 0===S[le-1]?I(L,1):S[le-1]+I(L,1):k}ie=S[ne-1]}return void 0===ie?"":ie})}},4576:function(r,f,_){"use strict";var n=function(r){return r&&r.Math===Math&&r};r.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof _.g&&_.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:(r,f,_)=>{"use strict";var S=_(9504),k=_(8981),C=S({}.hasOwnProperty);r.exports=Object.hasOwn||function(r,f){return C(k(r),f)}},421:r=>{"use strict";r.exports={}},397:(r,f,_)=>{"use strict";var S=_(7751);r.exports=S("document","documentElement")},5917:(r,f,_)=>{"use strict";var S=_(3724),k=_(9039),C=_(4055);r.exports=!S&&!k(function(){return 7!==Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a})},8490:r=>{"use strict";var f=Array,_=Math.abs,S=Math.pow,k=Math.floor,C=Math.log,I=Math.LN2;r.exports={pack:function(r,L,W){var ie,ne,oe,le=f(W),ve=8*W-L-1,we=(1<<ve)-1,be=we>>1,Pe=23===L?S(2,-24)-S(2,-77):0,Ae=r<0||0===r&&1/r<0?1:0,Se=0;for((r=_(r))!=r||r===1/0?(ne=r!=r?1:0,ie=we):(ie=k(C(r)/I),r*(oe=S(2,-ie))<1&&(ie--,oe*=2),(r+=ie+be>=1?Pe/oe:Pe*S(2,1-be))*oe>=2&&(ie++,oe/=2),ie+be>=we?(ne=0,ie=we):ie+be>=1?(ne=(r*oe-1)*S(2,L),ie+=be):(ne=r*S(2,be-1)*S(2,L),ie=0));L>=8;)le[Se++]=255&ne,ne/=256,L-=8;for(ie=ie<<L|ne,ve+=L;ve>0;)le[Se++]=255&ie,ie/=256,ve-=8;return le[Se-1]|=128*Ae,le},unpack:function(r,f){var _,k=r.length,C=8*k-f-1,I=(1<<C)-1,L=I>>1,W=C-7,ie=k-1,ne=r[ie--],oe=127&ne;for(ne>>=7;W>0;)oe=256*oe+r[ie--],W-=8;for(_=oe&(1<<-W)-1,oe>>=-W,W+=f;W>0;)_=256*_+r[ie--],W-=8;if(0===oe)oe=1-L;else{if(oe===I)return _?NaN:ne?-1/0:1/0;_+=S(2,f),oe-=L}return(ne?-1:1)*_*S(2,oe-f)}}},7055:(r,f,_)=>{"use strict";var S=_(9504),k=_(9039),C=_(2195),I=Object,L=S("".split);r.exports=k(function(){return!I("z").propertyIsEnumerable(0)})?function(r){return"String"===C(r)?L(r,""):I(r)}:I},3167:(r,f,_)=>{"use strict";var S=_(4901),k=_(34),C=_(2967);r.exports=function(r,f,_){var I,L;return C&&S(I=f.constructor)&&I!==_&&k(L=I.prototype)&&L!==_.prototype&&C(r,L),r}},3706:(r,f,_)=>{"use strict";var S=_(9504),k=_(4901),C=_(7629),I=S(Function.toString);k(C.inspectSource)||(C.inspectSource=function(r){return I(r)}),r.exports=C.inspectSource},1181:(r,f,_)=>{"use strict";var S,k,C,I=_(8622),L=_(4576),W=_(34),ie=_(6699),ne=_(9297),oe=_(7629),le=_(6119),ve=_(421),we="Object already initialized",be=L.TypeError,Pe=L.WeakMap;if(I||oe.state){var Ae=oe.state||(oe.state=new Pe);Ae.get=Ae.get,Ae.has=Ae.has,Ae.set=Ae.set,S=function(r,f){if(Ae.has(r))throw new be(we);return f.facade=r,Ae.set(r,f),f},k=function(r){return Ae.get(r)||{}},C=function(r){return Ae.has(r)}}else{var Se=le("state");ve[Se]=!0,S=function(r,f){if(ne(r,Se))throw new be(we);return f.facade=r,ie(r,Se,f),f},k=function(r){return ne(r,Se)?r[Se]:{}},C=function(r){return ne(r,Se)}}r.exports={set:S,get:k,has:C,enforce:function(r){return C(r)?k(r):S(r,{})},getterFor:function(r){return function(f){var _;if(!W(f)||(_=k(f)).type!==r)throw new be("Incompatible receiver, "+r+" required");return _}}}},4209:(r,f,_)=>{"use strict";var S=_(8227),k=_(6269),C=S("iterator"),I=Array.prototype;r.exports=function(r){return void 0!==r&&(k.Array===r||I[C]===r)}},4376:(r,f,_)=>{"use strict";var S=_(2195);r.exports=Array.isArray||function(r){return"Array"===S(r)}},1108:(r,f,_)=>{"use strict";var S=_(6955);r.exports=function(r){var f=S(r);return"BigInt64Array"===f||"BigUint64Array"===f}},4901:r=>{"use strict";var f="object"==typeof document&&document.all;r.exports=void 0===f&&void 0!==f?function(r){return"function"==typeof r||r===f}:function(r){return"function"==typeof r}},3517:(r,f,_)=>{"use strict";var S=_(9504),k=_(9039),C=_(4901),I=_(6955),L=_(7751),W=_(3706),u=function(){},ie=L("Reflect","construct"),ne=/^\s*(?:class|function)\b/,oe=S(ne.exec),le=!ne.test(u),p=function(r){if(!C(r))return!1;try{return ie(u,[],r),!0}catch(r){return!1}},g=function(r){if(!C(r))return!1;switch(I(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return le||!!oe(ne,W(r))}catch(r){return!0}};g.sham=!0,r.exports=!ie||k(function(){var r;return p(p.call)||!p(Object)||!p(function(){r=!0})||r})?g:p},2796:(r,f,_)=>{"use strict";var S=_(9039),k=_(4901),C=/#|\.prototype\./,s=function(r,f){var _=L[I(r)];return _===ie||_!==W&&(k(f)?S(f):!!f)},I=s.normalize=function(r){return String(r).replace(C,".").toLowerCase()},L=s.data={},W=s.NATIVE="N",ie=s.POLYFILL="P";r.exports=s},2087:(r,f,_)=>{"use strict";var S=_(34),k=Math.floor;r.exports=Number.isInteger||function(r){return!S(r)&&isFinite(r)&&k(r)===r}},4117:r=>{"use strict";r.exports=function(r){return null==r}},34:(r,f,_)=>{"use strict";var S=_(4901);r.exports=function(r){return"object"==typeof r?null!==r:S(r)}},3925:(r,f,_)=>{"use strict";var S=_(34);r.exports=function(r){return S(r)||null===r}},6395:r=>{"use strict";r.exports=!1},757:(r,f,_)=>{"use strict";var S=_(7751),k=_(4901),C=_(1625),I=_(7040),L=Object;r.exports=I?function(r){return"symbol"==typeof r}:function(r){var f=S("Symbol");return k(f)&&C(f.prototype,L(r))}},2652:(r,f,_)=>{"use strict";var S=_(6080),k=_(9565),C=_(8551),I=_(6823),L=_(4209),W=_(6198),ie=_(1625),ne=_(81),oe=_(851),le=_(9539),ve=TypeError,p=function(r,f){this.stopped=r,this.result=f},we=p.prototype;r.exports=function(r,f,_){var be,Pe,Ae,Se,Re,De,Te,ke=_&&_.that,Ce=!(!_||!_.AS_ENTRIES),Ie=!(!_||!_.IS_RECORD),je=!(!_||!_.IS_ITERATOR),Fe=!(!_||!_.INTERRUPTED),Ee=S(f,ke),M=function(r){return be&&le(be,"normal",r),new p(!0,r)},F=function(r){return Ce?(C(r),Fe?Ee(r[0],r[1],M):Ee(r[0],r[1])):Fe?Ee(r,M):Ee(r)};if(Ie)be=r.iterator;else if(je)be=r;else{if(!(Pe=oe(r)))throw new ve(I(r)+" is not iterable");if(L(Pe)){for(Ae=0,Se=W(r);Se>Ae;Ae++)if((Re=F(r[Ae]))&&ie(we,Re))return Re;return new p(!1)}be=ne(r,Pe)}for(De=Ie?r.next:be.next;!(Te=k(De,be)).done;){try{Re=F(Te.value)}catch(r){le(be,"throw",r)}if("object"==typeof Re&&Re&&ie(we,Re))return Re}return new p(!1)}},9539:(r,f,_)=>{"use strict";var S=_(9565),k=_(8551),C=_(5966);r.exports=function(r,f,_){var I,L;k(r);try{if(!(I=C(r,"return"))){if("throw"===f)throw _;return _}I=S(I,r)}catch(r){L=!0,I=r}if("throw"===f)throw _;if(L)throw I;return k(I),_}},3994:(r,f,_)=>{"use strict";var S=_(7657).IteratorPrototype,k=_(2360),C=_(6980),I=_(687),L=_(6269),c=function(){return this};r.exports=function(r,f,_,W){var ie=f+" Iterator";return r.prototype=k(S,{next:C(+!W,_)}),I(r,ie,!1,!0),L[ie]=c,r}},1088:(r,f,_)=>{"use strict";var S=_(6518),k=_(9565),C=_(6395),I=_(350),L=_(4901),W=_(3994),ie=_(2787),ne=_(2967),oe=_(687),le=_(6699),ve=_(6840),we=_(8227),be=_(6269),Pe=_(7657),Ae=I.PROPER,Se=I.CONFIGURABLE,Re=Pe.IteratorPrototype,De=Pe.BUGGY_SAFARI_ITERATORS,Te=we("iterator"),ke="keys",Ce="values",Ie="entries",T=function(){return this};r.exports=function(r,f,_,I,we,Pe,je){W(_,f,I);var Fe,Ee,Ne,F=function(r){if(r===we&&qe)return qe;if(!De&&r&&r in Me)return Me[r];switch(r){case ke:case Ce:case Ie:return function(){return new _(this,r)}}return function(){return new _(this)}},xe=f+" Iterator",Oe=!1,Me=r.prototype,Ue=Me[Te]||Me["@@iterator"]||we&&Me[we],qe=!De&&Ue||F(we),He="Array"===f&&Me.entries||Ue;if(He&&(Fe=ie(He.call(new r)))!==Object.prototype&&Fe.next&&(C||ie(Fe)===Re||(ne?ne(Fe,Re):L(Fe[Te])||ve(Fe,Te,T)),oe(Fe,xe,!0,!0),C&&(be[xe]=T)),Ae&&we===Ce&&Ue&&Ue.name!==Ce&&(!C&&Se?le(Me,"name",Ce):(Oe=!0,qe=function(){return k(Ue,this)})),we)if(Ee={values:F(Ce),keys:Pe?qe:F(ke),entries:F(Ie)},je)for(Ne in Ee)(De||Oe||!(Ne in Me))&&ve(Me,Ne,Ee[Ne]);else S({target:f,proto:!0,forced:De||Oe},Ee);return C&&!je||Me[Te]===qe||ve(Me,Te,qe,{name:we}),be[f]=qe,Ee}},7657:(r,f,_)=>{"use strict";var S,k,C,I=_(9039),L=_(4901),W=_(34),ie=_(2360),ne=_(2787),oe=_(6840),le=_(8227),ve=_(6395),we=le("iterator"),be=!1;[].keys&&("next"in(C=[].keys())?(k=ne(ne(C)))!==Object.prototype&&(S=k):be=!0),!W(S)||I(function(){var r={};return S[we].call(r)!==r})?S={}:ve&&(S=ie(S)),L(S[we])||oe(S,we,function(){return this}),r.exports={IteratorPrototype:S,BUGGY_SAFARI_ITERATORS:be}},6269:r=>{"use strict";r.exports={}},6198:(r,f,_)=>{"use strict";var S=_(8014);r.exports=function(r){return S(r.length)}},283:(r,f,_)=>{"use strict";var S=_(9504),k=_(9039),C=_(4901),I=_(9297),L=_(3724),W=_(350).CONFIGURABLE,ie=_(3706),ne=_(1181),oe=ne.enforce,le=ne.get,ve=String,we=Object.defineProperty,be=S("".slice),Pe=S("".replace),Ae=S([].join),Se=L&&!k(function(){return 8!==we(function(){},"length",{value:8}).length}),Re=String(String).split("String"),De=r.exports=function(r,f,_){"Symbol("===be(ve(f),0,7)&&(f="["+Pe(ve(f),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),_&&_.getter&&(f="get "+f),_&&_.setter&&(f="set "+f),(!I(r,"name")||W&&r.name!==f)&&(L?we(r,"name",{value:f,configurable:!0}):r.name=f),Se&&_&&I(_,"arity")&&r.length!==_.arity&&we(r,"length",{value:_.arity});try{_&&I(_,"constructor")&&_.constructor?L&&we(r,"prototype",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch(r){}var S=oe(r);return I(S,"source")||(S.source=Ae(Re,"string"==typeof f?f:"")),r};Function.prototype.toString=De(function(){return C(this)&&le(this).source||ie(this)},"toString")},3164:(r,f,_)=>{"use strict";var S=_(7782),k=Math.abs,C=2220446049250313e-31,I=1/C;r.exports=function(r,f,_,L){var W=+r,ie=k(W),ne=S(W);if(ie<L)return ne*function(r){return r+I-I}(ie/L/f)*L*f;var oe=(1+f/C)*ie,le=oe-(oe-ie);return le>_||le!=le?ne*(1/0):ne*le}},5617:(r,f,_)=>{"use strict";var S=_(3164);r.exports=Math.fround||function(r){return S(r,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},7782:r=>{"use strict";r.exports=Math.sign||function(r){var f=+r;return 0===f||f!=f?f:f<0?-1:1}},741:r=>{"use strict";var f=Math.ceil,_=Math.floor;r.exports=Math.trunc||function(r){var S=+r;return(S>0?_:f)(S)}},6043:(r,f,_)=>{"use strict";var S=_(9306),k=TypeError,o=function(r){var f,_;this.promise=new r(function(r,S){if(void 0!==f||void 0!==_)throw new k("Bad Promise constructor");f=r,_=S}),this.resolve=S(f),this.reject=S(_)};r.exports.f=function(r){return new o(r)}},4213:(r,f,_)=>{"use strict";var S=_(3724),k=_(9504),C=_(9565),I=_(9039),L=_(1072),W=_(3717),ie=_(8773),ne=_(8981),oe=_(7055),le=Object.assign,ve=Object.defineProperty,we=k([].concat);r.exports=!le||I(function(){if(S&&1!==le({b:1},le(ve({},"a",{enumerable:!0,get:function(){ve(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var r={},f={},_=Symbol("assign detection"),k="abcdefghijklmnopqrst";return r[_]=7,k.split("").forEach(function(r){f[r]=r}),7!==le({},r)[_]||L(le({},f)).join("")!==k})?function(r,f){for(var _=ne(r),k=arguments.length,I=1,le=W.f,ve=ie.f;k>I;)for(var be,Pe=oe(arguments[I++]),Ae=le?we(L(Pe),le(Pe)):L(Pe),Se=Ae.length,Re=0;Se>Re;)be=Ae[Re++],S&&!C(ve,Pe,be)||(_[be]=Pe[be]);return _}:le},2360:(r,f,_)=>{"use strict";var S,k=_(8551),C=_(6801),I=_(8727),L=_(421),W=_(397),ie=_(4055),ne=_(6119),oe="prototype",le="script",ve=ne("IE_PROTO"),p=function(){},g=function(r){return"<"+le+">"+r+"</"+le+">"},m=function(r){r.write(g("")),r.close();var f=r.parentWindow.Object;return r=null,f},v=function(){try{S=new ActiveXObject("htmlfile")}catch(r){}var r,f,_;v="undefined"!=typeof document?document.domain&&S?m(S):(f=ie("iframe"),_="java"+le+":",f.style.display="none",W.appendChild(f),f.src=String(_),(r=f.contentWindow.document).open(),r.write(g("document.F=Object")),r.close(),r.F):m(S);for(var k=I.length;k--;)delete v[oe][I[k]];return v()};L[ve]=!0,r.exports=Object.create||function(r,f){var _;return null!==r?(p[oe]=k(r),_=new p,p[oe]=null,_[ve]=r):_=v(),void 0===f?_:C.f(_,f)}},6801:(r,f,_)=>{"use strict";var S=_(3724),k=_(8686),C=_(4913),I=_(8551),L=_(5397),W=_(1072);f.f=S&&!k?Object.defineProperties:function(r,f){I(r);for(var _,S=L(f),k=W(f),ie=k.length,ne=0;ie>ne;)C.f(r,_=k[ne++],S[_]);return r}},4913:(r,f,_)=>{"use strict";var S=_(3724),k=_(5917),C=_(8686),I=_(8551),L=_(6969),W=TypeError,ie=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,oe="enumerable",le="configurable",ve="writable";f.f=S?C?function(r,f,_){if(I(r),f=L(f),I(_),"function"==typeof r&&"prototype"===f&&"value"in _&&ve in _&&!_[ve]){var S=ne(r,f);S&&S[ve]&&(r[f]=_.value,_={configurable:le in _?_[le]:S[le],enumerable:oe in _?_[oe]:S[oe],writable:!1})}return ie(r,f,_)}:ie:function(r,f,_){if(I(r),f=L(f),I(_),k)try{return ie(r,f,_)}catch(r){}if("get"in _||"set"in _)throw new W("Accessors not supported");return"value"in _&&(r[f]=_.value),r}},7347:(r,f,_)=>{"use strict";var S=_(3724),k=_(9565),C=_(8773),I=_(6980),L=_(5397),W=_(6969),ie=_(9297),ne=_(5917),oe=Object.getOwnPropertyDescriptor;f.f=S?oe:function(r,f){if(r=L(r),f=W(f),ne)try{return oe(r,f)}catch(r){}if(ie(r,f))return I(!k(C.f,r,f),r[f])}},8480:(r,f,_)=>{"use strict";var S=_(1828),k=_(8727).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(r){return S(r,k)}},3717:(r,f)=>{"use strict";f.f=Object.getOwnPropertySymbols},2787:(r,f,_)=>{"use strict";var S=_(9297),k=_(4901),C=_(8981),I=_(6119),L=_(2211),W=I("IE_PROTO"),ie=Object,ne=ie.prototype;r.exports=L?ie.getPrototypeOf:function(r){var f=C(r);if(S(f,W))return f[W];var _=f.constructor;return k(_)&&f instanceof _?_.prototype:f instanceof ie?ne:null}},1625:(r,f,_)=>{"use strict";var S=_(9504);r.exports=S({}.isPrototypeOf)},1828:(r,f,_)=>{"use strict";var S=_(9504),k=_(9297),C=_(5397),I=_(9617).indexOf,L=_(421),W=S([].push);r.exports=function(r,f){var _,S=C(r),ie=0,ne=[];for(_ in S)!k(L,_)&&k(S,_)&&W(ne,_);for(;f.length>ie;)k(S,_=f[ie++])&&(~I(ne,_)||W(ne,_));return ne}},1072:(r,f,_)=>{"use strict";var S=_(1828),k=_(8727);r.exports=Object.keys||function(r){return S(r,k)}},8773:(r,f)=>{"use strict";var _={}.propertyIsEnumerable,S=Object.getOwnPropertyDescriptor,k=S&&!_.call({1:2},1);f.f=k?function(r){var f=S(this,r);return!!f&&f.enumerable}:_},2967:(r,f,_)=>{"use strict";var S=_(6706),k=_(34),C=_(7750),I=_(3506);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,f=!1,_={};try{(r=S(Object.prototype,"__proto__","set"))(_,[]),f=_ instanceof Array}catch(r){}return function(_,S){return C(_),I(S),k(_)?(f?r(_,S):_.__proto__=S,_):_}}():void 0)},4270:(r,f,_)=>{"use strict";var S=_(9565),k=_(4901),C=_(34),I=TypeError;r.exports=function(r,f){var _,L;if("string"===f&&k(_=r.toString)&&!C(L=S(_,r)))return L;if(k(_=r.valueOf)&&!C(L=S(_,r)))return L;if("string"!==f&&k(_=r.toString)&&!C(L=S(_,r)))return L;throw new I("Can't convert object to primitive value")}},5031:(r,f,_)=>{"use strict";var S=_(7751),k=_(9504),C=_(8480),I=_(3717),L=_(8551),W=k([].concat);r.exports=S("Reflect","ownKeys")||function(r){var f=C.f(L(r)),_=I.f;return _?W(f,_(r)):f}},1103:r=>{"use strict";r.exports=function(r){try{return{error:!1,value:r()}}catch(r){return{error:!0,value:r}}}},916:(r,f,_)=>{"use strict";var S=_(4576),k=_(550),C=_(4901),I=_(2796),L=_(3706),W=_(8227),ie=_(4215),ne=_(6395),oe=_(9519),le=k&&k.prototype,ve=W("species"),we=!1,be=C(S.PromiseRejectionEvent),Pe=I("Promise",function(){var r=L(k),f=r!==String(k);if(!f&&66===oe)return!0;if(ne&&(!le.catch||!le.finally))return!0;if(!oe||oe<51||!/native code/.test(r)){var _=new k(function(r){r(1)}),n=function(r){r(function(){},function(){})};if((_.constructor={})[ve]=n,!(we=_.then(function(){})instanceof n))return!0}return!(f||"BROWSER"!==ie&&"DENO"!==ie||be)});r.exports={CONSTRUCTOR:Pe,REJECTION_EVENT:be,SUBCLASSING:we}},550:(r,f,_)=>{"use strict";var S=_(4576);r.exports=S.Promise},3438:(r,f,_)=>{"use strict";var S=_(8551),k=_(34),C=_(6043);r.exports=function(r,f){if(S(r),k(f)&&f.constructor===r)return f;var _=C.f(r);return(0,_.resolve)(f),_.promise}},537:(r,f,_)=>{"use strict";var S=_(550),k=_(4428),C=_(916).CONSTRUCTOR;r.exports=C||!k(function(r){S.all(r).then(void 0,function(){})})},6682:(r,f,_)=>{"use strict";var S=_(9565),k=_(8551),C=_(4901),I=_(2195),L=_(7323),W=TypeError;r.exports=function(r,f){var _=r.exec;if(C(_)){var ie=S(_,r,f);return null!==ie&&k(ie),ie}if("RegExp"===I(r))return S(L,r,f);throw new W("RegExp#exec called on incompatible receiver")}},7323:(r,f,_)=>{"use strict";var S,k,C=_(9565),I=_(9504),L=_(655),W=_(7979),ie=_(8429),ne=_(5745),oe=_(2360),le=_(1181).get,ve=_(3635),we=_(8814),be=ne("native-string-replace",String.prototype.replace),Pe=RegExp.prototype.exec,Ae=Pe,Se=I("".charAt),Re=I("".indexOf),De=I("".replace),Te=I("".slice),ke=(k=/b*/g,C(Pe,S=/a/,"a"),C(Pe,k,"a"),0!==S.lastIndex||0!==k.lastIndex),Ce=ie.BROKEN_CARET,Ie=void 0!==/()??/.exec("")[1];(ke||Ie||Ce||ve||we)&&(Ae=function(r){var f,_,S,k,I,ie,ne,ve=this,we=le(ve),je=L(r),Fe=we.raw;if(Fe)return Fe.lastIndex=ve.lastIndex,f=C(Ae,Fe,je),ve.lastIndex=Fe.lastIndex,f;var Ee=we.groups,Ne=Ce&&ve.sticky,xe=C(W,ve),Oe=ve.source,Me=0,Ue=je;if(Ne&&(xe=De(xe,"y",""),-1===Re(xe,"g")&&(xe+="g"),Ue=Te(je,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&"\n"!==Se(je,ve.lastIndex-1))&&(Oe="(?: "+Oe+")",Ue=" "+Ue,Me++),_=new RegExp("^(?:"+Oe+")",xe)),Ie&&(_=new RegExp("^"+Oe+"$(?!\\s)",xe)),ke&&(S=ve.lastIndex),k=C(Pe,Ne?_:ve,Ue),Ne?k?(k.input=Te(k.input,Me),k[0]=Te(k[0],Me),k.index=ve.lastIndex,ve.lastIndex+=k[0].length):ve.lastIndex=0:ke&&k&&(ve.lastIndex=ve.global?k.index+k[0].length:S),Ie&&k&&k.length>1&&C(be,k[0],_,function(){for(I=1;I<arguments.length-2;I++)void 0===arguments[I]&&(k[I]=void 0)}),k&&Ee)for(k.groups=ie=oe(null),I=0;I<Ee.length;I++)ie[(ne=Ee[I])[0]]=k[ne[1]];return k}),r.exports=Ae},7979:(r,f,_)=>{"use strict";var S=_(8551);r.exports=function(){var r=S(this),f="";return r.hasIndices&&(f+="d"),r.global&&(f+="g"),r.ignoreCase&&(f+="i"),r.multiline&&(f+="m"),r.dotAll&&(f+="s"),r.unicode&&(f+="u"),r.unicodeSets&&(f+="v"),r.sticky&&(f+="y"),f}},8429:(r,f,_)=>{"use strict";var S=_(9039),k=_(4576).RegExp,C=S(function(){var r=k("a","y");return r.lastIndex=2,null!==r.exec("abcd")}),I=C||S(function(){return!k("a","y").sticky}),L=C||S(function(){var r=k("^r","gy");return r.lastIndex=2,null!==r.exec("str")});r.exports={BROKEN_CARET:L,MISSED_STICKY:I,UNSUPPORTED_Y:C}},3635:(r,f,_)=>{"use strict";var S=_(9039),k=_(4576).RegExp;r.exports=S(function(){var r=k(".","s");return!(r.dotAll&&r.test("\n")&&"s"===r.flags)})},8814:(r,f,_)=>{"use strict";var S=_(9039),k=_(4576).RegExp;r.exports=S(function(){var r=k("(?<a>b)","g");return"b"!==r.exec("b").groups.a||"bc"!=="b".replace(r,"$<a>c")})},7750:(r,f,_)=>{"use strict";var S=_(4117),k=TypeError;r.exports=function(r){if(S(r))throw new k("Can't call method on "+r);return r}},3389:(r,f,_)=>{"use strict";var S=_(4576),k=_(3724),C=Object.getOwnPropertyDescriptor;r.exports=function(r){if(!k)return S[r];var f=C(S,r);return f&&f.value}},7633:(r,f,_)=>{"use strict";var S=_(7751),k=_(2106),C=_(8227),I=_(3724),L=C("species");r.exports=function(r){var f=S(r);I&&f&&!f[L]&&k(f,L,{configurable:!0,get:function(){return this}})}},687:(r,f,_)=>{"use strict";var S=_(4913).f,k=_(9297),C=_(8227)("toStringTag");r.exports=function(r,f,_){r&&!_&&(r=r.prototype),r&&!k(r,C)&&S(r,C,{configurable:!0,value:f})}},6119:(r,f,_)=>{"use strict";var S=_(5745),k=_(3392),C=S("keys");r.exports=function(r){return C[r]||(C[r]=k(r))}},7629:(r,f,_)=>{"use strict";var S=_(6395),k=_(4576),C=_(9433),I="__core-js_shared__",L=r.exports=k[I]||C(I,{});(L.versions||(L.versions=[])).push({version:"3.38.1",mode:S?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(r,f,_)=>{"use strict";var S=_(7629);r.exports=function(r,f){return S[r]||(S[r]=f||{})}},2293:(r,f,_)=>{"use strict";var S=_(8551),k=_(5548),C=_(4117),I=_(8227)("species");r.exports=function(r,f){var _,L=S(r).constructor;return void 0===L||C(_=S(L)[I])?f:k(_)}},8183:(r,f,_)=>{"use strict";var S=_(9504),k=_(1291),C=_(655),I=_(7750),L=S("".charAt),W=S("".charCodeAt),ie=S("".slice),l=function(r){return function(f,_){var S,ne,oe=C(I(f)),le=k(_),ve=oe.length;return le<0||le>=ve?r?"":void 0:(S=W(oe,le))<55296||S>56319||le+1===ve||(ne=W(oe,le+1))<56320||ne>57343?r?L(oe,le):S:r?ie(oe,le,le+2):ne-56320+(S-55296<<10)+65536}};r.exports={codeAt:l(!1),charAt:l(!0)}},6098:(r,f,_)=>{"use strict";var S=_(9504),k=2147483647,C=/[^\0-\u007E]/,I=/[.\u3002\uFF0E\uFF61]/g,L="Overflow: input needs wider integers to process",W=RangeError,ie=S(I.exec),ne=Math.floor,oe=String.fromCharCode,le=S("".charCodeAt),ve=S([].join),we=S([].push),be=S("".replace),Pe=S("".split),Ae=S("".toLowerCase),b=function(r){return r+22+75*(r<26)},w=function(r,f,_){var S=0;for(r=_?ne(r/700):r>>1,r+=ne(r/f);r>455;)r=ne(r/35),S+=36;return ne(S+36*r/(r+38))},y=function(r){var f=[];r=function(r){for(var f=[],_=0,S=r.length;_<S;){var k=le(r,_++);if(k>=55296&&k<=56319&&_<S){var C=le(r,_++);56320==(64512&C)?we(f,((1023&k)<<10)+(1023&C)+65536):(we(f,k),_--)}else we(f,k)}return f}(r);var _,S,C=r.length,I=128,ie=0,be=72;for(_=0;_<r.length;_++)(S=r[_])<128&&we(f,oe(S));var Pe=f.length,Ae=Pe;for(Pe&&we(f,"-");Ae<C;){var Se=k;for(_=0;_<r.length;_++)(S=r[_])>=I&&S<Se&&(Se=S);var Re=Ae+1;if(Se-I>ne((k-ie)/Re))throw new W(L);for(ie+=(Se-I)*Re,I=Se,_=0;_<r.length;_++){if((S=r[_])<I&&++ie>k)throw new W(L);if(S===I){for(var De=ie,Te=36;;){var ke=Te<=be?1:Te>=be+26?26:Te-be;if(De<ke)break;var Ce=De-ke,Ie=36-ke;we(f,oe(b(ke+Ce%Ie))),De=ne(Ce/Ie),Te+=36}we(f,oe(b(De))),be=w(ie,Re,Ae===Pe),ie=0,Ae++}}ie++,I++}return ve(f,"")};r.exports=function(r){var f,_,S=[],k=Pe(be(Ae(r),I,"."),".");for(f=0;f<k.length;f++)_=k[f],we(S,ie(C,_)?"xn--"+y(_):_);return ve(S,".")}},4495:(r,f,_)=>{"use strict";var S=_(9519),k=_(9039),C=_(4576).String;r.exports=!!Object.getOwnPropertySymbols&&!k(function(){var r=Symbol("symbol detection");return!C(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&S&&S<41})},5610:(r,f,_)=>{"use strict";var S=_(1291),k=Math.max,C=Math.min;r.exports=function(r,f){var _=S(r);return _<0?k(_+f,0):C(_,f)}},5854:(r,f,_)=>{"use strict";var S=_(2777),k=TypeError;r.exports=function(r){var f=S(r,"number");if("number"==typeof f)throw new k("Can't convert number to bigint");return BigInt(f)}},7696:(r,f,_)=>{"use strict";var S=_(1291),k=_(8014),C=RangeError;r.exports=function(r){if(void 0===r)return 0;var f=S(r),_=k(f);if(f!==_)throw new C("Wrong length or index");return _}},5397:(r,f,_)=>{"use strict";var S=_(7055),k=_(7750);r.exports=function(r){return S(k(r))}},1291:(r,f,_)=>{"use strict";var S=_(741);r.exports=function(r){var f=+r;return f!=f||0===f?0:S(f)}},8014:(r,f,_)=>{"use strict";var S=_(1291),k=Math.min;r.exports=function(r){var f=S(r);return f>0?k(f,9007199254740991):0}},8981:(r,f,_)=>{"use strict";var S=_(7750),k=Object;r.exports=function(r){return k(S(r))}},8229:(r,f,_)=>{"use strict";var S=_(9590),k=RangeError;r.exports=function(r,f){var _=S(r);if(_%f)throw new k("Wrong offset");return _}},9590:(r,f,_)=>{"use strict";var S=_(1291),k=RangeError;r.exports=function(r){var f=S(r);if(f<0)throw new k("The argument can't be less than 0");return f}},2777:(r,f,_)=>{"use strict";var S=_(9565),k=_(34),C=_(757),I=_(5966),L=_(4270),W=_(8227),ie=TypeError,ne=W("toPrimitive");r.exports=function(r,f){if(!k(r)||C(r))return r;var _,W=I(r,ne);if(W){if(void 0===f&&(f="default"),_=S(W,r,f),!k(_)||C(_))return _;throw new ie("Can't convert object to primitive value")}return void 0===f&&(f="number"),L(r,f)}},6969:(r,f,_)=>{"use strict";var S=_(2777),k=_(757);r.exports=function(r){var f=S(r,"string");return k(f)?f:f+""}},2140:(r,f,_)=>{"use strict";var S={};S[_(8227)("toStringTag")]="z",r.exports="[object z]"===String(S)},655:(r,f,_)=>{"use strict";var S=_(6955),k=String;r.exports=function(r){if("Symbol"===S(r))throw new TypeError("Cannot convert a Symbol value to a string");return k(r)}},8319:r=>{"use strict";var f=Math.round;r.exports=function(r){var _=f(r);return _<0?0:_>255?255:255&_}},6823:r=>{"use strict";var f=String;r.exports=function(r){try{return f(r)}catch(r){return"Object"}}},5823:(r,f,_)=>{"use strict";var S=_(6518),k=_(4576),C=_(9565),I=_(3724),L=_(2805),W=_(4644),ie=_(6346),ne=_(679),oe=_(6980),le=_(6699),ve=_(2087),we=_(8014),be=_(7696),Pe=_(8229),Ae=_(8319),Se=_(6969),Re=_(9297),De=_(6955),Te=_(34),ke=_(757),Ce=_(2360),Ie=_(1625),je=_(2967),Fe=_(8480).f,Ee=_(3251),Ne=_(9213).forEach,xe=_(7633),Oe=_(2106),Me=_(4913),Ue=_(7347),qe=_(5370),He=_(1181),ze=_(3167),Ge=He.get,Je=He.set,Ve=He.enforce,$e=Me.f,Ke=Ue.f,Xe=k.RangeError,Qe=ie.ArrayBuffer,Ze=Qe.prototype,Ye=ie.DataView,et=W.NATIVE_ARRAY_BUFFER_VIEWS,tt=W.TYPED_ARRAY_TAG,rt=W.TypedArray,it=W.TypedArrayPrototype,nt=W.isTypedArray,st="BYTES_PER_ELEMENT",at="Wrong length",Q=function(r,f){Oe(r,f,{configurable:!0,get:function(){return Ge(this)[f]}})},Z=function(r){var f;return Ie(Ze,r)||"ArrayBuffer"===(f=De(r))||"SharedArrayBuffer"===f},ee=function(r,f){return nt(r)&&!ke(f)&&f in r&&ve(+f)&&f>=0},te=function(r,f){return f=Se(f),ee(r,f)?oe(2,r[f]):Ke(r,f)},re=function(r,f,_){return f=Se(f),!(ee(r,f)&&Te(_)&&Re(_,"value"))||Re(_,"get")||Re(_,"set")||_.configurable||Re(_,"writable")&&!_.writable||Re(_,"enumerable")&&!_.enumerable?$e(r,f,_):(r[f]=_.value,r)};I?(et||(Ue.f=te,Me.f=re,Q(it,"buffer"),Q(it,"byteOffset"),Q(it,"byteLength"),Q(it,"length")),S({target:"Object",stat:!0,forced:!et},{getOwnPropertyDescriptor:te,defineProperty:re}),r.exports=function(r,f,_){var I=r.match(/\d+/)[0]/8,W=r+(_?"Clamped":"")+"Array",ie="get"+r,oe="set"+r,ve=k[W],Se=ve,Re=Se&&Se.prototype,De={},P=function(r,f){$e(r,f,{get:function(){return function(r,f){var _=Ge(r);return _.view[ie](f*I+_.byteOffset,!0)}(this,f)},set:function(r){return function(r,f,S){var k=Ge(r);k.view[oe](f*I+k.byteOffset,_?Ae(S):S,!0)}(this,f,r)},enumerable:!0})};et?L&&(Se=f(function(r,f,_,S){return ne(r,Re),ze(Te(f)?Z(f)?void 0!==S?new ve(f,Pe(_,I),S):void 0!==_?new ve(f,Pe(_,I)):new ve(f):nt(f)?qe(Se,f):C(Ee,Se,f):new ve(be(f)),r,Se)}),je&&je(Se,rt),Ne(Fe(ve),function(r){r in Se||le(Se,r,ve[r])}),Se.prototype=Re):(Se=f(function(r,f,_,S){ne(r,Re);var k,L,W,ie=0,oe=0;if(Te(f)){if(!Z(f))return nt(f)?qe(Se,f):C(Ee,Se,f);k=f,oe=Pe(_,I);var le=f.byteLength;if(void 0===S){if(le%I)throw new Xe(at);if((L=le-oe)<0)throw new Xe(at)}else if((L=we(S)*I)+oe>le)throw new Xe(at);W=L/I}else W=be(f),k=new Qe(L=W*I);for(Je(r,{buffer:k,byteOffset:oe,byteLength:L,length:W,view:new Ye(k)});ie<W;)P(r,ie++)}),je&&je(Se,rt),Re=Se.prototype=Ce(it)),Re.constructor!==Se&&le(Re,"constructor",Se),Ve(Re).TypedArrayConstructor=Se,tt&&le(Re,tt,W);var ke=Se!==ve;De[W]=Se,S({global:!0,constructor:!0,forced:ke,sham:!et},De),st in Se||le(Se,st,I),st in Re||le(Re,st,I),xe(W)}):r.exports=function(){}},2805:(r,f,_)=>{"use strict";var S=_(4576),k=_(9039),C=_(4428),I=_(4644).NATIVE_ARRAY_BUFFER_VIEWS,L=S.ArrayBuffer,W=S.Int8Array;r.exports=!I||!k(function(){W(1)})||!k(function(){new W(-1)})||!C(function(r){new W,new W(null),new W(1.5),new W(r)},!0)||k(function(){return 1!==new W(new L(2),1,void 0).length})},3251:(r,f,_)=>{"use strict";var S=_(6080),k=_(9565),C=_(5548),I=_(8981),L=_(6198),W=_(81),ie=_(851),ne=_(4209),oe=_(1108),le=_(4644).aTypedArrayConstructor,ve=_(5854);r.exports=function(r){var f,_,we,be,Pe,Ae,Se,Re,De=C(this),Te=I(r),ke=arguments.length,Ce=ke>1?arguments[1]:void 0,Ie=void 0!==Ce,je=ie(Te);if(je&&!ne(je))for(Re=(Se=W(Te,je)).next,Te=[];!(Ae=k(Re,Se)).done;)Te.push(Ae.value);for(Ie&&ke>2&&(Ce=S(Ce,arguments[2])),_=L(Te),we=new(le(De))(_),be=oe(we),f=0;_>f;f++)Pe=Ie?Ce(Te[f],f):Te[f],we[f]=be?ve(Pe):+Pe;return we}},3392:(r,f,_)=>{"use strict";var S=_(9504),k=0,C=Math.random(),I=S(1..toString);r.exports=function(r){return"Symbol("+(void 0===r?"":r)+")_"+I(++k+C,36)}},7416:(r,f,_)=>{"use strict";var S=_(9039),k=_(8227),C=_(3724),I=_(6395),L=k("iterator");r.exports=!S(function(){var r=new URL("b?a=1&b=2&c=3","https://a"),f=r.searchParams,_=new URLSearchParams("a=1&a=2&b=3"),S="";return r.pathname="c%20d",f.forEach(function(r,_){f.delete("b"),S+=_+r}),_.delete("a",2),_.delete("b",void 0),I&&(!r.toJSON||!_.has("a",1)||_.has("a",2)||!_.has("a",void 0)||_.has("b"))||!f.size&&(I||!C)||!f.sort||"https://a/c%20d?a=1&c=3"!==r.href||"3"!==f.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!f[L]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==S||"x"!==new URL("https://x",void 0).host})},7040:(r,f,_)=>{"use strict";var S=_(4495);r.exports=S&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:(r,f,_)=>{"use strict";var S=_(3724),k=_(9039);r.exports=S&&k(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},2812:r=>{"use strict";var f=TypeError;r.exports=function(r,_){if(r<_)throw new f("Not enough arguments");return r}},8622:(r,f,_)=>{"use strict";var S=_(4576),k=_(4901),C=S.WeakMap;r.exports=k(C)&&/native code/.test(String(C))},8227:(r,f,_)=>{"use strict";var S=_(4576),k=_(5745),C=_(9297),I=_(3392),L=_(4495),W=_(7040),ie=S.Symbol,ne=k("wks"),oe=W?ie.for||ie:ie&&ie.withoutSetter||I;r.exports=function(r){return C(ne,r)||(ne[r]=L&&C(ie,r)?ie[r]:oe("Symbol."+r)),ne[r]}},4743:(r,f,_)=>{"use strict";var S=_(6518),k=_(4576),C=_(6346),I=_(7633),L="ArrayBuffer",W=C[L];S({global:!0,constructor:!0,forced:k[L]!==W},{ArrayBuffer:W}),I(L)},1745:(r,f,_)=>{"use strict";var S=_(6518),k=_(7476),C=_(9039),I=_(6346),L=_(8551),W=_(5610),ie=_(8014),ne=_(2293),oe=I.ArrayBuffer,le=I.DataView,ve=le.prototype,we=k(oe.prototype.slice),be=k(ve.getUint8),Pe=k(ve.setUint8);S({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:C(function(){return!new oe(2).slice(1,void 0).byteLength})},{slice:function(r,f){if(we&&void 0===f)return we(L(this),r);for(var _=L(this).byteLength,S=W(r,_),k=W(void 0===f?_:f,_),C=new(ne(this,oe))(ie(k-S)),I=new le(this),ve=new le(C),Ae=0;S<k;)Pe(ve,Ae++,be(I,S++));return C}})},3792:(r,f,_)=>{"use strict";var S=_(5397),k=_(6469),C=_(6269),I=_(1181),L=_(4913).f,W=_(1088),ie=_(2529),ne=_(6395),oe=_(3724),le="Array Iterator",ve=I.set,we=I.getterFor(le);r.exports=W(Array,"Array",function(r,f){ve(this,{type:le,target:S(r),index:0,kind:f})},function(){var r=we(this),f=r.target,_=r.index++;if(!f||_>=f.length)return r.target=null,ie(void 0,!0);switch(r.kind){case"keys":return ie(_,!1);case"values":return ie(f[_],!1)}return ie([_,f[_]],!1)},"values");var be=C.Arguments=C.Array;if(k("keys"),k("values"),k("entries"),!ne&&oe&&"values"!==be.name)try{L(be,"name",{value:"values"})}catch(r){}},6910:(r,f,_)=>{"use strict";var S=_(6518),k=_(9504),C=_(9306),I=_(8981),L=_(6198),W=_(4606),ie=_(655),ne=_(9039),oe=_(4488),le=_(4598),ve=_(3709),we=_(3763),be=_(9519),Pe=_(3607),Ae=[],Se=k(Ae.sort),Re=k(Ae.push),De=ne(function(){Ae.sort(void 0)}),Te=ne(function(){Ae.sort(null)}),ke=le("sort"),Ce=!ne(function(){if(be)return be<70;if(!(ve&&ve>3)){if(we)return!0;if(Pe)return Pe<603;var r,f,_,S,k="";for(r=65;r<76;r++){switch(f=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:_=3;break;case 68:case 71:_=4;break;default:_=2}for(S=0;S<47;S++)Ae.push({k:f+S,v:_})}for(Ae.sort(function(r,f){return f.v-r.v}),S=0;S<Ae.length;S++)f=Ae[S].k.charAt(0),k.charAt(k.length-1)!==f&&(k+=f);return"DGBEFHACIJK"!==k}});S({target:"Array",proto:!0,forced:De||!Te||!ke||!Ce},{sort:function(r){void 0!==r&&C(r);var f=I(this);if(Ce)return void 0===r?Se(f):Se(f,r);var _,S,k=[],ne=L(f);for(S=0;S<ne;S++)S in f&&Re(k,f[S]);for(oe(k,function(r){return function(f,_){return void 0===_?-1:void 0===f?1:void 0!==r?+r(f,_)||0:ie(f)>ie(_)?1:-1}}(r)),_=L(k),S=0;S<_;)f[S]=k[S++];for(;S<ne;)W(f,S++);return f}})},5081:(r,f,_)=>{"use strict";var S=_(6518),k=_(4576);S({global:!0,forced:k.globalThis!==k},{globalThis:k})},3110:(r,f,_)=>{"use strict";var S=_(6518),k=_(7751),C=_(8745),I=_(9565),L=_(9504),W=_(9039),ie=_(4901),ne=_(757),oe=_(7680),le=_(6933),ve=_(4495),we=String,be=k("JSON","stringify"),Pe=L(/./.exec),Ae=L("".charAt),Se=L("".charCodeAt),Re=L("".replace),De=L(1..toString),Te=/[\uD800-\uDFFF]/g,ke=/^[\uD800-\uDBFF]$/,Ce=/^[\uDC00-\uDFFF]$/,Ie=!ve||W(function(){var r=k("Symbol")("stringify detection");return"[null]"!==be([r])||"{}"!==be({a:r})||"{}"!==be(Object(r))}),je=W(function(){return'"\\udf06\\ud834"'!==be("\udf06\ud834")||'"\\udead"'!==be("\udead")}),A=function(r,f){var _=oe(arguments),S=le(f);if(ie(S)||void 0!==r&&!ne(r))return _[1]=function(r,f){if(ie(S)&&(f=I(S,this,we(r),f)),!ne(f))return f},C(be,null,_)},D=function(r,f,_){var S=Ae(_,f-1),k=Ae(_,f+1);return Pe(ke,r)&&!Pe(Ce,k)||Pe(Ce,r)&&!Pe(ke,S)?"\\u"+De(Se(r,0),16):r};be&&S({target:"JSON",stat:!0,arity:3,forced:Ie||je},{stringify:function(r,f,_){var S=oe(arguments),k=C(Ie?A:be,null,S);return je&&"string"==typeof k?Re(k,Te,D):k}})},6167:(r,f,_)=>{"use strict";var S=_(6518),k=_(9565),C=_(9306),I=_(6043),L=_(1103),W=_(2652);S({target:"Promise",stat:!0,forced:_(537)},{allSettled:function(r){var f=this,_=I.f(f),S=_.resolve,ie=_.reject,ne=L(function(){var _=C(f.resolve),I=[],L=0,ie=1;W(r,function(r){var C=L++,W=!1;ie++,k(_,f,r).then(function(r){W||(W=!0,I[C]={status:"fulfilled",value:r},--ie||S(I))},function(r){W||(W=!0,I[C]={status:"rejected",reason:r},--ie||S(I))})}),--ie||S(I)});return ne.error&&ie(ne.value),_.promise}})},9391:(r,f,_)=>{"use strict";var S=_(6518),k=_(6395),C=_(550),I=_(9039),L=_(7751),W=_(4901),ie=_(2293),ne=_(3438),oe=_(6840),le=C&&C.prototype;if(S({target:"Promise",proto:!0,real:!0,forced:!!C&&I(function(){le.finally.call({then:function(){}},function(){})})},{finally:function(r){var f=ie(this,L("Promise")),_=W(r);return this.then(_?function(_){return ne(f,r()).then(function(){return _})}:r,_?function(_){return ne(f,r()).then(function(){throw _})}:r)}}),!k&&W(C)){var ve=L("Promise").prototype.finally;le.finally!==ve&&oe(le,"finally",ve,{unsafe:!0})}},7495:(r,f,_)=>{"use strict";var S=_(6518),k=_(7323);S({target:"RegExp",proto:!0,forced:/./.exec!==k},{exec:k})},7337:(r,f,_)=>{"use strict";var S=_(6518),k=_(9504),C=_(5610),I=RangeError,L=String.fromCharCode,W=String.fromCodePoint,ie=k([].join);S({target:"String",stat:!0,arity:1,forced:!!W&&1!==W.length},{fromCodePoint:function(r){for(var f,_=[],S=arguments.length,k=0;S>k;){if(f=+arguments[k++],C(f,1114111)!==f)throw new I(f+" is not a valid code point");_[k]=f<65536?L(f):L(55296+((f-=65536)>>10),f%1024+56320)}return ie(_,"")}})},7764:(r,f,_)=>{"use strict";var S=_(8183).charAt,k=_(655),C=_(1181),I=_(1088),L=_(2529),W="String Iterator",ie=C.set,ne=C.getterFor(W);I(String,"String",function(r){ie(this,{type:W,string:k(r),index:0})},function(){var r,f=ne(this),_=f.string,k=f.index;return k>=_.length?L(void 0,!0):(r=S(_,k),f.index+=r.length,L(r,!1))})},5440:(r,f,_)=>{"use strict";var S=_(8745),k=_(9565),C=_(9504),I=_(9228),L=_(9039),W=_(8551),ie=_(4901),ne=_(4117),oe=_(1291),le=_(8014),ve=_(655),we=_(7750),be=_(7829),Pe=_(5966),Ae=_(2478),Se=_(6682),Re=_(8227)("replace"),De=Math.max,Te=Math.min,ke=C([].concat),Ce=C([].push),Ie=C("".indexOf),je=C("".slice),Fe="$0"==="a".replace(/./,"$0"),Ee=!!/./[Re]&&""===/./[Re]("a","$0");I("replace",function(r,f,_){var C=Ee?"$":"$0";return[function(r,_){var S=we(this),C=ne(r)?void 0:Pe(r,Re);return C?k(C,r,S,_):k(f,ve(S),r,_)},function(r,k){var I=W(this),L=ve(r);if("string"==typeof k&&-1===Ie(k,C)&&-1===Ie(k,"$<")){var ne=_(f,I,L,k);if(ne.done)return ne.value}var we=ie(k);we||(k=ve(k));var Pe,Re=I.global;Re&&(Pe=I.unicode,I.lastIndex=0);for(var Fe,Ee=[];null!==(Fe=Se(I,L))&&(Ce(Ee,Fe),Re);)""===ve(Fe[0])&&(I.lastIndex=be(L,le(I.lastIndex),Pe));for(var Ne,xe="",Oe=0,Me=0;Me<Ee.length;Me++){for(var Ue,qe=ve((Fe=Ee[Me])[0]),He=De(Te(oe(Fe.index),L.length),0),ze=[],Ge=1;Ge<Fe.length;Ge++)Ce(ze,void 0===(Ne=Fe[Ge])?Ne:String(Ne));var Je=Fe.groups;if(we){var Ve=ke([qe],ze,He,L);void 0!==Je&&Ce(Ve,Je),Ue=ve(S(k,void 0,Ve))}else Ue=Ae(qe,L,He,ze,Je,k);He>=Oe&&(xe+=je(L,Oe,He)+Ue,Oe=He+qe.length)}return xe+je(L,Oe)}]},!!L(function(){var r=/./;return r.exec=function(){var r=[];return r.groups={a:"7"},r},"7"!=="".replace(r,"$<a>")})||!Fe||Ee)},8140:(r,f,_)=>{"use strict";var S=_(4644),k=_(6198),C=_(1291),I=S.aTypedArray;(0,S.exportTypedArrayMethod)("at",function(r){var f=I(this),_=k(f),S=C(r),L=S>=0?S:_+S;return L<0||L>=_?void 0:f[L]})},5044:(r,f,_)=>{"use strict";var S=_(4644),k=_(4373),C=_(5854),I=_(6955),L=_(9565),W=_(9504),ie=_(9039),ne=S.aTypedArray,oe=S.exportTypedArrayMethod,le=W("".slice);oe("fill",function(r){var f=arguments.length;ne(this);var _="Big"===le(I(this),0,3)?C(r):+r;return L(k,this,_,f>1?arguments[1]:void 0,f>2?arguments[2]:void 0)},ie(function(){var r=0;return new Int8Array(2).fill({valueOf:function(){return r++}}),1!==r}))},1134:(r,f,_)=>{"use strict";var S=_(4644),k=_(3839).findLastIndex,C=S.aTypedArray;(0,S.exportTypedArrayMethod)("findLastIndex",function(r){return k(C(this),r,arguments.length>1?arguments[1]:void 0)})},1903:(r,f,_)=>{"use strict";var S=_(4644),k=_(3839).findLast,C=S.aTypedArray;(0,S.exportTypedArrayMethod)("findLast",function(r){return k(C(this),r,arguments.length>1?arguments[1]:void 0)})},5477:(r,f,_)=>{"use strict";_(5823)("Int32",function(r){return function(f,_,S){return r(this,f,_,S)}})},6594:(r,f,_)=>{"use strict";_(5823)("Int8",function(r){return function(f,_,S){return r(this,f,_,S)}})},8845:(r,f,_)=>{"use strict";var S=_(4576),k=_(9565),C=_(4644),I=_(6198),L=_(8229),W=_(8981),ie=_(9039),ne=S.RangeError,oe=S.Int8Array,le=oe&&oe.prototype,ve=le&&le.set,we=C.aTypedArray,be=C.exportTypedArrayMethod,Pe=!ie(function(){var r=new Uint8ClampedArray(2);return k(ve,r,{length:1,0:3},1),3!==r[1]}),Ae=Pe&&C.NATIVE_ARRAY_BUFFER_VIEWS&&ie(function(){var r=new oe(2);return r.set(1),r.set("2",1),0!==r[0]||2!==r[1]});be("set",function(r){we(this);var f=L(arguments.length>1?arguments[1]:void 0,1),_=W(r);if(Pe)return k(ve,this,_,f);var S=this.length,C=I(_),ie=0;if(C+f>S)throw new ne("Wrong length");for(;ie<C;)this[f+ie]=_[ie++]},!Pe||Ae)},373:(r,f,_)=>{"use strict";var S=_(4576),k=_(7476),C=_(9039),I=_(9306),L=_(4488),W=_(4644),ie=_(3709),ne=_(3763),oe=_(9519),le=_(3607),ve=W.aTypedArray,we=W.exportTypedArrayMethod,be=S.Uint16Array,Pe=be&&k(be.prototype.sort),Ae=!(!Pe||C(function(){Pe(new be(2),null)})&&C(function(){Pe(new be(2),{})})),Se=!!Pe&&!C(function(){if(oe)return oe<74;if(ie)return ie<67;if(ne)return!0;if(le)return le<602;var r,f,_=new be(516),S=Array(516);for(r=0;r<516;r++)f=r%4,_[r]=515-r,S[r]=r-2*f+3;for(Pe(_,function(r,f){return(r/4|0)-(f/4|0)}),r=0;r<516;r++)if(_[r]!==S[r])return!0});we("sort",function(r){return void 0!==r&&I(r),Se?Pe(this,r):L(ve(this),function(r){return function(f,_){return void 0!==r?+r(f,_)||0:_!=_?-1:f!=f?1:0===f&&0===_?1/f>0&&1/_<0?1:-1:f>_}}(r))},!Se||Ae)},1740:(r,f,_)=>{"use strict";_(5823)("Uint32",function(r){return function(f,_,S){return r(this,f,_,S)}})},1489:(r,f,_)=>{"use strict";_(5823)("Uint8",function(r){return function(f,_,S){return r(this,f,_,S)}})},2134:(r,f,_)=>{"use strict";_(5823)("Uint8",function(r){return function(f,_,S){return r(this,f,_,S)}},!0)},1839:(r,f,_)=>{"use strict";_(8140)},6847:(r,f,_)=>{"use strict";_(1134)},1706:(r,f,_)=>{"use strict";_(1903)},2953:(r,f,_)=>{"use strict";var S=_(4576),k=_(7400),C=_(9296),I=_(3792),L=_(6699),W=_(687),ie=_(8227)("iterator"),ne=I.values,d=function(r,f){if(r){if(r[ie]!==ne)try{L(r,ie,ne)}catch(f){r[ie]=ne}if(W(r,f,!0),k[f])for(var _ in I)if(r[_]!==I[_])try{L(r,_,I[_])}catch(f){r[_]=I[_]}}};for(var oe in k)d(S[oe]&&S[oe].prototype,oe);d(C,"DOMTokenList")},8406:(r,f,_)=>{"use strict";_(3792),_(7337);var S=_(6518),k=_(4576),C=_(3389),I=_(7751),L=_(9565),W=_(9504),ie=_(3724),ne=_(7416),oe=_(6840),le=_(2106),ve=_(6279),we=_(687),be=_(3994),Pe=_(1181),Ae=_(679),Se=_(4901),Re=_(9297),De=_(6080),Te=_(6955),ke=_(8551),Ce=_(34),Ie=_(655),je=_(2360),Fe=_(6980),Ee=_(81),Ne=_(851),xe=_(2529),Oe=_(2812),Me=_(8227),Ue=_(4488),qe=Me("iterator"),He="URLSearchParams",ze=He+"Iterator",Ge=Pe.set,Je=Pe.getterFor(He),Ve=Pe.getterFor(ze),$e=C("fetch"),Ke=C("Request"),Xe=C("Headers"),Qe=Ke&&Ke.prototype,Ze=Xe&&Xe.prototype,Ye=k.TypeError,et=k.encodeURIComponent,tt=String.fromCharCode,rt=I("String","fromCodePoint"),it=parseInt,nt=W("".charAt),st=W([].join),at=W([].push),ot=W("".replace),ct=W([].shift),lt=W([].splice),ut=W("".split),ht=W("".slice),pt=W(/./.exec),ft=/\+/g,gt=/^[0-9a-f]+$/i,se=function(r,f){var _=ht(r,f,f+2);return pt(gt,_)?it(_,16):NaN},ae=function(r){for(var f=0,_=128;_>0&&r&_;_>>=1)f++;return f},ce=function(r){var f=null;switch(r.length){case 1:f=r[0];break;case 2:f=(31&r[0])<<6|63&r[1];break;case 3:f=(15&r[0])<<12|(63&r[1])<<6|63&r[2];break;case 4:f=(7&r[0])<<18|(63&r[1])<<12|(63&r[2])<<6|63&r[3]}return f>1114111?null:f},ue=function(r){for(var f=(r=ot(r,ft," ")).length,_="",S=0;S<f;){var k=nt(r,S);if("%"===k){if("%"===nt(r,S+1)||S+3>f){_+="%",S++;continue}var C=se(r,S+1);if(C!=C){_+=k,S++;continue}S+=2;var I=ae(C);if(0===I)k=tt(C);else{if(1===I||I>4){_+="�",S++;continue}for(var L=[C],W=1;W<I&&!(3+ ++S>f||"%"!==nt(r,S));){var ie=se(r,S+1);if(ie!=ie){S+=3;break}if(ie>191||ie<128)break;at(L,ie),S+=2,W++}if(L.length!==I){_+="�";continue}var ne=ce(L);null===ne?_+="�":k=rt(ne)}}_+=k,S++}return _},_t=/[!'()~]|%20/g,wt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},he=function(r){return wt[r]},fe=function(r){return ot(et(r),_t,he)},bt=be(function(r,f){Ge(this,{type:ze,target:Je(r).entries,index:0,kind:f})},He,function(){var r=Ve(this),f=r.target,_=r.index++;if(!f||_>=f.length)return r.target=null,xe(void 0,!0);var S=f[_];switch(r.kind){case"keys":return xe(S.key,!1);case"values":return xe(S.value,!1)}return xe([S.key,S.value],!1)},!0),ge=function(r){this.entries=[],this.url=null,void 0!==r&&(Ce(r)?this.parseObject(r):this.parseQuery("string"==typeof r?"?"===nt(r,0)?ht(r,1):r:Ie(r)))};ge.prototype={type:He,bindURL:function(r){this.url=r,this.update()},parseObject:function(r){var f,_,S,k,C,I,W,ie=this.entries,ne=Ne(r);if(ne)for(_=(f=Ee(r,ne)).next;!(S=L(_,f)).done;){if(C=(k=Ee(ke(S.value))).next,(I=L(C,k)).done||(W=L(C,k)).done||!L(C,k).done)throw new Ye("Expected sequence with length 2");at(ie,{key:Ie(I.value),value:Ie(W.value)})}else for(var oe in r)Re(r,oe)&&at(ie,{key:oe,value:Ie(r[oe])})},parseQuery:function(r){if(r)for(var f,_,S=this.entries,k=ut(r,"&"),C=0;C<k.length;)(f=k[C++]).length&&(_=ut(f,"="),at(S,{key:ue(ct(_)),value:ue(st(_,"="))}))},serialize:function(){for(var r,f=this.entries,_=[],S=0;S<f.length;)r=f[S++],at(_,fe(r.key)+"="+fe(r.value));return st(_,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var me=function(){Ae(this,Pt);var r=Ge(this,new ge(arguments.length>0?arguments[0]:void 0));ie||(this.size=r.entries.length)},Pt=me.prototype;if(ve(Pt,{append:function(r,f){var _=Je(this);Oe(arguments.length,2),at(_.entries,{key:Ie(r),value:Ie(f)}),ie||this.length++,_.updateURL()},delete:function(r){for(var f=Je(this),_=Oe(arguments.length,1),S=f.entries,k=Ie(r),C=_<2?void 0:arguments[1],I=void 0===C?C:Ie(C),L=0;L<S.length;){var W=S[L];if(W.key!==k||void 0!==I&&W.value!==I)L++;else if(lt(S,L,1),void 0!==I)break}ie||(this.size=S.length),f.updateURL()},get:function(r){var f=Je(this).entries;Oe(arguments.length,1);for(var _=Ie(r),S=0;S<f.length;S++)if(f[S].key===_)return f[S].value;return null},getAll:function(r){var f=Je(this).entries;Oe(arguments.length,1);for(var _=Ie(r),S=[],k=0;k<f.length;k++)f[k].key===_&&at(S,f[k].value);return S},has:function(r){for(var f=Je(this).entries,_=Oe(arguments.length,1),S=Ie(r),k=_<2?void 0:arguments[1],C=void 0===k?k:Ie(k),I=0;I<f.length;){var L=f[I++];if(L.key===S&&(void 0===C||L.value===C))return!0}return!1},set:function(r,f){var _=Je(this);Oe(arguments.length,1);for(var S,k=_.entries,C=!1,I=Ie(r),L=Ie(f),W=0;W<k.length;W++)(S=k[W]).key===I&&(C?lt(k,W--,1):(C=!0,S.value=L));C||at(k,{key:I,value:L}),ie||(this.size=k.length),_.updateURL()},sort:function(){var r=Je(this);Ue(r.entries,function(r,f){return r.key>f.key?1:-1}),r.updateURL()},forEach:function(r){for(var f,_=Je(this).entries,S=De(r,arguments.length>1?arguments[1]:void 0),k=0;k<_.length;)S((f=_[k++]).value,f.key,this)},keys:function(){return new bt(this,"keys")},values:function(){return new bt(this,"values")},entries:function(){return new bt(this,"entries")}},{enumerable:!0}),oe(Pt,qe,Pt.entries,{name:"entries"}),oe(Pt,"toString",function(){return Je(this).serialize()},{enumerable:!0}),ie&&le(Pt,"size",{get:function(){return Je(this).entries.length},configurable:!0,enumerable:!0}),we(me,He),S({global:!0,constructor:!0,forced:!ne},{URLSearchParams:me}),!ne&&Se(Xe)){var yt=W(Ze.has),At=W(Ze.set),ye=function(r){if(Ce(r)){var f,_=r.body;if(Te(_)===He)return f=r.headers?new Xe(r.headers):new Xe,yt(f,"content-type")||At(f,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),je(r,{body:Fe(0,Ie(_)),headers:Fe(0,f)})}return r};if(Se($e)&&S({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(r){return $e(r,arguments.length>1?ye(arguments[1]):{})}}),Se(Ke)){var _e=function(r){return Ae(this,Qe),new Ke(r,arguments.length>1?ye(arguments[1]):{})};Qe.constructor=_e,_e.prototype=Qe,S({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:_e})}}r.exports={URLSearchParams:me,getState:Je}},8408:(r,f,_)=>{"use strict";_(8406)},5806:(r,f,_)=>{"use strict";_(7764);var S,k=_(6518),C=_(3724),I=_(7416),L=_(4576),W=_(6080),ie=_(9504),ne=_(6840),oe=_(2106),le=_(679),ve=_(9297),we=_(4213),be=_(7916),Pe=_(7680),Ae=_(8183).codeAt,Se=_(6098),Re=_(655),De=_(687),Te=_(2812),ke=_(8406),Ce=_(1181),Ie=Ce.set,je=Ce.getterFor("URL"),Fe=ke.URLSearchParams,Ee=ke.getState,Ne=L.URL,xe=L.TypeError,Oe=L.parseInt,Me=Math.floor,Ue=Math.pow,qe=ie("".charAt),He=ie(/./.exec),ze=ie([].join),Ge=ie(1..toString),Je=ie([].pop),Ve=ie([].push),$e=ie("".replace),Ke=ie([].shift),Xe=ie("".split),Qe=ie("".slice),Ze=ie("".toLowerCase),Ye=ie([].unshift),et="Invalid scheme",tt="Invalid host",rt="Invalid port",it=/[a-z]/i,nt=/[\d+-.a-z]/i,st=/\d/,at=/^0x/i,ot=/^[0-7]+$/,ct=/^\d+$/,lt=/^[\da-f]+$/i,ut=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ht=/[\0\t\n\r #/:<>?@[\\\]^|]/,pt=/^[\u0000-\u0020]+/,ft=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,gt=/[\t\n\r]/g,se=function(r){var f,_,S,k;if("number"==typeof r){for(f=[],_=0;_<4;_++)Ye(f,r%256),r=Me(r/256);return ze(f,".")}if("object"==typeof r){for(f="",S=function(r){for(var f=null,_=1,S=null,k=0,C=0;C<8;C++)0!==r[C]?(k>_&&(f=S,_=k),S=null,k=0):(null===S&&(S=C),++k);return k>_?S:f}(r),_=0;_<8;_++)k&&0===r[_]||(k&&(k=!1),S===_?(f+=_?":":"::",k=!0):(f+=Ge(r[_],16),_<7&&(f+=":")));return"["+f+"]"}return r},_t={},wt=we({},_t,{" ":1,'"':1,"<":1,">":1,"`":1}),bt=we({},wt,{"#":1,"?":1,"{":1,"}":1}),Pt=we({},bt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(r,f){var _=Ae(r,0);return _>32&&_<127&&!ve(f,r)?r:encodeURIComponent(r)},yt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(r,f){var _;return 2===r.length&&He(it,qe(r,0))&&(":"===(_=qe(r,1))||!f&&"|"===_)},pe=function(r){var f;return r.length>1&&fe(Qe(r,0,2))&&(2===r.length||"/"===(f=qe(r,2))||"\\"===f||"?"===f||"#"===f)},ge=function(r){return"."===r||"%2e"===Ze(r)},At={},St={},Rt={},Dt={},Tt={},kt={},Ct={},It={},jt={},Ft={},Et={},Nt={},Mt={},Lt={},Wt={},Ut={},Bt={},qt={},Ht={},zt={},Kt={},We=function(r,f,_){var S,k,C,I=Re(r);if(f){if(k=this.parse(I))throw new xe(k);this.searchParams=null}else{if(void 0!==_&&(S=new We(_,!0)),k=this.parse(I,null,S))throw new xe(k);(C=Ee(new Fe)).bindURL(this),this.searchParams=C}};We.prototype={type:"URL",parse:function(r,f,_){var k,C,I,L,W,ie=this,ne=f||At,oe=0,le="",we=!1,Ae=!1,Se=!1;for(r=Re(r),f||(ie.scheme="",ie.username="",ie.password="",ie.host=null,ie.port=null,ie.path=[],ie.query=null,ie.fragment=null,ie.cannotBeABaseURL=!1,r=$e(r,pt,""),r=$e(r,ft,"$1")),r=$e(r,gt,""),k=be(r);oe<=k.length;){switch(C=k[oe],ne){case At:if(!C||!He(it,C)){if(f)return et;ne=Rt;continue}le+=Ze(C),ne=St;break;case St:if(C&&(He(nt,C)||"+"===C||"-"===C||"."===C))le+=Ze(C);else{if(":"!==C){if(f)return et;le="",ne=Rt,oe=0;continue}if(f&&(ie.isSpecial()!==ve(yt,le)||"file"===le&&(ie.includesCredentials()||null!==ie.port)||"file"===ie.scheme&&!ie.host))return;if(ie.scheme=le,f)return void(ie.isSpecial()&&yt[ie.scheme]===ie.port&&(ie.port=null));le="","file"===ie.scheme?ne=Lt:ie.isSpecial()&&_&&_.scheme===ie.scheme?ne=Dt:ie.isSpecial()?ne=It:"/"===k[oe+1]?(ne=Tt,oe++):(ie.cannotBeABaseURL=!0,Ve(ie.path,""),ne=Ht)}break;case Rt:if(!_||_.cannotBeABaseURL&&"#"!==C)return et;if(_.cannotBeABaseURL&&"#"===C){ie.scheme=_.scheme,ie.path=Pe(_.path),ie.query=_.query,ie.fragment="",ie.cannotBeABaseURL=!0,ne=Kt;break}ne="file"===_.scheme?Lt:kt;continue;case Dt:if("/"!==C||"/"!==k[oe+1]){ne=kt;continue}ne=jt,oe++;break;case Tt:if("/"===C){ne=Ft;break}ne=qt;continue;case kt:if(ie.scheme=_.scheme,C===S)ie.username=_.username,ie.password=_.password,ie.host=_.host,ie.port=_.port,ie.path=Pe(_.path),ie.query=_.query;else if("/"===C||"\\"===C&&ie.isSpecial())ne=Ct;else if("?"===C)ie.username=_.username,ie.password=_.password,ie.host=_.host,ie.port=_.port,ie.path=Pe(_.path),ie.query="",ne=zt;else{if("#"!==C){ie.username=_.username,ie.password=_.password,ie.host=_.host,ie.port=_.port,ie.path=Pe(_.path),ie.path.length--,ne=qt;continue}ie.username=_.username,ie.password=_.password,ie.host=_.host,ie.port=_.port,ie.path=Pe(_.path),ie.query=_.query,ie.fragment="",ne=Kt}break;case Ct:if(!ie.isSpecial()||"/"!==C&&"\\"!==C){if("/"!==C){ie.username=_.username,ie.password=_.password,ie.host=_.host,ie.port=_.port,ne=qt;continue}ne=Ft}else ne=jt;break;case It:if(ne=jt,"/"!==C||"/"!==qe(le,oe+1))continue;oe++;break;case jt:if("/"!==C&&"\\"!==C){ne=Ft;continue}break;case Ft:if("@"===C){we&&(le="%40"+le),we=!0,I=be(le);for(var De=0;De<I.length;De++){var Te=I[De];if(":"!==Te||Se){var ke=de(Te,Pt);Se?ie.password+=ke:ie.username+=ke}else Se=!0}le=""}else if(C===S||"/"===C||"?"===C||"#"===C||"\\"===C&&ie.isSpecial()){if(we&&""===le)return"Invalid authority";oe-=be(le).length+1,le="",ne=Et}else le+=C;break;case Et:case Nt:if(f&&"file"===ie.scheme){ne=Ut;continue}if(":"!==C||Ae){if(C===S||"/"===C||"?"===C||"#"===C||"\\"===C&&ie.isSpecial()){if(ie.isSpecial()&&""===le)return tt;if(f&&""===le&&(ie.includesCredentials()||null!==ie.port))return;if(L=ie.parseHost(le))return L;if(le="",ne=Bt,f)return;continue}"["===C?Ae=!0:"]"===C&&(Ae=!1),le+=C}else{if(""===le)return tt;if(L=ie.parseHost(le))return L;if(le="",ne=Mt,f===Nt)return}break;case Mt:if(!He(st,C)){if(C===S||"/"===C||"?"===C||"#"===C||"\\"===C&&ie.isSpecial()||f){if(""!==le){var Ce=Oe(le,10);if(Ce>65535)return rt;ie.port=ie.isSpecial()&&Ce===yt[ie.scheme]?null:Ce,le=""}if(f)return;ne=Bt;continue}return rt}le+=C;break;case Lt:if(ie.scheme="file","/"===C||"\\"===C)ne=Wt;else{if(!_||"file"!==_.scheme){ne=qt;continue}switch(C){case S:ie.host=_.host,ie.path=Pe(_.path),ie.query=_.query;break;case"?":ie.host=_.host,ie.path=Pe(_.path),ie.query="",ne=zt;break;case"#":ie.host=_.host,ie.path=Pe(_.path),ie.query=_.query,ie.fragment="",ne=Kt;break;default:pe(ze(Pe(k,oe),""))||(ie.host=_.host,ie.path=Pe(_.path),ie.shortenPath()),ne=qt;continue}}break;case Wt:if("/"===C||"\\"===C){ne=Ut;break}_&&"file"===_.scheme&&!pe(ze(Pe(k,oe),""))&&(fe(_.path[0],!0)?Ve(ie.path,_.path[0]):ie.host=_.host),ne=qt;continue;case Ut:if(C===S||"/"===C||"\\"===C||"?"===C||"#"===C){if(!f&&fe(le))ne=qt;else if(""===le){if(ie.host="",f)return;ne=Bt}else{if(L=ie.parseHost(le))return L;if("localhost"===ie.host&&(ie.host=""),f)return;le="",ne=Bt}continue}le+=C;break;case Bt:if(ie.isSpecial()){if(ne=qt,"/"!==C&&"\\"!==C)continue}else if(f||"?"!==C)if(f||"#"!==C){if(C!==S&&(ne=qt,"/"!==C))continue}else ie.fragment="",ne=Kt;else ie.query="",ne=zt;break;case qt:if(C===S||"/"===C||"\\"===C&&ie.isSpecial()||!f&&("?"===C||"#"===C)){if(".."===(W=Ze(W=le))||"%2e."===W||".%2e"===W||"%2e%2e"===W?(ie.shortenPath(),"/"===C||"\\"===C&&ie.isSpecial()||Ve(ie.path,"")):ge(le)?"/"===C||"\\"===C&&ie.isSpecial()||Ve(ie.path,""):("file"===ie.scheme&&!ie.path.length&&fe(le)&&(ie.host&&(ie.host=""),le=qe(le,0)+":"),Ve(ie.path,le)),le="","file"===ie.scheme&&(C===S||"?"===C||"#"===C))for(;ie.path.length>1&&""===ie.path[0];)Ke(ie.path);"?"===C?(ie.query="",ne=zt):"#"===C&&(ie.fragment="",ne=Kt)}else le+=de(C,bt);break;case Ht:"?"===C?(ie.query="",ne=zt):"#"===C?(ie.fragment="",ne=Kt):C!==S&&(ie.path[0]+=de(C,_t));break;case zt:f||"#"!==C?C!==S&&("'"===C&&ie.isSpecial()?ie.query+="%27":ie.query+="#"===C?"%23":de(C,_t)):(ie.fragment="",ne=Kt);break;case Kt:C!==S&&(ie.fragment+=de(C,wt))}oe++}},parseHost:function(r){var f,_,S;if("["===qe(r,0)){if("]"!==qe(r,r.length-1))return tt;if(f=function(r){var f,_,S,k,C,I,L,W=[0,0,0,0,0,0,0,0],ie=0,ne=null,oe=0,h=function(){return qe(r,oe)};if(":"===h()){if(":"!==qe(r,1))return;oe+=2,ne=++ie}for(;h();){if(8===ie)return;if(":"!==h()){for(f=_=0;_<4&&He(lt,h());)f=16*f+Oe(h(),16),oe++,_++;if("."===h()){if(0===_)return;if(oe-=_,ie>6)return;for(S=0;h();){if(k=null,S>0){if(!("."===h()&&S<4))return;oe++}if(!He(st,h()))return;for(;He(st,h());){if(C=Oe(h(),10),null===k)k=C;else{if(0===k)return;k=10*k+C}if(k>255)return;oe++}W[ie]=256*W[ie]+k,2!=++S&&4!==S||ie++}if(4!==S)return;break}if(":"===h()){if(oe++,!h())return}else if(h())return;W[ie++]=f}else{if(null!==ne)return;oe++,ne=++ie}}if(null!==ne)for(I=ie-ne,ie=7;0!==ie&&I>0;)L=W[ie],W[ie--]=W[ne+I-1],W[ne+--I]=L;else if(8!==ie)return;return W}(Qe(r,1,-1)),!f)return tt;this.host=f}else if(this.isSpecial()){if(r=Se(r),He(ut,r))return tt;if(f=function(r){var f,_,S,k,C,I,L,W=Xe(r,".");if(W.length&&""===W[W.length-1]&&W.length--,(f=W.length)>4)return r;for(_=[],S=0;S<f;S++){if(""===(k=W[S]))return r;if(C=10,k.length>1&&"0"===qe(k,0)&&(C=He(at,k)?16:8,k=Qe(k,8===C?1:2)),""===k)I=0;else{if(!He(10===C?ct:8===C?ot:lt,k))return r;I=Oe(k,C)}Ve(_,I)}for(S=0;S<f;S++)if(I=_[S],S===f-1){if(I>=Ue(256,5-f))return null}else if(I>255)return null;for(L=Je(_),S=0;S<_.length;S++)L+=_[S]*Ue(256,3-S);return L}(r),null===f)return tt;this.host=f}else{if(He(ht,r))return tt;for(f="",_=be(r),S=0;S<_.length;S++)f+=de(_[S],_t);this.host=f}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return ve(yt,this.scheme)},shortenPath:function(){var r=this.path,f=r.length;!f||"file"===this.scheme&&1===f&&fe(r[0],!0)||r.length--},serialize:function(){var r=this,f=r.scheme,_=r.username,S=r.password,k=r.host,C=r.port,I=r.path,L=r.query,W=r.fragment,ie=f+":";return null!==k?(ie+="//",r.includesCredentials()&&(ie+=_+(S?":"+S:"")+"@"),ie+=se(k),null!==C&&(ie+=":"+C)):"file"===f&&(ie+="//"),ie+=r.cannotBeABaseURL?I[0]:I.length?"/"+ze(I,"/"):"",null!==L&&(ie+="?"+L),null!==W&&(ie+="#"+W),ie},setHref:function(r){var f=this.parse(r);if(f)throw new xe(f);this.searchParams.update()},getOrigin:function(){var r=this.scheme,f=this.port;if("blob"===r)try{return new Le(r.path[0]).origin}catch(r){return"null"}return"file"!==r&&this.isSpecial()?r+"://"+se(this.host)+(null!==f?":"+f:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(r){this.parse(Re(r)+":",At)},getUsername:function(){return this.username},setUsername:function(r){var f=be(Re(r));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var _=0;_<f.length;_++)this.username+=de(f[_],Pt)}},getPassword:function(){return this.password},setPassword:function(r){var f=be(Re(r));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var _=0;_<f.length;_++)this.password+=de(f[_],Pt)}},getHost:function(){var r=this.host,f=this.port;return null===r?"":null===f?se(r):se(r)+":"+f},setHost:function(r){this.cannotBeABaseURL||this.parse(r,Et)},getHostname:function(){var r=this.host;return null===r?"":se(r)},setHostname:function(r){this.cannotBeABaseURL||this.parse(r,Nt)},getPort:function(){var r=this.port;return null===r?"":Re(r)},setPort:function(r){this.cannotHaveUsernamePasswordPort()||(""===(r=Re(r))?this.port=null:this.parse(r,Mt))},getPathname:function(){var r=this.path;return this.cannotBeABaseURL?r[0]:r.length?"/"+ze(r,"/"):""},setPathname:function(r){this.cannotBeABaseURL||(this.path=[],this.parse(r,Bt))},getSearch:function(){var r=this.query;return r?"?"+r:""},setSearch:function(r){""===(r=Re(r))?this.query=null:("?"===qe(r,0)&&(r=Qe(r,1)),this.query="",this.parse(r,zt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var r=this.fragment;return r?"#"+r:""},setHash:function(r){""!==(r=Re(r))?("#"===qe(r,0)&&(r=Qe(r,1)),this.fragment="",this.parse(r,Kt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Le=function(r){var f=le(this,Zt),_=Te(arguments.length,1)>1?arguments[1]:void 0,S=Ie(f,new We(r,!1,_));C||(f.href=S.serialize(),f.origin=S.getOrigin(),f.protocol=S.getProtocol(),f.username=S.getUsername(),f.password=S.getPassword(),f.host=S.getHost(),f.hostname=S.getHostname(),f.port=S.getPort(),f.pathname=S.getPathname(),f.search=S.getSearch(),f.searchParams=S.getSearchParams(),f.hash=S.getHash())},Zt=Le.prototype,Be=function(r,f){return{get:function(){return je(this)[r]()},set:f&&function(r){return je(this)[f](r)},configurable:!0,enumerable:!0}};if(C&&(oe(Zt,"href",Be("serialize","setHref")),oe(Zt,"origin",Be("getOrigin")),oe(Zt,"protocol",Be("getProtocol","setProtocol")),oe(Zt,"username",Be("getUsername","setUsername")),oe(Zt,"password",Be("getPassword","setPassword")),oe(Zt,"host",Be("getHost","setHost")),oe(Zt,"hostname",Be("getHostname","setHostname")),oe(Zt,"port",Be("getPort","setPort")),oe(Zt,"pathname",Be("getPathname","setPathname")),oe(Zt,"search",Be("getSearch","setSearch")),oe(Zt,"searchParams",Be("getSearchParams")),oe(Zt,"hash",Be("getHash","setHash"))),ne(Zt,"toJSON",function(){return je(this).serialize()},{enumerable:!0}),ne(Zt,"toString",function(){return je(this).serialize()},{enumerable:!0}),Ne){var er=Ne.createObjectURL,or=Ne.revokeObjectURL;er&&ne(Le,"createObjectURL",W(er,Ne)),or&&ne(Le,"revokeObjectURL",W(or,Ne))}De(Le,"URL"),k({global:!0,constructor:!0,forced:!I,sham:!C},{URL:Le})},3296:(r,f,_)=>{"use strict";_(5806)},7208:(r,f,_)=>{"use strict";var S=_(6518),k=_(9565);S({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return k(URL.prototype.toString,this)}})}},k={};function i(r){var f=k[r];if(void 0!==f)return f.exports;var _=k[r]={exports:{}};return S[r].call(_.exports,_,_.exports,i),_.exports}i.m=S,i.amdO={},i.n=r=>{var f=r&&r.__esModule?()=>r.default:()=>r;return i.d(f,{a:f}),f},i.d=(r,f)=>{for(var _ in f)i.o(f,_)&&!i.o(r,_)&&Object.defineProperty(r,_,{enumerable:!0,get:f[_]})},i.f={},i.e=r=>Promise.all(Object.keys(i.f).reduce((f,_)=>(i.f[_](r,f),f),[])),i.u=r=>r+"."+{"vendors-node_modules_peculiar_asn1-adobe-acrobat_build_es2015_index_js":"bc321eef753fef250e7d","src_DigitalSignature_X509_Extension_js-src_DigitalSignature_X509_Name_js":"504e791ee1e82c9c864f",X509Certificate:"0f8116c01378c416ae4c",X509CRL:"24471859c8d7f651c929"}[r]+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),i.o=(r,f)=>Object.prototype.hasOwnProperty.call(r,f),f={},_="@ajsprivate/acrobatjs:",i.l=(r,S,k,C)=>{if(f[r])f[r].push(S);else{var I,L;if(void 0!==k)for(var W=document.getElementsByTagName("script"),ie=0;ie<W.length;ie++){var ne=W[ie];if(ne.getAttribute("src")==r||ne.getAttribute("data-webpack")==_+k){I=ne;break}}I||(L=!0,(I=document.createElement("script")).charset="utf-8",I.timeout=120,i.nc&&I.setAttribute("nonce",i.nc),I.setAttribute("data-webpack",_+k),I.src=r),f[r]=[S];var h=(_,S)=>{I.onerror=I.onload=null,clearTimeout(oe);var k=f[r];if(delete f[r],I.parentNode&&I.parentNode.removeChild(I),k&&k.forEach(r=>r(S)),_)return _(S)},oe=setTimeout(h.bind(null,void 0,{type:"timeout",target:I}),12e4);I.onerror=h.bind(null,I.onerror),I.onload=h.bind(null,I.onload),L&&document.head.appendChild(I)}},i.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},(()=>{var r;i.g.importScripts&&(r=i.g.location+"");var f=i.g.document;if(!r&&f&&(f.currentScript&&"SCRIPT"===f.currentScript.tagName.toUpperCase()&&(r=f.currentScript.src),!r)){var _=f.getElementsByTagName("script");if(_.length)for(var S=_.length-1;S>-1&&(!r||!/^http(s?):/.test(r));)r=_[S--].src}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=r})(),(()=>{var r={main:0};i.f.j=(f,_)=>{var S=i.o(r,f)?r[f]:void 0;if(0!==S)if(S)_.push(S[2]);else{var k=new Promise((_,k)=>S=r[f]=[_,k]);_.push(S[2]=k);var C=i.p+i.u(f),I=new Error;i.l(C,_=>{if(i.o(r,f)&&(0!==(S=r[f])&&(r[f]=void 0),S)){var k=_&&("load"===_.type?"missing":_.type),C=_&&_.target&&_.target.src;I.message="Loading chunk "+f+" failed.\n("+k+": "+C+")",I.name="ChunkLoadError",I.type=k,I.request=C,S[1](I)}},"chunk-"+f,f)}};var t=(f,_)=>{var S,k,[C,I,L]=_,W=0;if(C.some(f=>0!==r[f])){for(S in I)i.o(I,S)&&(i.m[S]=I[S]);L&&L(i)}for(f&&f(_);W<C.length;W++)k=C[W],i.o(r,k)&&r[k]&&r[k][0](),r[k]=0},f=self.webpackChunk_ajsprivate_acrobatjs=self.webpackChunk_ajsprivate_acrobatjs||[];f.forEach(t.bind(null,0)),f.push=t.bind(null,f.push.bind(f))})();var C={};(()=>{"use strict";i.r(C),i.d(C,{AcrobatJS:()=>Mt,AcrobatJSSecurityHandler:()=>Zr,CertificateValidationInterface:()=>en,enums:()=>r});var r={};i.r(r),i.d(r,{AnnotType:()=>qe,ColorPaletteKey:()=>Ge,ContentType:()=>ze,FTPDFToWebViewTranslationStatus:()=>Je,PageRequestType:()=>Ue,Permissions:()=>He,ProcessingMode:()=>Ve,WasmSwitchingState:()=>$e,WorkerRestartState:()=>Ke,Workflow:()=>Xe}),i(4743),i(1745),i(9391),i(6594),i(1740),i(5044),i(8845),i(373),i(1839),i(1706),i(6847),i(2953),i(5477),i(1489),i(7495),i(5440),i(2134);const f=Object.freeze(["unknown",'"Kozuka Gothic Pr6N R", "Meiryo", "Hira Kaku Pro N", "Hira Min Pro N", "Noto Sans JP"','"Adobe Heiti Std", "SimSun", "ST Heiti SC", "Adobe Song Std"','"DF Kai Shu", "ST Heiti TC", "Adobe Fan Heiti Std", "MingLiU", "Li Hei Pro", "Adobe Ming Std"','"Gulim", "Apple Gothic", "Adobe Gothic Std", "GulimChe", "Apple Myungjo", "Adobe Myungjo Std"']),_=new class{constructor(){this._textDataMap={},this._fontNameMap={},this._canvas=document.createElement("canvas")}_getFontWidth(r){const f=this._canvas.getContext("2d");return f.font="10px ".concat(r),f.measureText("thequickbrownfoxjumpsovethelazydog").width}_fontAvailable(r){const f=this._getFontWidth("monospace"),_=this._getFontWidth("serif"),S=this._getFontWidth("sans-serif");return f!==this._getFontWidth('"'.concat(r,'",monospace'))||S!==this._getFontWidth('"'.concat(r,'",sans-serif'))||_!==this._getFontWidth('"'.concat(r,'",serif'))}_getCSSFontFaceString(r,_){if(void 0===this._fontNameMap[r.psName]){const _=r.bold?"bold ":"",S=r.italic?"italic ":"";this._fontNameMap[r.psName]="".concat(_+S,'10px "').concat(r.displayName?r.displayName:r.psName,'"'),this._textDataMap[r.psName]||(this._fontNameMap[r.psName]="".concat(_+S,"10px ").concat(f[r.language]))}return this._fontNameMap[r.psName].replace("10px","".concat(_,"px"))}_prepareContextForFontMatrix(r,f){const _=this._canvas.getContext("2d"),S=Math.ceil(1.65*f.size);this._canvas.setAttribute("height",S),this._canvas.setAttribute("width",S),_.font=this._getCSSFontFaceString(r,f.size);const k=-f.top,C=-f.left,I=1/f.size;return _.setTransform(f.a*I,f.b*I,-f.c*I,-f.d*I,C,k),_}_getBitmapForCharCode(r,f){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,this._canvas.width,this._canvas.height),r.restore(),r.fillText(String.fromCharCode(f),0,0);const _=r.getImageData(0,0,this._canvas.width,this._canvas.height),S={width:_.width,height:_.height,data:new Uint8ClampedArray(_.width*_.height)};for(let r=0;r<_.width*_.height;r+=1)S.data[r]=_.data[4*r+3];return S}_logData(r){const f={},_="".concat(r.psName,"(").concat(r.displayName,")");return this._textDataMap[r.psName]?f[_]="ExactFont":r.allowFallback?f[_]="SystemDefault":f[_]="FauxFont",f}generateGlyphBitmap(r,f){const _={bitmaps:{}};if(!f)return _;const{matrix:S}=f;if(void 0===this._textDataMap[f.psName]){const r=this._fontAvailable(f.displayName?f.displayName:f.psName);this._textDataMap[f.psName]=r}if(_.analyticsData=this._logData(f),_[f.psName]=this._textDataMap[f.psName],!this._textDataMap[f.psName]&&!f.allowFallback)return _;const k=this._prepareContextForFontMatrix(f,S);return r.forEach(r=>{if(void 0===_.bitmaps[S.key+r]){const f=this._getBitmapForCharCode(k,r);_.bitmaps[S.key+r]=f}}),_}},S=15,k=20,I="ajs",E=r=>r&&"function"==typeof r,O=r=>{let f;for(f=r.length-1;f>=0&&!(r[f]>0);f--);r.splice(f+1)},x=(r,f)=>{const _=r.split(".").map(r=>parseInt(r,10)),S=f.split(".").map(r=>parseInt(r,10));O(_),O(S);const k=Math.min(_.length,S.length);for(let r=0;r<k;r+=1){if(_[r]>S[r])return 1;if(_[r]<S[r])return-1}return _.length===S.length?0:_.length<S.length?-1:1},N=()=>"undefined"!=typeof SharedArrayBuffer;i(5081),i(3296),i(7208),i(8408),Object.freeze({CACHED:"cached",UNCACHED:"uncached",UNKNOWN:"unknown"});const j=()=>performance.now()+performance.timeOrigin,R=r=>r-performance.timeOrigin,L="registerLicense",W="openPDF",ie="openCNPDF",ne="getPageRendition",oe="addMessagePort",le="verifyDigitalSignatures",ve="createFormField",we="updateFormField",be="deleteFormField",Pe="saveChangesToDoc",Ae="isFileQualifiedForLiquidMode",Se="translateToLiquidModeView",Re="getLiquidModeViewResource",De="applyCNFTPDFUpdates",Te="getHtmlLocationForDocPoint",ke="getDocPointForHtmlLocation",Ce="JSApi",Ie="editLinkAnnot",je="deleteLinkAnnot",Fe=[Ae,Se,Re,De,Te,ke];let Ee=!1;const dt=function(){Ee&&console.log(...arguments)};var Ne=i(7232),xe=i.n(Ne);const mt=()=>(new(xe())).getBrowser(),vt=r=>!(-1===x(r,"13.0")||(r=>1===x(r,"13.1"))(r)),Oe=Object.freeze({INCORRECT_PASSWORD:3,LINEARIZATION_DICT_NOT_FOUND:4,INCOMPLETE_BUFFER_RANGES_DOWNLOADED:-1,SAB_INDEX_OUT_OF_BOUNDS:-2}),Me=Object.freeze({INVALID_BUFFER:"Invalid buffer",INVALID_PAGE_NUM:"Invalid page number",SHARED_ARRAY_BUFFER_NOT_SUPPORTED:"Shared array buffer not supported",LINEARIZATION_DICT_NOT_FOUND:"Linearization dict not found",INCOMPLETE_BUFFER_RANGES_DOWNLOADED:"Incomplete pdf buffer ranges downloaded",SAB_INDEX_OUT_OF_BOUNDS:"Shared array buffer index is out of bounds",PASSWORD_PROTECTED_PDF_NOT_SUPPORTED_IN_LINEARIZED_WORKFLOW:"password protected pdf not supported in linearized workflow",INCORRECT_PASSWORD_ENTERED:"Incorrect password entered"}),Ue=Object.freeze({PAGE:0,PAGE_CACHE:1,THUMBNAIL:2}),qe=Object.freeze({TEXT:1,LINK:2,FREE_TEXT:4,LINE:8,SQUARE:16,CIRCLE:32,POLYGON:64,POLYLINE:128,HIGHLIGHT:256,UNDERLINE:512,SQUIGGLY:1024,STRIKEOUT:2048,CARET:4096,STAMP:8192,INK:16384,POPUP:32768,FILE_ATTACHMENT:65536,SOUND:131072,MOVIE:262144,SCREEN:524288,WIDGET:1048576,WATERMARK:2097152,THREE_D:4194304,FREE_TEXT_TYPEWRITER:8388608,ALL:4294967295,NONE:0}),He=Object.freeze({PRINT:4,MODIFY_CONTENT:8,COPY_EXTRACT_CONTENT:16,COMMENTING:32,FORM_FILLING:256,COPY_EXTRACT_CONTENT_ACCESSIBILITY:512,DOCUMENT_ASSEMBLY:1024,HIGH_QUALITY_PRINT:2048}),ze=Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2,INVALID:3,IMAGE:4}),Ge=Object.freeze({BACKGROUND:"background",TEXT:"text"}),Je=Object.freeze({NOT_STARTED:-1,IN_PROGRESS:0,COMPLETE:1,ERROR:2}),Ve=Object.freeze({BATCHED:"batched",DEFAULT:"default"}),$e=Object.freeze({NOT_SWITCHED:-1,SWITCHING:0,SWITCHED:1}),Ke=Object.freeze({NOT_RESTARTING:0,RESTARTING:1}),Xe=Object.freeze({LINEARIZED:"Linearized",NON_LINEARIZED:"Non-Linearized"});class Ot{constructor(){this._beginRequestCallback=null,this._loadCallback=null,this._errorCallback=null}open(r){this._beginRequestCallback=r}onload(r){this._loadCallback=r}onerror(r){this._errorCallback=r}send(r){this._beginRequestCallback(r).then(r=>{if(this._loadCallback){const f={command:De,priority:10,params:{cnftpdfUpdatesStream:r},transferList:[r]};this._loadCallback(f)}}).catch(r=>{this._errorCallback&&this._errorCallback({type:"AdobeSenseiPredictRequestFailed",body:r})})}}class xt{constructor(){this._adobeSenseiPredictRequest=new Ot}init(r,f,_){this._adobeSenseiPredictRequest.open(r),this._adobeSenseiPredictRequest.onload(f),this._adobeSenseiPredictRequest.onerror(_)}fetchCNFTPDFUpdates(r){this._adobeSenseiPredictRequest.send(r)}}const Qe="ajsInit",Ze="ajsLoaded",Ye="proxyInitTime",et="wasmInitTime",tt="wasmLoadStartTime",rt="wasmLoadEndTime",it="secondaryModuleLoadStartTime",nt="secondaryModuleLoadEndTime",st="secondaryModuleInitTime",at="wasmjsImportStartTime",ot="wasmjsImportEndTime";function Vt(r,f){var _=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),_.push.apply(_,S)}return _}function Gt(r){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?Vt(Object(_),!0).forEach(function(f){Jt(r,f,_[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(_)):Vt(Object(_)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(_,f))})}return r}function Jt(r,f,_){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var _=f.call(r,"string");if("object"!=typeof _)return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):r[f]=_,r}class Xt{constructor(r,f){this._startTranslationCallback=r,this._recordPerfMarkerCallback=f,this._html=null,this._htmlRequestQueue=[],this._isNewHTMLAvailable=!1,this._resources=new Map,this._pendingResourceRequests=new Map,this._translationStatus=Je.NOT_STARTED,this._errorMsg=null,this._adobeSenseiClient=new xt,this._perfMarkers=new Map,this._serverMetaData=null,this._textDecoder=new TextDecoder}get _isTranslationStarted(){return this._translationStatus!==Je.NOT_STARTED}get _isTranslationComplete(){return this._translationStatus===Je.COMPLETE}get _hasTranslationFailed(){return this._translationStatus===Je.ERROR}_startTranslation(r){this._startTranslationCallback(r),this._translationStatus=Je.IN_PROGRESS,this.recordPerfMarker({marker:"beginTranslation"})}get _isHTMLRequestQueueEmpty(){return 0===this._htmlRequestQueue.length}_resolveHTMLRequest(r){const{requestStartTime:f,resolveCallback:_}=r;_({data:{html:this._html,serverMetaData:this._serverMetaData},timeTaken:performance.now()-f}),this.recordPerfMarker({marker:"firstHTMLMarkupResolved"}),this._isTranslationComplete&&this.recordPerfMarker({marker:"lastHTMLMarkupResolved"}),this._isNewHTMLAvailable=!1}_rejectHTMLRequest(r,f){const{requestStartTime:_,rejectCallback:S}=r;S(Gt(Gt({},f),{},{timeTaken:performance.now()-_}))}_resolvePendingHTMLRequest(){if(!this._isHTMLRequestQueueEmpty&&(this._isNewHTMLAvailable||this._isTranslationComplete)){const r=this._htmlRequestQueue.shift();this._resolveHTMLRequest(r)}}_resolveAllPendingHTMLRequests(){for(;!this._isHTMLRequestQueueEmpty;)this._resolvePendingHTMLRequest()}_rejectAllPendingHTMLRequests(r){this._htmlRequestQueue.forEach(f=>{this._rejectHTMLRequest(f,r)}),this._htmlRequestQueue=[]}_handleHTMLRequest(){return new Promise((r,f)=>{const _=performance.now();this._htmlRequestQueue.push({requestStartTime:_,resolveCallback:r,rejectCallback:f}),this.recordPerfMarker({marker:"firstHTMLMarkupRequested"}),this._hasTranslationFailed?this._rejectAllPendingHTMLRequests():this._resolvePendingHTMLRequest()})}getHTMLStream(r,f,_){return this._isTranslationStarted||(this._startTranslation(r),this._adobeSenseiClient.init(f,_,this._onAdobeSenseiClientError.bind(this))),new Promise((f,_)=>{const S=performance.now(),k=new ReadableStream({pull:r=>{const f=this._handleHTMLRequest();r.enqueue(f),this._hasTranslationFailed&&(this._rejectAllPendingHTMLRequests(),r.close()),this._isTranslationComplete&&(this._resolveAllPendingHTMLRequests(),r.close())}}),{command:C}=r;f({command:C,data:{htmlStream:k},timeTaken:performance.now()-S})})}setHTML(r,f,_){_&&(this._serverMetaData=_);const S=this._textDecoder.decode(r.buffer);this._html=encodeURI(S),this._translationStatus=f,this._isNewHTMLAvailable=!0,this._resolvePendingHTMLRequest(),this._isTranslationComplete&&this._resolveAllPendingHTMLRequests()}_resolveResourceRequest(r){const{command:f,resourceID:_,resourceURL:S,requestStartTime:k,resolveCallback:C}=r;C({command:f,data:Gt({resourceID:_,resourceURL:S},this._resources.get(S)),timeTaken:performance.now()-k})}_resolvePendingResourceRequest(r){if(this._pendingResourceRequests.has(r)&&this._resources.has(r)){const f=this._pendingResourceRequests.get(r);this._resolveResourceRequest(f),this._pendingResourceRequests.delete(r)}}getResource(r){let{command:f,params:_}=r;const{resourceID:S,resourceURL:k}=_;return new Promise((r,_)=>{const C=performance.now(),I={command:f,resourceID:S,resourceURL:k,requestStartTime:C,resolveCallback:r};this._pendingResourceRequests.set(k,I),this._resolvePendingResourceRequest(k)})}setResource(r,f,_){this._resources.set(r,{resourceContent:f,resourceMimeType:_}),this._resolvePendingResourceRequest(r)}fetchCNFTPDFUpdates(r){this._adobeSenseiClient.fetchCNFTPDFUpdates(r)}_onAdobeSenseiClientError(r){this._translationStatus=Je.ERROR,this._errorMsg=r,this._rejectAllPendingHTMLRequests(r)}recordPerfMarker(r){const{marker:f}=r;if(!this._perfMarkers.has(f)&&(this._perfMarkers.set(f,performance.now()),this._recordPerfMarkerCallback)){const r={};r[f]=this._perfMarkers.get(f),this._recordPerfMarkerCallback("ajsPerfTimings",r)}}}const ct=JSON.parse('{"k9":"acrobatProxy.c517cfa80cee94fc6cb3.js","an":"renderingWorker.5b9720be3cf75edc2da8.js","Nw":"acrobatProxy_we.6a6468d25540efced5eb.js","N9":"renderingWorker_we.5b9720be3cf75edc2da8.js"}'),Yt=r=>{try{return new URL(r).origin}catch(r){return}},$t=(r,f)=>!(!r||!Yt(r))&&f.location.origin!==Yt(r),Qt=function(r){const f=function(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct.k9;return"var Module = {};\n  Module.ajsRootUrl = '".concat(r,"';\n  importScripts(Module.ajsRootUrl + '").concat(f,"');")}(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct.k9),_=new Blob([f],{type:"application/javascript"});return URL.createObjectURL(_)},lt=Object.freeze({ENABLE:0,DISABLE:1}),ut=(Object.freeze({READY_TO_WRITE_CHUNK:0,CHUNK_WRITTEN:1}),Object.freeze({MESSAGE_IN_PROGRESS:0,MESSAGE_WRITTEN:1}),Object.freeze({busyLoopStatus:0,doneStatus:1,readWriteStatus:2,lengthByteFirst:3,lengthByteSecond:4,responseStart:5})),tr=(r,f)=>{r&&(new Uint8Array(r)[ut.busyLoopStatus]=f?lt.ENABLE:lt.DISABLE)};function rr(r,f){var _=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),_.push.apply(_,S)}return _}function nr(r){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?rr(Object(_),!0).forEach(function(f){ir(r,f,_[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(_)):rr(Object(_)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(_,f))})}return r}function ir(r,f,_){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var _=f.call(r,"string");if("object"!=typeof _)return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):r[f]=_,r}const ht=class{constructor(r){let{sendMessageToWorker:f,restartWorker:_,getOpenDocMessage:S}=r;this.sendMessageToWorker=f,this.restartWorker=_,this.getOpenDocMessage=S,this.pluginPortsMap=null,this.switchingState=$e.NOT_SWITCHED,this.restartingState=Ke.NOT_RESTARTING}canSwitch(){return this.switchingState===$e.NOT_SWITCHED}canRestart(){return this.restartingState===Ke.NOT_RESTARTING}isSwitching(){return this.switchingState===$e.SWITCHING}setSwitchingState(r){this.switchingState=r}setRestartState(r){this.restartingState=r}_pauseMessageProcessingAndExtractQueuedMessages(){return this.sendMessageToWorker({command:"pauseMessageProcessing",params:{}}),this.sendMessageToWorker({command:"getMessages",params:{}})}_reopenDocument(r){const f=this._isCommandOpenDoc(r)?null==r?void 0:r.msgId:void 0,_=!this._checkCommandInObject(r,L)&&this.getOpenDocMessage(f);if(_)return this.sendMessageToWorker(_)}_reprocessTriggerEvent(r){if(!r||this._checkCommandInObject(r,W)||this._checkCommandInObject(r,ie)||this._checkCommandInObject(r,Ce))return Promise.resolve();const f=[];return this._setAppearanceDataInEvent(r,f),this.sendMessageToWorker(nr(nr({},r),{},{priority:1,transferList:f}))}_restartWorkerAndRequeuePendingMessages(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=arguments.length>1?arguments[1]:void 0;return this.restartWorker().then(()=>{var _;const S=this._reopenDocument(r),k=this._isCommandOpenDoc(r)?S:this._reprocessTriggerEvent(r);return this._sendMessageListToWorker(null==f||null===(_=f.data)||void 0===_?void 0:_.msgList),null!=f&&f.data&&(this.pluginPortsMap=f.data.pluginPortsMap),this._sendPluginPortsToWorker(),k})}restartWorkerWithMessages(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.canRestart()?(this.setRestartState(Ke.RESTARTING),this._pauseMessageProcessingAndExtractQueuedMessages().then(f=>this._restartWorkerAndRequeuePendingMessages(r,f)).finally(()=>{this.setRestartState(Ke.NOT_RESTARTING)})):Promise.reject(new Error("Worker is already restarting"))}switchToFullBuild(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Promise.resolve();if(!this.canSwitch())return Promise.reject();this.setSwitchingState($e.SWITCHING);const _=this._pauseMessageProcessingAndExtractQueuedMessages();return Promise.all([_,f]).catch(r=>{throw this.setSwitchingState($e.NOT_SWITCHED),r}).then(f=>{let[_]=f;const S=_;return this._restartWorkerAndRequeuePendingMessages(r,S).finally(()=>{this.setSwitchingState($e.SWITCHED)})})}_isCommandOpenDoc(r){return this._checkCommandInObject(r,W)||this._checkCommandInObject(r,ie)}_checkCommandInObject(r,f){return(null==r?void 0:r.command)===f}_setAppearanceDataInEventHelper(r,f,_){const S=r;if(S&&S.params&&S.params.data){const{annotIndex:k}=r.params.data;if(void 0!==k&&k>=0&&k<f.length&&S.params.data.appearanceData){const r=f[k];S.params.data.appearanceData.buffer=r,_.push(r.buffer)}}}_setAppearanceDataInEvent(r,f){const _=r,S=_.currEventAppearanceData;if((null==S?void 0:S.length)>0){let r=_&&_.params&&_.params.data;_.params.data.commentData&&(r=_.params.data.commentData),r&&(Array.isArray(r)?r.forEach(r=>{this._setAppearanceDataInEventHelper(r,S,f)}):this._setAppearanceDataInEventHelper(_,S,f)),delete _.currEventAppearanceData}}_sendMessageListToWorker(r){if(!r)return;const f={command:"addMessages",params:{msgList:r}};this.sendMessageToWorker(f)}_sendPluginPortsToWorker(){if(this.pluginPortsMap&&this.pluginPortsMap instanceof Map&&this.pluginPortsMap.size>0){const r=[];return this.pluginPortsMap.forEach((f,_)=>{const S={command:oe,params:{port:f,pluginName:_},transferList:[f]};r.push(this.sendMessageToWorker(S))}),Promise.all(r).then(()=>{this.pluginPortsMap=null})}return Promise.resolve()}};function sr(r,f){var _=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),_.push.apply(_,S)}return _}function ar(r,f,_){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var _=f.call(r,"string");if("object"!=typeof _)return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):r[f]=_,r}const pt=class{constructor(r){let{getPluginModesInfo:f,messageCallback:_,logError:S,switchToFullBuild:k,enableWasmExceptions:C,switchToNonLinearizedWorkflow:I}=r;this.getPluginModesInfo=f,this.switchToFullBuild=k,this.messageCallback=_,this.logError=S,this.enableWasmExceptions=C,this.switchToNonLinearizedWorkflow=I,this._errorTypesLogged=[],this._lastEventBeforeWasmSwitch=null}get lastEventBeforeWasmSwitch(){return this._lastEventBeforeWasmSwitch}resetLastEventBeforeWasmSwitch(){this._lastEventBeforeWasmSwitch=null}handleWasmError(r,f,_,S){if(this._logErrorData(r,f,_,S),this.enableWasmExceptions){var k;const f=null==r||null===(k=r.data)||void 0===k?void 0:k.currEvent;return _===Xe.LINEARIZED?this.switchToNonLinearizedWorkflow(f):(this._sendCorruptFileError(f,r),Promise.resolve())}return this._handleSwitchJS(r,f)}_sendCorruptFileError(r,f){if(r&&r.msgId){var _;const S={error:"corruptFile",errorCode:null==f?void 0:f.errorCode,errorStack:null==f||null===(_=f.data)||void 0===_?void 0:_.stackTrace};this.messageCallback(r.msgId,S)}}_handleSwitchJS(r,f){var _;const S=null==r||null===(_=r.data)||void 0===_?void 0:_.currEvent;if(["FirstTimeSwitchJS","LinearizationSwitchJS"].includes(f))return this._lastEventBeforeWasmSwitch=S,this.switchToFullBuild(S);const k=this._lastEventBeforeWasmSwitch||S;return this._sendCorruptFileError(k,r),Promise.resolve()}_logErrorData(r,f,_,S){const k=[],{activePluginModeInfo:C,pluginModesEntered:I}=this.getPluginModesInfo(),{activePluginMode:L,activePluginModeStartTime:W}=C;I.forEach((r,f)=>{k.push(function(r){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?sr(Object(_),!0).forEach(function(f){ar(r,f,_[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(_)):sr(Object(_)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(_,f))})}return r}({name:f},r))});const ie={ajsError:{activePluginMode:L,pluginModesEntered:k}};if(L&&W){const r=performance.now();ie.ajsError.timeSpentInActivePluginMode=r-W}if(r&&r.data){const{currEvent:f,stackTrace:_,pdfUpdatesSoFar:k,memInfo:C}=r.data;f?ie.ajsError.currEvent=f.command:S&&(ie.ajsError.lastProcessedMessage=S.command),console.log(_),ie.ajsError.stackTrace=_,ie.ajsError.pdfUpdatesSoFar=k,ie.ajsError.memInfo=C}if(r){const f=["errorCode","filename","lineno","colno"];((r,f,_)=>{const S=r;void 0!==f&&void 0!==S&&_.forEach(r=>{const _=f[r];void 0!==_&&(S[r]=_)})})(ie.ajsError,r,f),console.error("Exception: ".concat(ie.ajsError.errorCode)),r.message&&(ie.ajsError.errorMessage=r.message)}ie.ajsError.type=f,this.enableWasmExceptions?(ie.ajsError.workflow=_,this._errorTypesLogged.includes(ie.ajsError.workflow)||(this.logError(ie.ajsError),this._errorTypesLogged.push(ie.ajsError.workflow))):this._errorTypesLogged.includes(ie.ajsError.type)||(this.logError(ie.ajsError),this._errorTypesLogged.push(ie.ajsError.type))}};i(6910),i(6167);const ft=65536,gt=(Object.freeze({approval:"Approval",certification:"Certification",ur:"Usage Rights"}),Object.freeze({valid:"valid",invalid:"invalid",unknown:"unknown"})),_t=Object.freeze({currentTime:"currentTime",signingTime:"signingTime"}),wt=Object.freeze({version:"Version",serialNumber:"Serial Number",issuer:"Issuer",subject:"Subject",validityStarts:"Validity Starts",validityEnds:"Validity Ends",keyUsage:"Key Usage",extendedKeyUsage:"Extended Key Usage",certificatePolicies:"Certificate Policies",crlDistributionPoints:"CRL Distribution Points",certificateAuthorityInformationAccess:"Certificate Authority Information Access",basicConstraints:"Basic Constraints",signatureAlgorithm:"Signature Algorithm",publicKey:"Public Key",subjectKeyIdentifier:"Subject Key Identifier",authorityKeyIdentifier:"Authority Key Identifier",x509Data:"X509 Data"}),bt=Object.freeze({HIGH:10,LOW:20});function pr(r,f){var _=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),_.push.apply(_,S)}return _}function gr(r){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?pr(Object(_),!0).forEach(function(f){mr(r,f,_[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(_)):pr(Object(_)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(_,f))})}return r}function mr(r,f,_){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var _=f.call(r,"string");if("object"!=typeof _)return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):r[f]=_,r}class vr{constructor(r){this.validators=r||[],this.X509Certificate=null,this.X509CRL=null}getCertificateDetails(r){return new Promise((f,_)=>{const n=()=>{const _=new this.X509Certificate(r);return f(_.getDetails())};if(this.X509Certificate)return n();Promise.all([i.e("vendors-node_modules_peculiar_asn1-adobe-acrobat_build_es2015_index_js"),i.e("src_DigitalSignature_X509_Extension_js-src_DigitalSignature_X509_Name_js"),i.e("X509Certificate")]).then(i.bind(i,1021)).then(r=>(this.X509Certificate=r.default,n())).catch(()=>f({}))})}getCRLDetails(r){return new Promise((f,_)=>{const n=()=>{const _=new this.X509CRL(r);return f(_.getDetails())};if(this.X509CRL)return n();Promise.all([i.e("vendors-node_modules_peculiar_asn1-adobe-acrobat_build_es2015_index_js"),i.e("src_DigitalSignature_X509_Extension_js-src_DigitalSignature_X509_Name_js"),i.e("X509CRL")]).then(i.bind(i,3009)).then(r=>(this.X509CRL=r.default,n())).catch(()=>f({}))})}async getParsedCertificates(){const r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(r=>this.getCertificateDetails(r));return(await Promise.allSettled(r)).map(r=>r.value)}async getParsedCRLs(){const r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(r=>this.getCRLDetails(r));return(await Promise.allSettled(r)).map(r=>r.value)}validate(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const f=[],_={trustSources:[],status:gt.unknown,certificates:r,validatorErrors:f,verifiedBy:"",validation:{validatedOn:_t.currentTime,timestamp:(new Date).toISOString()}},n=(S,k)=>{if(S>=this.validators.length)return k(gr({},_));this.validators[S].validate(r).then(r=>{var f;const C=null==r||null===(f=r.status)||void 0===f?void 0:f.toLowerCase();if(_.certificates=r.certificates,C===gt.valid||C===gt.invalid)return r.status=C,r.verifiedBy=this.validators[S].name(),k(gr(gr({},_),r));n(S+1,k)}).catch(r=>{f.push({validator:this.validators[S].name(),error:{message:r.message||"",reason:r.reason||{}}}),n(S+1,k)})};return new Promise(f=>{if(!r.length)return f(gr({},_));n(0,f)})}}i(3110);class br{constructor(r){this.validationManager=new vr(r)}_sortSignaturesBySigningTime(r){r.sort((r,f)=>{const _=r.signatureDetails.timestamp,S=f.signatureDetails.timestamp;return _||S?_?S?Date.parse(_)-Date.parse(S):-1:1:0})}_processSignatureData(r){this._sortSignaturesBySigningTime(r)}async _fixCertificateOrder(r){if(r.length<=1)return r;const f=await this.validationManager.getParsedCertificates(r);f.forEach((r,f)=>{r.index=f});try{const _=(r=>{if(!r.length)return r;r.length>=2&&r[0][wt.serialNumber]===r[1][wt.serialNumber]&&r.shift();const f=[],_=r.find(r=>{const f=r[wt.basicConstraints];if(f)return"No"===f.CA;const _=r[wt.keyUsage];return!(!_||_.includes("Crl Sign")||_.includes("Key Cert Sign"))});if(!_)return r;for(f.push(_);f.length<r.length;){const _=f[f.length-1],S=r.find(r=>r[wt.serialNumber]!==_[wt.serialNumber]&&JSON.stringify(r[wt.subject])===JSON.stringify(_[wt.issuer]));if(!S)break;f.push(S)}return f})(f);return _.map(f=>r[f.index])}catch(f){return r}}async _getCertificateChains(r){const f=[];if(!r||!r.signatures)return f;r.signatures.forEach(r=>{const _=r.certificates.map(r=>r.pem);f.push(_)});const _=f.map(r=>this._fixCertificateOrder(r));return(await Promise.allSettled(_)).map(r=>r.value)}async _handleX509Parsing(r,f){var _;null!=r&&null!==(_=r.certificates)&&void 0!==_&&_.length&&(f.certificates=await this.validationManager.getParsedCertificates(r.certificates))}_handleCertificateValidationInfo(r,f){f.certificateValidation={status:r.status||gt.unknown,trustSources:r.trustSources||[],verifiedBy:r.verifiedBy||"",validatorErrors:r.validatorErrors||[],validation:r.validation||{}}}async responseHandler(r,f){try{const f=(await this._getCertificateChains(r.data.data)).map(r=>this.validationManager.validate(r)),_=await Promise.allSettled(f),{signatures:S}=r.data.data;S.forEach((r,f)=>{const{value:S}=_[f];this._handleCertificateValidationInfo(S,r)});const k=S.map((r,f)=>{const{value:S}=_[f];return this._handleX509Parsing(S,r)});await Promise.allSettled(k),this._processSignatureData(r.data.data.signatures)}catch(r){}finally{f(r.data.msgId,r)}}}const Pt=["params"];function yr(r,f){var _=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),_.push.apply(_,S)}return _}function _r(r){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?yr(Object(_),!0).forEach(function(f){Pr(r,f,_[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(_)):yr(Object(_)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(_,f))})}return r}function Pr(r,f,_){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var _=f.call(r,"string");if("object"!=typeof _)return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):r[f]=_,r}class Sr{constructor(r){this._getAnnotData=r,this._annotData=new Map}getAnnotData(r){let{params:f}=r,_=function(r,f){if(null==r)return{};var _,S,k=function(r,f){if(null==r)return{};var _={};for(var S in r)if({}.hasOwnProperty.call(r,S)){if(f.includes(S))continue;_[S]=r[S]}return _}(r,f);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(r);for(S=0;S<C.length;S++)_=C[S],f.includes(_)||{}.propertyIsEnumerable.call(r,_)&&(k[_]=r[_])}return k}(r,Pt);const{annotId:S}=f;return new Promise((r,k)=>{this._getAnnotData(_r({params:f},_)).then(f=>{const _=_r({},f);_&&_.data&&_.data.annot?(_.data.annot=_r(_r({},_.data.annot),this._annotData.get(S)),r(_)):k({message:"Annotation data for annotation ID ".concat(S," not found")}),this._annotData.delete(S)}).catch(r=>{k(r)})})}setAnnotData(r){const{annotId:f}=r;this._annotData.set(f,r)}}const yt=["data"],At=["html","translationStatus"];function Ar(r,f){if(null==r)return{};var _,S,k=function(r,f){if(null==r)return{};var _={};for(var S in r)if({}.hasOwnProperty.call(r,S)){if(f.includes(S))continue;_[S]=r[S]}return _}(r,f);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(r);for(S=0;S<C.length;S++)_=C[S],f.includes(_)||{}.propertyIsEnumerable.call(r,_)&&(k[_]=r[_])}return k}function Dr(r,f){var _=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),_.push.apply(_,S)}return _}function Cr(r){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?Dr(Object(_),!0).forEach(function(f){Mr(r,f,_[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(_)):Dr(Object(_)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(_,f))})}return r}function Mr(r,f,_){return(f=Fr(f))in r?Object.defineProperty(r,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):r[f]=_,r}function Fr(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var _=f.call(r,"string");if("object"!=typeof _)return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}const St="".concat(I,"PerfTimings"),Rt=class{constructor(r){let{ajsWorkerPath:f="",useFullBuild:_=!1,enableWasmExceptions:S=!1,enableWasmChunking:k=!1,enableLogging:C=!1,workerCreator:I,signalDispatcher:L,windowObj:W,enableProgressiveRendering:ie=!1,apiTrackingInfo:ne,currentPluginCount:oe,hostEnv:le}=r;if(!window.Worker)throw new Error("Web Workers not supported!");Object.assign(this,Cr({ajsWorkerPath:f,useFullBuild:_,enableWasmExceptions:S,enableWasmChunking:k,enableLogging:C,signalDispatcher:L,workerCreator:I,windowObj:W,enableProgressiveRendering:ie,apiTrackingInfo:ne,hostEnv:le},E(oe)&&{currentPluginCount:oe})),this._messageMap={},this._unsettledMessageList=[],this._pdfBuffer=null,this._decryptedPdfBuffer=null,this._pdfPassword="",this._jsSAB=null,this._includeDocLevelActions=!1,this._messageCount=0,this.pluginModesEntered=new Map,this.activePluginModeInfo={activePluginMode:"",activePluginModeStartTime:null},this._linearizationInfo={},this._digSigHandler=null,this._cnpdfPrefetchedComponentLogs={},this.isCNPDF=!1,this._annotDataClient=new Sr(r=>this.sendMessageToWorker(r)),this._ftpdfWebViewCache=new Xt(r=>{this.sendMessageToWorker(r)},(r,f)=>{this.signalDispatcher.trigger(r,f)}),this._wasmSwitchHandler=new ht({sendMessageToWorker:r=>this.sendMessageToWorker(r),restartWorker:()=>this._restartWorker(),getOpenDocMessage:r=>this._getOpenDocMessage(r)}),this._wasmErrorHandler=new pt({getPluginModesInfo:()=>({activePluginModeInfo:this.activePluginModeInfo,pluginModesEntered:this.pluginModesEntered}),messageCallback:(r,f)=>this._callMessageCallback(r,f),logError:r=>this.signalDispatcher.trigger("ajsError",r),switchToFullBuild:r=>this._switchToFullBuild(r),enableWasmExceptions:this.enableWasmExceptions,switchToNonLinearizedWorkflow:r=>this.switchToNonLinearizedWorkflow(r)})}getEnableProgressiveRendering(){return this.enableProgressiveRendering}setEnableProgressiveRendering(){let r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.enableProgressiveRendering=r}_getUpdatedMessageCount(){return this._messageCount+=1,this._messageCount}_isWasmSupportedOnBrowser(){let r=!0;return-1===navigator.userAgent.indexOf("OS 11_2")||-1===navigator.userAgent.indexOf("iPhone")&&-1===navigator.userAgent.indexOf("iPad")||(r=!1),self.WebAssembly&&"object"==typeof self.WebAssembly||(r=!1),((()=>{const r=mt().name.toLowerCase();return"safari"===r||"mobile safari"===r})()&&vt(mt().version)||(()=>{const r=(new(xe())).getOS();return r&&"iOS"===r.name&&vt(r.version)})())&&(r=!1),r}_createWorker(){if(this.workerCreator&&"function"==typeof this.workerCreator&&(this.worker=this.workerCreator()),!this.worker){const r=this.enableWasmExceptions?ct.Nw:ct.k9;this.workerURL=$t(this.ajsWorkerPath,this.windowObj)?Qt(this.ajsWorkerPath,r):"".concat(this.ajsWorkerPath).concat(r),this.worker=new window.Worker(this.workerURL)}}init(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((_,S)=>{if(this._initResolve=_,this._initReject=S,!this._isWasmSupportedOnBrowser()){const r={error:"WASM is not supported on this browser!"};return this._initReject(r)}this.signalDispatcher.trigger(St,{[Qe]:performance.now()}),this._createWorker(),this.worker.onmessage=this._onWorkerMessage.bind(this),this.worker.onerror=this._onWorkerError.bind(this);const k=this._wasmSwitchHandler.isSwitching(),C=this.enableWasmExceptions?ct.N9:ct.an,I={command:"init",params:{useFullBuild:k||this.useFullBuild,enableLogging:this.enableLogging,totalMemory:r,t5Cache:Math.max(f,209715200),enableProgressiveRendering:this.getEnableProgressiveRendering(),enableWasmChunking:this.enableWasmChunking,apiTrackingInfo:this.apiTrackingInfo,hostEnv:this.hostEnv,devicePixelRatio:window.devicePixelRatio,renderingWorkerPath:$t(this.ajsWorkerPath,this.windowObj)?Qt(this.ajsWorkerPath,C):"".concat(this.ajsWorkerPath).concat(C)}};this._ajsBinaryStartTime=performance.now(),this.signalDispatcher.trigger("ajsBinaryLoadStarted",{startTime:this._ajsBinaryStartTime,isFullBuild:k||this.useFullBuild}),this._postToWorker(I),this.getEnableProgressiveRendering()&&this.createMsgChannelBwMainAndRenderingWorker()})}createMsgChannelBwMainAndRenderingWorker(){const{port1:r,port2:f}=new MessageChannel;this._postToWorker({command:"transferPortToRenderingWorker",port:r,transferList:[r]}),f.onmessage=this._onWorkerMessage.bind(this)}registerPDFBufferFetcher(r){this.fetchPDFBufferRanges=r}_handleCNPDFDownloadManagerEvent(r,f){switch(r){case"componentDownloadEnd":{const{componentPath:r,componentArrayBuffer:_}=f;if(r&&_){const f={[r]:_};this.sendMessageToWorker({command:"setCnpdfComponents",params:{cnpdfComponents:f}})}break}case"completeCNPDFAvailable":this.signalDispatcher.trigger("completeCNPDFAvailable",{})}}setCNPDFDownloadManager(r){this.isCNPDF=!0,this._cnpdfDownloadManager=r,this._cnpdfDownloadManager.subscribe(this._handleCNPDFDownloadManagerEvent.bind(this))}notifyPDFBuffer(r){const f={command:"setPDFBuffer",params:{buffer:r}};this.signalDispatcher.trigger("completePDFBufferAvailable",{}),this.setPDFBuffer(r),this._postToWorker(f)}setPDFBuffer(r){this._pdfBuffer=r}terminate(){var r;this._terminateWorker(),null===(r=this._cnpdfDownloadManager)||void 0===r||r.terminate(),dt("AJS proxy worker is terminated")}terminateRenderingWorker(){const r={command:"terminateRenderingWorker"};return this.sendMessageToWorker(r)}_terminateWorker(){this.worker&&this.worker.terminate()}_canSwitchToFullBuild(){return!this.useFullBuild&&this._wasmSwitchHandler.canSwitch()}_restartWorker(){return this._terminateWorker(),this.worker=void 0,this.init()}loadFullWorker(){return this._switchToFullBuild()}getUpdatedPDF(){const r={data:{buffer:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._decryptedPdfBuffer:this._pdfBuffer},isCNPDF:this.isCNPDF};return Promise.resolve(r)}getPDFBufferForCNPDF(){const r={data:{buffer:this._pdfBufferForCNPDF},isCNPDF:this.isCNPDF};return Promise.resolve(r)}_getOpenDocMessage(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.isCNPDF&&this._openCNPDFMessage)return this._openCNPDFMessage;const f={command:W,priority:1,params:{buffer:this._pdfBuffer,password:this._pdfPassword,includeActions:this._includeDocLevelActions,jsSAB:this._jsSAB}};return r&&(f.msgId=r),f}_cleanUpLinearizationWorkflow(){let r=Promise.resolve();return this._pdfBuffer||(r=this.fetchPDFBufferRanges([{start:0}]).then(r=>{const f=r[0];this.setPDFBuffer(f)})),r.then(()=>{this._linearizationInfo={},this.fetchPDFBufferRanges=null})}isLinearizedWorkflow(){return this._linearizationInfo.pdfSize}switchToNonLinearizedWorkflow(r){return this.sendMessageToWorker({command:"pauseMessageProcessing",params:{}}),this._cleanUpLinearizationWorkflow().then(()=>{const f=(null==r?void 0:r.command)===W,_=f?r.msgId:"",S=this._getOpenDocMessage(_);S.params.switchingToNonLinearizedWorkflow=!0;const k=this.sendMessageToWorker(S);let C;return C=r&&!f?this.sendMessageToWorker(r):k,this.sendMessageToWorker({command:"resumeMessageProcessing",params:{}}),C})}_switchToFullBuild(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._canSwitchToFullBuild()){tr(this._jsSAB,!1);const f=this.isLinearizedWorkflow()?this._cleanUpLinearizationWorkflow():Promise.resolve();return this._wasmSwitchHandler.switchToFullBuild(r,f)}return Promise.resolve()}_onWasmError(r){let f="WASM_ERROR";this.enableWasmExceptions||(f="SecondTimeSwitchJS",this._canSwitchToFullBuild()&&(f=this.isLinearizedWorkflow()?"LinearizationSwitchJS":"FirstTimeSwitchJS"));const _=this.isLinearizedWorkflow()?Xe.LINEARIZED:Xe.NON_LINEARIZED;return this._wasmErrorHandler.handleWasmError(r,f,_,this._lastMessage).then(()=>{var _;const S=this.isCNPDF&&(null==r||null===(_=r.data)||void 0===_||null===(_=_.currEvent)||void 0===_?void 0:_.command)===ie;["WASM_ERROR","SecondTimeSwitchJS"].includes(f)&&!S&&(this._postToWorker({command:"resumeMessageProcessing",params:{}}),tr(this._jsSAB,!0))})}_populateCnpdfComponents(r,f){if(f&&Object.keys(f).length>0&&r.params){const _=r.params.cnpdfComponents||{};r.params.cnpdfComponents=Cr(Cr({},_),f)}}_logPrefetchedCnpdfComponents(r,f){if(f&&Object.keys(f).length>0){const _=this._cnpdfDownloadManager.prefetchedComponentLogs().filter(r=>{const{componentPath:_}=r;return Object.keys(f).includes(_)});_.length>0&&(this._cnpdfPrefetchedComponentLogs[r.msgId]=_)}}sendMessageToWorker(r){let f=Promise.resolve();!this.enableWasmExceptions&&Fe.includes(r.command)&&(f=this.loadFullWorker());let _=Promise.resolve();return this._cnpdfDownloadManager&&(_=this._cnpdfDownloadManager.fetchMissingComponents(r,I)),Promise.all([f,_]).then(f=>{let[_,S]=f;if(this._populateCnpdfComponents(r,S),r.command===W&&r.params){const{buffer:f,password:_,linearizationInfo:S,jsSAB:k,includeActions:C}=r.params;S?(this._linearizationInfo=S,this._int32PartialPDFSAB=new Int32Array(this._linearizationInfo.partialPDFSAB)):(this._pdfBuffer=f,this.signalDispatcher.trigger("completePDFBufferAvailable",{})),this._pdfPassword=_,this._includeDocLevelActions=C,this._jsSAB=k}if(r.command===le){const{certificateChainValidators:f}=r.params;this._digSigHandler=new br(f),delete r.params.certificateChainValidators}return new Promise((f,_)=>{const k=r,C=performance.now();k.mainThreadDispatchTime=j(),k.msgId||(k.msgId=this._getUpdatedMessageCount(),this._logPrefetchedCnpdfComponents(k,S),this._messageMap[k.msgId]=r=>{const S=performance.now()-C;let I={};r.error?(I=Cr(Cr({},r),{},{totalTime:S}),_(I)):(I=Cr(Cr({},r.data),{},{totalTime:S}),f(I)),dt("msgId and TotalTime",k.msgId,S)}),this._postToWorker(k)})})}sendMessageToWorkerSynchronously(r){return new Promise((f,_)=>{const S=r,k=performance.now();S.msgId||(S.msgId=this._getUpdatedMessageCount(),this._messageMap[S.msgId]=r=>{const C=performance.now()-k;let I={};r.error?(I=Cr(Cr({},r),{},{totalTime:C}),_(I)):(I=Cr(Cr({},r.data),{},{totalTime:C}),f(I)),dt("msgId and TotalTime",S.msgId,C)}),this._postToWorker(S)})}_trackMessage(r){null!=r&&r.msgId&&this.apiTrackingInfo.enabled&&this.apiTrackingInfo.trackList.includes(r.command)&&this._unsettledMessageList.push(r.msgId)}_postToWorker(r){const f=r;dt("message to worker",f);const _=f.transferList||[];delete f.transferList,this._trackMessage(f),this.worker.postMessage(f,_)}_updatePluginInfo(r){const{activePluginMode:f,activePluginModeStartTime:_}=this.activePluginModeInfo,{activePluginMode:S}=r;let k=null;if(S&&(k=performance.now(),this.pluginModesEntered.has(S)||this.pluginModesEntered.set(S,{})),f&&_){const r=performance.now();this.pluginModesEntered.set(f,{timeSpent:r-_})}this.activePluginModeInfo={activePluginMode:S,activePluginModeStartTime:k}}_notifyBufferRanges(r,f){if(r.length!==f.length)this._int32PartialPDFSAB[0]=Oe.INCOMPLETE_BUFFER_RANGES_DOWNLOADED;else{let r,_,S=f.length;for(let k=0;k<f.length;k++){if(r=new Uint8Array(f[k]),this._int32PartialPDFSAB[k]=r.length,_=new Int32Array(r,0,r.length),this._int32PartialPDFSAB.length-S<_.length){this._int32PartialPDFSAB[0]=Oe.SAB_INDEX_OUT_OF_BOUNDS;break}this._int32PartialPDFSAB.set(_,S),S+=_.length}}Atomics.notify(this._int32PartialPDFSAB,0,1)}_handleFileData(r){let{fileDescription:f,fileId:_,fileData:S,fileDataMimeType:k}=r;"annotData"===f&&this._setAnnotData({annotId:_,annotData:S,annotDataMimeType:k})}getAnnotData(r){return this._annotDataClient.getAnnotData(r)}_setAnnotData(r){this._annotDataClient.setAnnotData(r)}getFTPDFWebViewHTMLStream(r,f){return this._ftpdfWebViewCache.getHTMLStream(r,f,this.sendMessageToWorker.bind(this))}_setFTPDFWebViewHTML(r,f,_){this._ftpdfWebViewCache.setHTML(r,f,_)}getLiquidModeViewResource(r){return this._ftpdfWebViewCache.getResource(r)}_setFTPDFWebViewResource(r,f,_){this._ftpdfWebViewCache.setResource(r,f,_)}_notifyIfWorkerIdle(){this.currentPluginCount()||0!==this._unsettledMessageList.length||this.signalDispatcher.trigger("workerIdle",{})}_removeUnsettledMessage(r){const f=this._unsettledMessageList.indexOf(r);this._unsettledMessageList.splice(f,1)}_refineDataForLogging(r){if(!r.transferList)return r;const f=r.transferList,{data:_}=r,S=Ar(r,yt);if(!_[f])return r;const{[f]:k}=_,C=Ar(_,[f].map(Fr));return Cr(Cr({},S),{},{data:Cr(Cr({},C),{},{[f]:"data not logged by default"})})}_onWorkerMessage(r){const{data:f}=r;if(f.workerThreadDispatchTime&&(f.workerToMainTime=j()-f.workerThreadDispatchTime,delete f.workerThreadDispatchTime),dt("message from worker",this._refineDataForLogging(f)),"proxyInitDone"===f.message)this.signalDispatcher.trigger(St,{[Ye]:R(f.proxyInitTime)});else if("fileData"===f.message)this._handleFileData(f);else if("init"===f.command){if(!f.isInitialized)return this._initReject({error:f.error});this.signalDispatcher.trigger(St,{[Ze]:performance.now()}),this._initResolve()}else if("wasmInitTime"===f.command){const{importScriptStartTime:r,importScriptEndTime:_,wasmInitTime:S,wasmLoadStartTime:k,wasmLoadEndTime:C,resourceType:I}=f;this.signalDispatcher.trigger("ajsBinaryTotalTime",{ajsBinaryTotalTime:performance.now()-this._ajsBinaryStartTime,resourceType:I}),this.signalDispatcher.trigger(St,{[tt]:R(k),[rt]:R(C),[et]:R(S),[at]:R(r),[ot]:R(_)})}else if("secondaryModuleLoaded"===f.command){const{info:r,timings:_}=f,{secondaryModuleInitTime:S,secondaryModuleLoadStartTime:k,secondaryModuleLoadEndTime:C}=_,I={[it]:R(k),[nt]:R(C),[st]:R(S)};this.signalDispatcher.trigger(St,I),this.signalDispatcher.trigger("secondaryModuleLoaded",Cr(Cr({},r),I))}else if("generateGlyphBitmap"===f.command){const{resolveId:r,params:S}=f,{fontInfo:k,chars:C}=S,I=_.generateGlyphBitmap(C,k),{matrix:L}=k;this.signalDispatcher.trigger("unembeddedFontsDetected",{chars:C,fontName:L.fontName});const W={command:"missingFontBitmaps",params:{missingTextData:I,resolveId:r}};this._postToWorker(W)}else if("updatePDFBuffer"===f.command)f.pdfBuffer&&(f.decryptedBuffer?this._decryptedPdfBuffer=f.pdfBuffer:this._pdfBuffer=f.pdfBuffer);else if("updatePDFBufferForCNPDF"===f.command)this._pdfBufferForCNPDF=f.pdfBuffer;else if("updateCNPDF"===f.command)this._cnpdfDownloadManager.updateCNPDF(f);else if("fetchPDFBufferRanges"===f.command)if(this._pdfBuffer){dt("fetchPDFBufferRanges: full pdf available");const r=f.ranges.map(r=>this._pdfBuffer.slice(r.start,Math.min(r.end+1,this._pdfBuffer.byteLength)));this._notifyBufferRanges(f.ranges,r)}else this.fetchPDFBufferRanges(f.ranges).then(r=>this._notifyBufferRanges(f.ranges,r));else if("fetchCNFTPDFUpdates"===f.command)this._ftpdfWebViewCache.fetchCNFTPDFUpdates(f);else if("liquidModePerfMarker"===f.command)this._ftpdfWebViewCache.recordPerfMarker(f);else if("setFTPDFWebViewHTML"===f.command){const{html:r,translationStatus:_}=f,S=Ar(f,At);this._setFTPDFWebViewHTML(r,_,S)}else if("setFTPDFWebViewResource"===f.command){const{resourceURL:r,resourceContent:_,resourceMimeType:S}=f;this._setFTPDFWebViewResource(r,_,S)}else if(f.command===le)this._digSigHandler&&this._digSigHandler.responseHandler(r,this._callMessageCallback.bind(this));else if(f.lastProcessedMessage)this._lastMessage=f.lastProcessedMessage;else if(Object.prototype.hasOwnProperty.call(f,"activePluginMode")&&"string"==typeof f.activePluginMode)this._updatePluginInfo(f);else if("trackingEvent"===f.command)this.signalDispatcher.trigger(f.eventName,f.data);else if("trackDeletedMessages"===f.command)this._settleMessages(f.deletedMessagesList);else{"openPDF"===f.command&&this._pdfBuffer&&tr(this._jsSAB,!0);const{msgId:_,error:S}=f;if(void 0!==_)if("WASM_ERROR"===S)this._onWasmError(f);else{let k;if(S)k=Cr(Cr({},f),{},{error:f.err_code||S});else{k=r;const S=this._cnpdfPrefetchedComponentLogs[_];delete this._cnpdfPrefetchedComponentLogs[_],f.isCNPDF=this.isCNPDF,S&&(Array.isArray(f.cnpdfComponentsFetched)?f.cnpdfComponentsFetched.push(...S):f.cnpdfComponentsFetched=S)}this._callMessageCallback(_,k)}}}_settleMessages(r){this._unsettledMessageList.length&&(r.forEach(r=>{this._removeUnsettledMessage(r)}),setTimeout(()=>{this._notifyIfWorkerIdle()},10)),r.forEach(r=>delete this._messageMap[r])}_callMessageCallback(r,f){const{lastEventBeforeWasmSwitch:_}=this._wasmErrorHandler;_&&r===_.msgId&&this._wasmErrorHandler.resetLastEventBeforeWasmSwitch();const S=this._messageMap[r];E(S)&&S(f),this._settleMessages([r])}_onWorkerError(r){this._onWasmError(r)}},Dt=class{constructor(){this._reset()}_reset(){this.commonListeners=[]}subscribe(r){this.commonListeners.includes(r)||this.commonListeners.push(r)}unsubscribe(r){this.commonListeners.includes(r)&&this.commonListeners.splice(this.commonListeners.indexOf(r),1)}getAllListeners(){return this.commonListeners}trigger(){for(var r=arguments.length,f=new Array(r),_=0;_<r;_++)f[_]=arguments[_];this.commonListeners.forEach(r=>r(...f,I))}removeAll(){this._reset()}},Tt={ZOOM_LEVEL_CHANGE:"zoomLevelChange",HC_THEME_CHANGE:"highContrastThemeChange"},kt=(Object.freeze({invalid:0,openPDF:1,openCNPDF:2,applyCNPDFUpdates:3,getPageRendition:4,getPageRangeGeometry:5,extractPageText:6,selectContent:7,hitTest:8,getSelectedText:9,getBookmarks:10,getDataFromNamesTree:11,getAttachments:12,getAttachmentBuffer:13,getHyperlinkData:14,findText:15,getAnnotAppearance:16,createAnnot:17,editAnnot:18,deleteAnnot:19,getAnnots:20,getVoiceAnnotData:21,registerLicense:22,getDocumentXMPMetadata:23,editWillBegin:24,editDidEnd:25,processAction:26,editOperationBegin:27,editOperationDone:28,getPageFontList:29,saveChangesToDoc:30,getPDFBufferForCNPDF:31,setLinearizedBlockSize:32,getFASFields:33,createFASField:34,deleteFASField:35,updateFASField:36,flattenFASFields:37,getFASFieldAppearance:38,createAnnots:39,deleteAnnots:40,translateToLiquidModeView:41,applyCNFTPDFUpdates:42,getHtmlLocationForDocPoint:43,getDocPointForHtmlLocation:44,JSApi:45,createFormField:46,createFormFields:47,updateFormField:48,deleteFormField:49,deleteFormFields:50,getFormFields:51,updateSignMetadata:52,getSignMetadata:53,lockFormFields:54,createLinkAnnot:55,getLinkAnnots:56,editLinkAnnot:57,deleteLinkAnnot:58,deleteLinkAnnots:59,addIcon:60,updateDocInfo:61,updateFormFields:62,detectSignFields:63,getOverprintType:64,verifyDigitalSignatures:65,editLinkAnnots:66,isFileQualifiedForLiquidMode:67,removeOffScreenCanvas:68,terminateRenderingWorker:69,detectLanguage:70,getPagesScanStatus:71,getMetadata:72,isScannedDocument:73,getImageBuffer:74,getDocumentParts:75,setDocumentParts:76,getImageC2PAMetadata:77,getPageChannel:78}),Object.freeze({kNoError:0,kZeroByteFile:1,kPDFDownloadingError:2,kIncorrectPassword:3,kLinearizationDictNotFound:4,kUnknownError:5}),Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2,INVALID:3,IMAGE:4,PATH:5}),Object.freeze({kNoDirection:0,kForwardArrow:1,kBackwardArrow:2,kUpArrow:3,kDownArrow:4})),Ct=Object.freeze({kNoShortcut:0,kLineBegin:1,kLineEnd:2}),It=Object.freeze({NORMAL:1,RELAXED:2,DISABLED:3}),jt=Object.freeze({BREAK_ON_FIRST_NON_SCANNED_PAGE:1,BREAK_ON_FIRST_SCANNED_PAGE:2}),Ft=Object.freeze({PAGE:0,TEXT:1,PATH:2,IMAGE:3,GLYPHINFO:4});function Br(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",S=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{childCb:k,componentCb:C}=f,{components:I,children:L,path:W}=r;let ie;ie=W?"".concat(_,"/").concat(W):"".concat(_),Array.isArray(I)&&E(C)&&I.forEach(r=>{const f="".concat(ie,"/").concat(r.path);C({component:r,absolutePath:f})}),Array.isArray(L)&&L.forEach(r=>{if(E(k)){const f="".concat(ie,"/").concat(r.path);k({child:r,absolutePath:f})}S&&Br(r,f,ie,S)})}function zr(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return f?"".concat(r," page number ").concat(f):r}class Hr{constructor(r){let{manifest:f,cnpdfFetcher:_,waitForFullCNPDF:S=!1}=r;this._manifest=f,this._cnpdfFetcher=_,this._componentCache={},this._componentPathIdDict={},this._componentIdPathDict={},this._requiredComponentPerPageList={},this._waitForFullCNPDF=S,this._fullCnpdfAvailable=!1,this._fetchedCNPDFComponentLogs=[],this._xrefPaths=[],this._signalDispatcher=new Dt,this._handleCnpdfManagerEvent=this.handleCnpdfManagerEvent.bind(this),this._resetDiffComponents(),this._componentAvailabilityMap={ajs:{}},this._init()}_init(){this._componentAvailabilityMap.ajs=new Map,this._mapComponents(this._manifest),this._cnpdfFetcher.subscribe(this._handleCnpdfManagerEvent)}getManifest(){return this._manifest}applyCNPDFUpdates(r){let{manifest:f,updatedComponents:_}=r;this._manifest=f,this._mapComponents(this._manifest),this._freeComponentCache(_)}handleCnpdfManagerEvent(r){const{eventName:f,componentId:_,componentPath:S,componentArrayBuffer:k}=r;switch(f){case"componentDownloadStart":default:break;case"componentDownloadEnd":if(_)this._componentCache[_]=k;else if(S){const r=this._componentPathIdDict[S];this._componentCache[r]=k}this._notifyIfFullCNPDFAvailable(),this._signalDispatcher.trigger("componentDownloadEnd",{componentId:_||this._componentPathIdDict[S],componentPath:S||this._componentIdPathDict[_],componentArrayBuffer:k})}}subscribe(r){this._signalDispatcher.subscribe(r)}unsubscribe(r){this._signalDispatcher.unsubscribe(r)}_mapComponents(r){this._xrefPaths=[],function Ur(r,f){Br(r,{componentCb:f},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",!(arguments.length>3&&void 0!==arguments[3])||arguments[3])}(r,r=>{let{component:f,absolutePath:_}=r;if(this._componentPathIdDict[_]=f.id,this._componentIdPathDict[f.id]=_,_.includes("/pages/")){const r=_.match(/\/pages\/(\d+)\/pageObjects\.cos/);if(r){const f=parseInt(r[1],10);this._requiredComponentPerPageList[f+1]||(this._requiredComponentPerPageList[f+1]=[]),this._requiredComponentPerPageList[f+1]=[...this._requiredComponentPerPageList[f+1],_]}}_.endsWith("xref.json")&&this._xrefPaths.push(_)})}_getRequiredComponentList(r){if(this._waitForFullCNPDF)return Object.keys(this._componentIdPathDict);if(void 0===r.params)return[];const f=[],_=[];switch(r.command){case"openCNPDF":f.push("/page-hints-table.json","/root/rootObjects.cos","/document/StructTree.cos","/document/docObjects.cos","/document/NameTree.cos"),f.push(...this._xrefPaths);break;case"getPageRendition":{var S;const _=null===(S=r.params)||void 0===S?void 0:S.pageNum;_&&this._requiredComponentPerPageList[_]&&f.push(...this._requiredComponentPerPageList[_]);break}case"applyCNPDFUpdates":{const{updatedComponents:f,addedComponents:S}=r.params,i=r=>{Array.isArray(r)&&_.push(...r.map(r=>r.id))};i(f),i(S);break}case"getPDFBufferForCNPDF":Object.keys(this._componentPathIdDict).forEach(r=>{f.push(r)})}return[...f.map(r=>this._componentPathIdDict[r]),..._].filter(r=>void 0!==r)}_verifyAllComponentsCached(){return Object.keys(this._componentPathIdDict).every(r=>this._componentCache[this._componentPathIdDict[r]])}_notifyIfFullCNPDFAvailable(){this._verifyAllComponentsCached()&&!this._fullCnpdfAvailable&&(this._signalDispatcher.trigger("completeCNPDFAvailable",{}),this._fullCnpdfAvailable=!0)}_resetDiffComponents(){this._diffComponents=[]}registerPageLevelApis(r){}registerDocLevelApis(r){}fetchMissingComponents(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajs";const _=[Promise.resolve()],S=this._getRequiredComponentList(r);for(const f of S)if(!this._componentCache[f]){const S=performance.now(),k=this._cnpdfFetcher.getComponent({componentId:f}).then(r=>{this._componentCache[f]=r});_.push(k),k.then(()=>{var _;const k=zr(r.command,null===(_=r.params)||void 0===_?void 0:_.pageNum);this._fetchedCNPDFComponentLogs.push({componentPath:this._componentIdPathDict[f],componentId:f,timeTakenToPrefetch:performance.now()-S,trigger:k})})}return Promise.all(_).then(()=>{const r={};for(const _ of S)!this._componentAvailabilityMap[f].get(_)&&this._componentCache[_]&&(this._componentAvailabilityMap[f].set(_,!0),r[this._componentIdPathDict[_]]=this._componentCache[_]);return r})}prefetchedComponentLogs(){const r=this._fetchedCNPDFComponentLogs;return this._fetchedCNPDFComponentLogs=[],r}prefetchCNPDF(){return this.fetchCompleteCNPDF(bt.LOW)}updateCNPDF(r){let{manifest:f,diffComponents:_}=r;this._manifest=f,_.forEach(r=>{this._componentCache[r.id]=r.componentBuffer}),this._diffComponents.push(..._)}getCNPDFUpdates(){const r=structuredClone(this._manifest);return Br(r,{componentCb:r=>{let{component:f}=r;this._diffComponents.find(r=>r.id===f.id)&&(f.componentBuffer=this._componentCache[f.id])}}),this._resetDiffComponents(),{updatedManifest:r}}fetchCompleteCNPDF(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt.HIGH;return this._cnpdfFetcher.fetchCompleteCNPDF(r).then(r=>{if(r){const f={};return Object.entries(r).forEach(r=>{let[_,S]=r;this._componentCache[_]=S;const k=this._componentIdPathDict[_];k&&(f[k]=S)}),this._notifyIfFullCNPDFAvailable(),f}return r})}isFullCNPDFAvailable(){return this._fullCnpdfAvailable}_freeComponentCache(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(r=>{const f=r.id;f&&this._componentCache[f]&&delete this._componentCache[f]})}terminate(){this._signalDispatcher.removeAll()}}const qr=(r,f,_,S)=>{const k=f[0],C=_-f[3],I=f[2]-f[0],L=f[3]-f[1];r.fillStyle="rgba(".concat(S,", ").concat(S,", ").concat(S,", 1)"),r.fillRect(k,C,I,L)},Et=["openPdfResponseCallback"],Nt=["evtName"];function Jr(r,f){if(null==r)return{};var _,S,k=function(r,f){if(null==r)return{};var _={};for(var S in r)if({}.hasOwnProperty.call(r,S)){if(f.includes(S))continue;_[S]=r[S]}return _}(r,f);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(r);for(S=0;S<C.length;S++)_=C[S],f.includes(_)||{}.propertyIsEnumerable.call(r,_)&&(k[_]=r[_])}return k}function Xr(r,f){var _=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),_.push.apply(_,S)}return _}function Kr(r){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?Xr(Object(_),!0).forEach(function(f){Yr(r,f,_[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(_)):Xr(Object(_)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(_,f))})}return r}function Yr(r,f,_){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var _=f.call(r,"string");if("object"!=typeof _)return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):r[f]=_,r}class $r{constructor(r){let{ajsPath:f="",enableLogging:_=!1,useFullBuild:S=!1,enableWasmExceptions:k=!1,workerCreator:C,windowObj:I=window,enableProgressiveRendering:L=!1,enableWasmChunking:W=!1,apiTrackingInfo:ie={enabled:!1,trackList:[]},hostEnv:ne}=r;const oe=Array.isArray(ie.trackList);Object.assign(this,{ajsPath:f,useFullBuild:S,enableWasmExceptions:k,enableLogging:_,workerCreator:C,windowObj:I,enableProgressiveRendering:L,enableWasmChunking:W,apiTrackingInfo:{enabled:ie.enabled&&oe,trackList:oe?ie.trackList:[]},hostEnv:ne}),this._signalDispatcher=new Dt,this._pluginsMap=new Map,this._primaryAJSWorkerInitPromise=null,this._cnpdfAJSWorkerInitPromise=null,this._canvasMap=new Map,i.p=f,this._completePDFBufferPromise=null,this._fetchPdfBufferRangesCallback=null,this._linearizationPdfSize=0,this._coreApisForPlugins={},this._isCNPDFSwitchSuccessful=!1}get _isRenderingWorkerPresent(){return this._ajsWorker.getEnableProgressiveRendering()||!1}get _ajsWorker(){return this._cnpdfAJSWorker&&this._isCNPDFSwitchSuccessful?this._cnpdfAJSWorker:this._primaryAJSWorker}get ajsWorkerInitPromise(){return this._cnpdfAJSWorker&&this._isCNPDFSwitchSuccessful?this._cnpdfAJSWorkerInitPromise:this._primaryAJSWorkerInitPromise}_attachListenerToPlugin(r,f){const _=this._getPlugin(f);_&&_.subscribe(r)}_attachAllListenersToPlugin(r){this._signalDispatcher.getAllListeners().forEach(f=>this._attachListenerToPlugin(f,r))}_attachListenerToAllPlugins(r){this._pluginsMap.forEach((f,_)=>this._attachListenerToPlugin(r,_))}_removeAllListenersFromPlugin(r){const f=this._getPlugin(r);f&&this._signalDispatcher.getAllListeners().forEach(f.unsubscribe)}_removeListenerFromAllPlugins(r){this._pluginsMap.forEach(f=>f.unsubscribe(r))}_currentPluginCount(){return this._pluginsMap.size}_checkPluginDoesNotExist(r){let{name:f}=r;return new Promise((r,_)=>{this._getPlugin(f)&&_(new Error("Plugin ".concat(f," already exists"))),r()})}_checkApisDontExist(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((f,_)=>{const S=r.filter(r=>this[r]);S.length&&_(new Error("Following apis already exist: ".concat(S.join(",")))),f()})}_getPlugin(r){return this._pluginsMap.has(r)?this._pluginsMap.get(r):null}_sendCoreApisToPlugin(r){const f=this._getPlugin(r);f&&f.setCoreApis(this._getExposedApis(f.requestedApiList))}_getCNPDFDownloadManager(){return this._cnpdfDownloadManager}_getExposedApis(){const r={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(f=>{this[f]?r[f]=Promise.resolve(this[f].bind(this)):this._coreApisForPlugins[f]&&(r[f]=Promise.resolve(this._coreApisForPlugins[f].bind(this)))}),r}_populateSupportedPluginApis(r){let{name:f}=r;const _=this._getPlugin(f);_.supportedApiList.forEach(r=>{this[r]=_[r].bind(_)})}_removeSupportedPluginApis(r){let{name:f}=r;const _=this._getPlugin(f);_&&_.supportedApiList.forEach(r=>{delete this[r]})}_createMessageChannel(r,f){const{port1:_,port2:S}=new MessageChannel;return Promise.all([this._transferPortToPlugin(_,r),this._transferPortToT5(S,f)])}_transferPortToPlugin(r,f){const _={params:{port:r},transferList:[r]};return f.addMessagePort(_)}_transferPortToT5(r,f){const _={command:oe,params:{port:r,pluginName:f},transferList:[r]};return this._ajsWorker.sendMessageToWorker(_)}_removePluginPortFromT5(r){const f={command:"removeMessagePort",params:{pluginName:r}};return this._ajsWorker.sendMessageToWorker(f)}_createBatchOfMessagesAndSendToWorker(r,f,_,S){const k=[],C=[];f.forEach((r,S)=>{const I={command:_,params:Kr(Kr({},r),{},{shouldUpdatePDFBuffer:S===f.length-1})};if(k.push(I),r&&r.data&&r.data.appearanceData&&r.data.appearanceData.buffer){const f=r.data.appearanceData.buffer;C.push(f.buffer)}});const I={command:r,priority:S,params:{data:k},processingMode:Ve.BATCHED,transferList:C};return this._ajsWorker.sendMessageToWorker(I)}_terminateAllWorkers(){return this._signalDispatcher.removeAll(),Promise.all([this._terminatePrimaryWorker(),this._terminateCNPDFWorker()])}_terminateAJSWorkerInstance(r){return r?r.terminateRenderingWorker().catch(()=>{}).finally(()=>{null==r||r.terminate()}):Promise.resolve()}_terminatePrimaryWorker(){return this._terminateAJSWorkerInstance(this._primaryAJSWorker).then(()=>{this._primaryAJSWorker=null,this._primaryAJSWorkerInitPromise=null})}_terminateCNPDFWorker(){return this._terminateAJSWorkerInstance(this._cnpdfAJSWorker).then(()=>{this._cnpdfAJSWorker=null,this._cnpdfAJSWorkerInitPromise=null})}_createAJSWorker(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ajsPath:f,useFullBuild:_,enableWasmExceptions:S,enableWasmChunking:k,enableLogging:C,workerCreator:I,windowObj:L,enableProgressiveRendering:W,hostEnv:ie}=this;return(r=>{Ee=r})(C),new Rt(Kr({ajsWorkerPath:"".concat(f,"build/"),useFullBuild:_,enableWasmExceptions:S,enableWasmChunking:k,enableLogging:C,workerCreator:I,signalDispatcher:this._signalDispatcher,currentPluginCount:this._currentPluginCount.bind(this),windowObj:L,enableProgressiveRendering:W,apiTrackingInfo:this.apiTrackingInfo,hostEnv:ie},r))}_initCNPDFWorker(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._cnpdfAJSWorker=this._createAJSWorker(r),this._cnpdfAJSWorkerInitPromise=this._cnpdfAJSWorker.init(),this._cnpdfAJSWorkerInitPromise}init(){return this._primaryAJSWorker=this._createAJSWorker(),this._primaryAJSWorkerInitPromise=this._primaryAJSWorker.init(),this.ajsWorkerInitPromise}registerPlugin(r){const{plugin:f,name:_,autoLoad:S}=r;return this._checkPluginDoesNotExist(r).then(()=>this._checkApisDontExist(f.supportedApiList)).then(()=>{if(this._pluginsMap.set(_,f),this._populateSupportedPluginApis(r),this._attachAllListenersToPlugin(_),this._sendCoreApisToPlugin(_),S)return this.loadPlugin(r)})}deregisterPlugin(r){const{name:f}=r;return this.unloadPlugin(r).then(()=>{this._removeSupportedPluginApis({name:f}),this._pluginsMap.delete(f),this._removeAllListenersFromPlugin(f)})}loadPlugin(r){const{name:f}=r,_=this._getPlugin(f);if(_){const r=_.load();return _.isSeparateWorker?Promise.all([r,this.ajsWorkerInitPromise]).then(r=>this._createMessageChannel(_,f).then(()=>r[0])):r}return Promise.reject(new Error("Plugin ".concat(f," does not exist")))}unloadPlugin(r){const{name:f,shouldTerminate:_}=r,S=this._getPlugin(f);return S&&(S.isSeparateWorker&&this._removePluginPortFromT5(f),_)?S.unload():Promise.resolve()}getApiListByPlugin(r){const f=this._getPlugin(r);return f?f.supportedApiList:[]}terminate(){return new Promise((r,f)=>{const _=[];this._pluginsMap.forEach((r,f)=>{_.push(this.deregisterPlugin({name:f,shouldTerminate:!0}))}),Promise.all(_).then(()=>this._terminateAllWorkers()).then(r).catch(f)})}subscribe(r){this._signalDispatcher.subscribe(r),this._attachListenerToAllPlugins(r)}unsubscribe(r){this._signalDispatcher.unsubscribe(r),this._removeListenerFromAllPlugins(r)}registerLicense(r){let{token:f,domain:_}=r;const S={command:L,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{token:f,domain:_}};return this._ajsWorker.sendMessageToWorker(S)}openPDF(r){let{buffer:f,password:_="",documentId:S,includeActions:k=!1,jsSAB:C=null,securityHandler:I=null,storePDFHash:L=!1}=r,ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const oe=ArrayBuffer.isView(f)?f.buffer:f;if(!this._isValidArrayBuffer(oe))return Promise.reject({error:Me.INVALID_BUFFER});this._canvasMap.clear();const le={command:W,priority:ne,viewState:ie,params:{buffer:oe,password:_,documentId:S,includeActions:k,jsSAB:C,storePDFHash:L}};return this._ajsWorker.sendMessageToWorker(le).then(r=>r.data.errorCode===Oe.INCORRECT_PASSWORD&&I&&E(I.fetchPassword)?I.fetchPassword().then(r=>{const f={buffer:oe,password:r,documentId:S,includeActions:k,jsSAB:C,securityHandler:I,storePDFHash:L};return this.openPDF(f,ie,ne)}):(this._prepareTransformationMatrices(r),Promise.resolve(r)))}setLinearizedBlockSize(){const r={command:"setLinearizedBlockSize",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{blockSize:arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft}};return this._ajsWorker.sendMessageToWorker(r)}openLinearizedPDF(r){let{password:f="",fetchPdfSizeCallback:_,fetchPdfBufferRangesCallback:S,includeActions:k=!1,blockSize:C=ft,documentId:I}=r,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return void 0===self.SharedArrayBuffer?Promise.reject({error:Me.SHARED_ARRAY_BUFFER_NOT_SUPPORTED}):(this._fetchPdfBufferRangesCallback=S,this._completePDFBufferPromise=this._fetchPdfBufferRangesCallback([{start:0}]),new Promise((r,S)=>{Promise.all([this._fetchPDFBufferRanges([{start:0,end:1024}]),_()]).then(_=>{let[ne,oe]=_;this._linearizationPdfSize=oe;const le=4*oe+1024,ve=ne[0],we=new SharedArrayBuffer(le),be={command:W,priority:ie,viewState:L,params:{password:f,linearizationInfo:{initialBuffer:ve,pdfSize:oe,partialPDFSAB:we,blockSize:C},documentId:I,includeActions:k}},Pe=this._ajsWorker;return Pe.registerPDFBufferFetcher(this._fetchPDFBufferRanges.bind(this)),Pe.sendMessageToWorker(be).then(f=>{if(f.data.errorCode===Oe.INCORRECT_PASSWORD&&r(f),f.data.errorCode===Oe.LINEARIZATION_DICT_NOT_FOUND)return this._switchToNonLinearizedWorkflow(Pe).then(r,S);this._prepareTransformationMatrices(f),Pe.isLinearizedWorkflow()&&this._completePDFBufferPromise.then(r=>{if(void 0===r||0===r.length)return;const f=r[0];if(f.byteLength>this._linearizationPdfSize)return this._switchToNonLinearizedWorkflow(Pe);Pe.notifyPDFBuffer(f)}),r(f)}).catch(r=>S({error:r}))},()=>this._fallbackToOpenPDf(ie,L,I,k,f).then(r,S))}))}_fallbackToOpenPDf(r,f,_,S,k){return this._completePDFBufferPromise.then(C=>{const I={buffer:C[0],password:k,documentId:_,includeActions:S};return this.openPDF(I,f,r)})}_switchToNonLinearizedWorkflow(r){return r.switchToNonLinearizedWorkflow().then(r=>(this._prepareTransformationMatrices(r),r))}_fetchPDFBufferRanges(r){if(1===r.length&&0===r[0].start&&void 0===r[0].end)return this._completePDFBufferPromise;const t=()=>this._completePDFBufferPromise.then(f=>r.map(r=>f[0].slice(r.start,Math.min(r.end+1,f[0].byteLength))));if(1!==r.length||0!==r[0].start||1024!==r[0].end){const f=.75*this._linearizationPdfSize;if(r.some(r=>r.end-r.start>f))return t()}return this._fetchPdfBufferRangesCallback(r).catch(()=>t())}_exposeApisForPlugins(r){this._coreApisForPlugins=Kr(Kr({},this._coreApisForPlugins),r)}_exposeCNPDFApisForPlugins(){const r={getManifest:this._cnpdfDownloadManager.getManifest.bind(this._cnpdfDownloadManager),getSyncChannel:this._cnpdfFetcher.getSyncChannel.bind(this._cnpdfFetcher),getCNPDFDownloadManager:this._getCNPDFDownloadManager.bind(this)};this._exposeApisForPlugins(r)}async _getOpenCNPDFMessage(r){let{manifest:f,cnpdfFetcher:_,sharedMemorySize:S=36700160}=r,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!f||!_)return Promise.reject(new Error("openCNPDF params can not be undefined"));let L={command:ie,priority:C,viewState:k,params:{manifest:f}};if(N()){const{clientPort:r,sharedArrayBuffer:f}=await _.getSyncChannel(I,S);L=Kr(Kr({},L),{},{params:Kr(Kr({},L.params),{},{sharedMemory:f,cnpdfFetcherPort:r}),transferList:[r]})}return L}async _callOpenCNPDFWithWorker(r,f,_,S){const{manifest:k,cnpdfFetcher:C,sharedMemorySize:I}=f;this._cnpdfFetcher=C,this._cnpdfDownloadManager=new Hr({manifest:k,cnpdfFetcher:C,waitForFullCNPDF:!N()}),r.setCNPDFDownloadManager(this._cnpdfDownloadManager),this._exposeCNPDFApisForPlugins();const L=await this._getOpenCNPDFMessage({manifest:k,cnpdfFetcher:C,sharedMemorySize:I},_,S);return r.sendMessageToWorker(L).then(r=>(N()&&this._cnpdfDownloadManager.prefetchCNPDF(),r))}async openCNPDF(r){let{manifest:f,cnpdfFetcher:_,sharedMemorySize:S}=r,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this._callOpenCNPDFWithWorker(this._ajsWorker,{manifest:f,cnpdfFetcher:_,sharedMemorySize:S},k,C)}async switchToCNPDF(r){let{manifest:f,cnpdfFetcher:_,sharedMemorySize:S}=r,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return await this._initCNPDFWorker({enableProgressiveRendering:!1,useFullBuild:!0}),this._callOpenCNPDFWithWorker(this._cnpdfAJSWorker,{manifest:f,cnpdfFetcher:_,sharedMemorySize:S},k,C).then(r=>(this._isCNPDFSwitchSuccessful=!0,r)).catch(async r=>(await this._terminateCNPDFWorker(),Promise.reject(r)))}applyCNPDFUpdates(r){let{manifest:f,addedComponents:_,updatedComponents:S}=r;const k={command:"applyCNPDFUpdates",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{manifest:f,addedComponents:_,updatedComponents:S}};return this._cnpdfDownloadManager.applyCNPDFUpdates(k.params),this._ajsWorker.sendMessageToWorker(k)}loadFullWorker(){return this._ajsWorker.loadFullWorker()}getPageRangeGeometry(r){let{startPageNum:f,endPageNum:_,forceCacheless:S=!1}=r;const k={command:"getPageRangeGeometry",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{startPageNum:f,endPageNum:_,forceCacheless:S}};return this._ajsWorker.sendMessageToWorker(k)}getMetadata(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const{includeActions:S=!1,forceCacheless:k=!1}=r,C={command:"getMetadata",priority:_,viewState:f,params:{includeActions:S,forceCacheless:k}};return this._ajsWorker.sendMessageToWorker(C)}getDocumentParts(r){let{includeSignData:f=!1}=r;const _={command:"getDocumentParts",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:k,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{includeSignData:f}};return this._ajsWorker.sendMessageToWorker(_)}setDocumentParts(r){let{data:f}=r;const _={command:"setDocumentParts",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:k,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(_)}_isValidRGBArr(r){return r&&Array.isArray(r)&&3===r.length}_validateColorPalette(r){return!!r&&this._isValidRGBArr(r[Ge.BACKGROUND])&&this._isValidRGBArr(r[Ge.TEXT])}getPageRendition(r){let{pageNum:f,zoomLevel:_,renderRect:S,devicePixelRatio:k=window.devicePixelRatio,requestType:C,showAnnots:I=qe.ALL,tileRect:L,timeLimit:W,maxRenderInterval:ie,renderIntervalMultiplier:oe,hiddenOCGs:le=[],colorPallete:ve,includeActions:we=!1,mimeType:be,enableOverprintSupport:Pe=!1,canvas:Ae,canvasId:Se,channel:Re,maxDimension:De}=r,Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,ke=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(!f||f<0){const r={command:ne,data:{status:"failed",error:Me.INVALID_PAGE_NUM}};return Promise.resolve(r)}if(Object.values(Ft).includes(Re)){const r={command:"getPageChannel",priority:ke,viewState:Te,params:{pageNum:f,channel:Re,maxDimension:De}};return this._ajsWorker.sendMessageToWorker(r).then(async r=>{const f=r;if(Re===Ft.GLYPHINFO){const r=new Int8Array(await(_=f.data,new Promise((r,f)=>{const{width:S,height:k,imageRects:C,glyphsInfo:I,zoomLevel:L}=_,W=document.createElement("canvas");W.width=S,W.height=k;const ie=W.getContext("2d");if(!ie)throw new Error("Failed to get 2d context.");ie.fillStyle="white",ie.fillRect(0,0,W.width,W.height),C.map(r=>r.map(r=>Math.round(r*L))).forEach(r=>qr(ie,r,k,128)),I.map(r=>{let{color:f,rect:_}=r;return{rect:_.map(r=>Math.round(r*L)),color:f}}).forEach(r=>{let{color:f,rect:_}=r;return qr(ie,_,k,f)}),W.toBlob(async _=>{_?r(await _.arrayBuffer()):f(new Error("Failed to convert to Blob."))},"image/png")})));f.data.buffer=r}var _;return f})}const Ce=new Uint32Array(1);Ce[0]=I;const Ie=Kr(Kr({zoomLevel:_,renderRect:S,devicePixelRatio:k,pageNum:f,showAnnots:Ce[0],tileRect:L,requestType:C,timeLimit:W,maxRenderInterval:ie,renderIntervalMultiplier:oe,hiddenOCGs:le,includeActions:we,mimeType:be,enableOverprintSupport:Pe},this._validateColorPalette(ve)&&{colorPallete:ve}),{},{isCanvasDrawing:!1});let je=[];if(Ae&&this._isRenderingWorkerPresent&&(Ie.canvasId=Se,Ie.isCanvasDrawing=!0,!this._canvasMap.has(Se))){const r=Ae.transferControlToOffscreen();Ie.canvas=r,je=[r],this._canvasMap.set(Se,!0)}const Fe={command:ne,priority:ke,viewState:Te,params:Ie,transferList:je};return this._ajsWorker.sendMessageToWorker(Fe)}openPDFAndGetPageRendition(r){let{openPdfResponseCallback:f=null}=r,_=Jr(r,Et),S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.openPDF(_,S,C).then(r=>{f(r.data)}),this.getPageRendition(_,S,k)}collectProfileData(){const r={command:"collectProfileData"};return this._ajsWorker.sendMessageToWorker(r)}hitTest(r){let{pageNum:f,x:_,y:S,shouldDetectWeblinks:k=!0,shouldCreateContentPointMap:C=!1}=r;const I={command:"hitTest",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,x:_,y:S,shouldDetectWeblinks:k,shouldCreateContentPointMap:C}};return this._ajsWorker.sendMessageToWorker(I)}selectContent(r){let{startPoint:f,endPoint:_,direction:S,snapToWords:k,jumpTo:C=Ct.kNoShortcut,force:I=!1,getCaret:L=!1}=r;const W={command:"selectContent",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{startPoint:f,endPoint:_,direction:S,snapToWords:k,jumpTo:C,force:I,getCaret:L}};return this._ajsWorker.sendMessageToWorker(W)}getDocumentXMPMetadata(r){let{}=r;const f={command:"getDocumentXMPMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:k,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(f)}getAttachments(r){let{}=r;const f={command:"getAttachments",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(f)}getBookmarks(r){let{}=r;const f={command:"getBookmarks",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(f)}getDataFromNamesTree(r){const f={command:"getDataFromNamesTree",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:r};return this._ajsWorker.sendMessageToWorker(f)}getAttachmentBuffer(r){let{name:f}=r;const _={command:"getAttachmentBuffer",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{name:f}};return this._ajsWorker.sendMessageToWorker(_)}getSelectedText(r){let{richText:f=!1}=r;const _={command:"getSelectedText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{richText:f}};return this._ajsWorker.sendMessageToWorker(_)}getHyperlinkData(r){let{pageNum:f,x:_,y:S,shouldDetectWeblinks:k=!0}=r;const C={command:"getHyperlinkData",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{x:_,y:S,pageNum:f,shouldDetectWeblinks:k}};return this._ajsWorker.sendMessageToWorker(C)}findText(r){let{text:f,startPage:_,numPages:S}=r;const k={command:"findText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{text:f,startPage:_,numPages:S}};return this._ajsWorker.sendMessageToWorker(k)}extractPageText(r){let{pageNum:f,getWordRects:_=!1,getTextAttributes:S=!1,getFormFieldData:k=!1,getCharRects:C=!1}=r;const I={command:"extractPageText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,getWordRects:_,getTextAttributes:S,getFormFieldData:k,getCharRects:C}};return this._ajsWorker.sendMessageToWorker(I)}getAnnots(r){let{pageNum:f,annotsFilter:_,includeActions:k=!1}=r;const C={command:"getAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,annotsFilter:_,includeActions:k}};return this._ajsWorker.sendMessageToWorker(C)}createAnnot(r){let{data:f}=r;const _={command:"createAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(_)}updateSignMetadata(r){let{data:f}=r;const _={command:"updateSignMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(_)}getSignMetadata(r){let{}=r;const f={command:"getSignMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(f)}createFormField(r){let{data:f}=r;const _={command:ve,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(_)}createFormFields(r){let{fields:f}=r,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return this._createBatchOfMessagesAndSendToWorker("createFormFields",f,ve,_)}updateFormField(r){let{pageNum:f,id:_,data:k,authoringMode:C=!1}=r;const I={command:we,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:_,data:k,authoringMode:C}};return this._ajsWorker.sendMessageToWorker(I)}addIcon(r){let{iconName:f,newIconName:_}=r;const S={command:"addIcon",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,params:{newIconName:_,iconName:f}};return this._ajsWorker.sendMessageToWorker(S)}updateFormFields(r){let{fields:f}=r,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return this._createBatchOfMessagesAndSendToWorker("updateFormFields",f,we,_)}deleteFormField(r){let{pageNum:f,id:_}=r;const k={command:be,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:_}};return this._ajsWorker.sendMessageToWorker(k)}deleteFormFields(r){let{fields:f}=r,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return this._createBatchOfMessagesAndSendToWorker("deleteFormFields",f,be,_)}getFormFields(r){let{pageNum:f,includeActions:_=!1,includeSignData:k=!1}=r;const C={command:"getFormFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,includeActions:_,includeSignData:k}};return this._ajsWorker.sendMessageToWorker(C)}lockFormFields(r){let{}=r;const f={command:"lockFormFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(f)}createAnnots(r){let{data:f}=r;const _={command:"createAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(_)}editAnnot(r){let{pageNum:f,id:_,data:k}=r;const C={command:"editAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:_,data:k}};return this._ajsWorker.sendMessageToWorker(C)}deleteAnnot(r){let{pageNum:f,id:_}=r;const k={command:"deleteAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:_}};return this._ajsWorker.sendMessageToWorker(k)}deleteAnnots(r){let{data:f}=r;const _={command:"deleteAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(_)}getAnnotAppearance(r){let{pageNum:f,id:_,zoomLevel:k,devicePixelRatio:C,appearanceSubDict:I,appearanceState:L,colorPallete:W,ignoreDisplayFlags:ie=!1,enableOverprintSupport:ne=!1}=r;const oe={command:"getAnnotAppearance",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:Kr(Kr({pageNum:f,id:_,zoomLevel:k,devicePixelRatio:C,appearanceSubDict:I,appearanceState:L},this._validateColorPalette(W)&&{colorPallete:W}),{},{ignoreDisplayFlags:ie,enableOverprintSupport:ne})};return this._ajsWorker.sendMessageToWorker(oe)}getVoiceAnnotData(r){let{pageNum:f,annotId:_}=r;const k={command:"getVoiceAnnotData",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,annotId:_}};return this._ajsWorker.getAnnotData(k)}JSApi(r){let{params:f}=r;const _={command:Ce,priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,params:f};return f.addResultToSAB?this._ajsWorker.sendMessageToWorkerSynchronously(_):this._ajsWorker.sendMessageToWorker(_)}updateDocInfo(r){let{data:f}=r;const _={command:"updateDocInfo",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,params:{data:f}};return this._ajsWorker.sendMessageToWorker(_)}getImageBuffer(r){let{pageNum:f,croppedBounds:_,unCroppedBounds:S,boundCheckTolerance:C=2,preserveTransform:I=!0}=r;const L={command:"getImageBuffer",viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:k,params:{pageNum:f,croppedBounds:_,unCroppedBounds:S,boundCheckTolerance:C,preserveTransform:I}};return this._ajsWorker.sendMessageToWorker(L)}verifyDigitalSignatures(r){let{certificateChainValidators:f=[]}=r;const _={command:le,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{certificateChainValidators:f}};return this._ajsWorker.sendMessageToWorker(_)}getFASFieldAppearance(r){let{pageNum:f,id:_,zoomLevel:k,enableOverprintSupport:C=!1}=r;const I={command:"getFASFieldAppearance",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:_,zoomLevel:k,enableOverprintSupport:C}};return this._ajsWorker.sendMessageToWorker(I)}getFASFields(r){let{pageNum:f}=r;const _={command:"getFASFields",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{pageNum:f}};return this._ajsWorker.sendMessageToWorker(_)}getOverprintType(r){let{pageNum:f}=r;const _={command:"getOverprintType",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{pageNum:f}};return this._ajsWorker.sendMessageToWorker(_)}createFASField(r){let{pageNum:f,data:_}=r;const k={command:"createFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{pageNum:f,data:_}};return this._ajsWorker.sendMessageToWorker(k)}deleteFASField(r){let{pageNum:f,id:_}=r;const k={command:"deleteFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{pageNum:f,id:_}};return this._ajsWorker.sendMessageToWorker(k)}updateFASField(r){let{pageNum:f,id:_,data:k}=r;const C={command:"updateFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{pageNum:f,id:_,data:k}};return this._ajsWorker.sendMessageToWorker(C)}getPagesScanStatus(r){let{startPageIndex:f,endPageIndex:_,ocrType:S}=r;const k={command:"getPagesScanStatus",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,params:{startPageIndex:f,endPageIndex:_,ocrType:S}};return this._ajsWorker.sendMessageToWorker(k)}isScannedDocument(){let{detectionStrategy:r=jt.BREAK_ON_FIRST_NON_SCANNED_PAGE}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={command:"isScannedDocument",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,params:{detectionStrategy:r}};return this._ajsWorker.sendMessageToWorker(f)}flattenFASFields(r){let{forceFlatten:f}=r;const _={command:"flattenFASFields",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{forceFlatten:f}};return this._ajsWorker.sendMessageToWorker(_)}detectSignFields(r){let{startPage:f,numPages:_,detectAll:S=!1,enableLogging:k=!1}=r;const C={command:"detectSignFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{startPage:f,numPages:_,detectAll:S,enableLogging:k}};return this._ajsWorker.sendMessageToWorker(C)}async getUpdatedBuffer(){let{decryptedBuffer:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f=performance.now(),_=await this._isSaveRequiredForPlugins(),S={command:Pe,priority:k,params:{decryptedBuffer:r,forceSave:_||r}},C=this._ajsWorker;return await C.sendMessageToWorker(S),window.TOTAL_TIME_TAKEN_IN_SAVE=performance.now()-f,C.getUpdatedPDF(r)}async getPDFBufferForCNPDF(){if(this._primaryAJSWorker&&!this._primaryAJSWorker.isCNPDF&&!this._cnpdfDownloadManager.isFullCNPDFAvailable())return this._primaryAJSWorker.getUpdatedPDF();await this._cnpdfDownloadManager.fetchCompleteCNPDF();const r=performance.now(),f=await this._isSaveRequiredForPlugins(),_={command:"getPDFBufferForCNPDF",priority:k,params:{forceSave:f,isCNPDF:!0}},S=this._ajsWorker;return await S.sendMessageToWorker(_),window.TOTAL_TIME_TAKEN_IN_SAVE=performance.now()-r,S.getPDFBufferForCNPDF()}_isSaveRequiredForPlugins(){const r=performance.now();return Promise.all(Array.from(this._pluginsMap.values()).map(r=>r.doPreSaveOperations?r.doPreSaveOperations():Promise.resolve({saveRequired:!1}))).then(f=>(window.TIME_TAKEN_IN_PRE_SAVE_OPS=performance.now()-r,-1!==f.findIndex(r=>!0===r.saveRequired)))}async getCNPDFUpdates(){const r=performance.now(),f=await this._isSaveRequiredForPlugins(),_={command:Pe,priority:k,params:{forceSave:f}};return await this._ajsWorker.sendMessageToWorker(_),window.TOTAL_TIME_TAKEN_IN_SAVE=performance.now()-r,this._cnpdfDownloadManager.getCNPDFUpdates()}getPageFontList(r){let{pageNum:f}=r;const _={command:"getPageFontList",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f}};return this._ajsWorker.sendMessageToWorker(_)}addFontForViewing(r){let{name:f,type:_,buffer:S}=r,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;const I=ArrayBuffer.isView(S)?S.buffer:S;if(!this._isValidArrayBuffer(I))return Promise.reject({error:Me.INVALID_BUFFER});const L={command:"addFontForViewing",viewState:k,priority:C,params:{name:f,type:_,buffer:I},transferList:[I]};return this._ajsWorker.sendMessageToWorker(L)}isFileQualifiedForLiquidMode(r){let{disqualificationMethod:f=It.NORMAL,detectBarcodesCallback:_}=r;const S={command:Ae,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{disqualificationMethod:f,detectBarcodesCallback:_}};return this._ajsWorker.sendMessageToWorker(S)}translateToLiquidModeView(r){let{fetchCNFTPDFUpdatesCallback:f,convertType1Fonts:_=!0}=r;const S={command:Se,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{convertType1Fonts:_}};return this._ajsWorker.getFTPDFWebViewHTMLStream(S,f)}getLiquidModeViewResource(r){let{resourceID:f,resourceURL:_}=r;const S={command:Re,params:{resourceID:f,resourceURL:_}};return this._ajsWorker.getLiquidModeViewResource(S)}getHtmlLocationForDocPoint(r){let{page:f,x:_,y:S}=r;const k={command:Te,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{page:f,x:_,y:S}};return this._ajsWorker.sendMessageToWorker(k)}getDocPointForHtmlLocation(r){let{elementID:f,offset:_}=r;const S={command:ke,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{elementID:f,offset:_}};return this._ajsWorker.sendMessageToWorker(S)}convertToViewSpace(r){let{pageNum:f,x:_,y:S,scale:k=1}=r;if(!this._pageMatrices||0===this._pageMatrices.length)return;const C=this._pageMatrices[f-1]?this._pageMatrices[f-1]:this._pageMatrices[0];let I=C.a*_+C.c*S+C.e,L=C.b*_+C.d*S+C.f;return I=Math.round(I*k),L=Math.round(L*k),{x:I,y:L}}convertToPDFSpace(r){let{pageNum:f,x:_,y:S,scale:k=1}=r;if(!this._pageMatrices||0===this._pageMatrices.length)return;const C=this._pageMatrices[f-1]?this._pageMatrices[f-1]:this._pageMatrices[0],I=_/k,L=S/k,W=C.a*C.d-C.b*C.c;return{x:(C.d*I-C.c*L+C.c*C.f-C.d*C.e)/W,y:(C.a*L-C.b*I+C.b*C.e-C.a*C.f)/W}}clearMessageQueue(r){let{evtName:f}=r,_=Jr(r,Nt);if(!Object.values(Tt).includes(f))return Promise.reject();const S={command:"clearMessageQueue",params:Kr({evtName:f},_)};return this._ajsWorker.sendMessageToWorker(S)}createLinkAnnot(r){let{pageNum:f,data:_}=r;const k={command:"createLinkAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,data:_}};return this._ajsWorker.sendMessageToWorker(k)}editLinkAnnot(r){let{pageNum:f,id:_,data:k,shouldUpdatePDFBuffer:C}=r;const I={command:Ie,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:_,data:k,shouldUpdatePDFBuffer:C}};return this._ajsWorker.sendMessageToWorker(I)}editLinkAnnots(r){let{links:f}=r,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return this._createBatchOfMessagesAndSendToWorker("editLinkAnnots",f,Ie,_)}deleteLinkAnnot(r){let{pageNum:f,id:_}=r;const k={command:je,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:_}};return this._ajsWorker.sendMessageToWorker(k)}deleteLinkAnnots(r){let{links:f}=r,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return this._createBatchOfMessagesAndSendToWorker("deleteLinkAnnots",f,je,_)}_isValidArrayBuffer(r){return r&&"object"==typeof r&&r instanceof ArrayBuffer}getLinkAnnots(r){let{pageNum:f,includeActions:_=!0,includeSignData:k=!1}=r;const C={command:"getLinkAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,includeActions:_,includeSignData:k}};return this._ajsWorker.sendMessageToWorker(C)}detectLanguage(r){let{text:f="",useDocAsFallback:_=!0}=r;const S={command:"detectLanguage",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{text:f,useDocAsFallback:_}};return this._ajsWorker.sendMessageToWorker(S)}getImageC2PAMetadata(r){let{imageBuffer:f,mimeType:_}=r;const S={command:"getImageC2PAMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:k,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{imageBuffer:f,mimeType:_}};return this._ajsWorker.sendMessageToWorker(S)}removeOffScreenCanvas(r){let{canvasId:f}=r;const _={command:"removeOffScreenCanvas",params:{canvasId:f}};return this._canvasMap.delete(f),this._ajsWorker.sendMessageToWorker(_)}_prepareTransformationMatrices(r){r.data&&r.data.pages&&(this._pageMatrices=[],r.data.pages.forEach(r=>{const[f,_,S,k]=r.boxes.cropBox;let C;switch(r.rotation){case 270:C={a:0,b:-1,c:-1,d:0,e:k,f:S};break;case 180:C={a:-1,b:0,c:0,d:1,e:S,f:-_};break;case 90:C={a:0,b:1,c:1,d:0,e:-_,f:-f};break;default:C={a:1,b:0,c:0,d:-1,e:-f,f:k}}this._pageMatrices.push(C)}))}}Object.defineProperty($r,"PageRequestType",{value:Ue,writable:!1}),Object.defineProperty($r,"AnnotType",{value:qe,writable:!1}),Object.defineProperty($r,"Permissions",{value:He,writable:!1}),Object.defineProperty($r,"ContentType",{value:ze,writable:!1}),Object.defineProperty($r,"KeyboardNavigationDirection",{value:kt,writable:!1}),Object.defineProperty($r,"KeyboardNavigationShortcut",{value:Ct,writable:!1});const Mt=$r;class Zr{fetchPassword(){throw Error("method not overriden")}}class en{name(){throw Error("Method not overridden!")}validate(r){throw Error("Method not overridden!")}}})(),r.exports=C})()},sdTo:(r,f,_)=>{r.exports=_("2pFd")("WOwn")},uY7Q:(r,f,_)=>{r=_.nmd(r);var S="__lodash_hash_undefined__",k=9007199254740991,C="[object Arguments]",I="[object Function]",L="[object Object]",W=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,ne={};ne["[object Float32Array]"]=ne["[object Float64Array]"]=ne["[object Int8Array]"]=ne["[object Int16Array]"]=ne["[object Int32Array]"]=ne["[object Uint8Array]"]=ne["[object Uint8ClampedArray]"]=ne["[object Uint16Array]"]=ne["[object Uint32Array]"]=!0,ne[C]=ne["[object Array]"]=ne["[object ArrayBuffer]"]=ne["[object Boolean]"]=ne["[object DataView]"]=ne["[object Date]"]=ne["[object Error]"]=ne[I]=ne["[object Map]"]=ne["[object Number]"]=ne[L]=ne["[object RegExp]"]=ne["[object Set]"]=ne["[object String]"]=ne["[object WeakMap]"]=!1;var oe="object"==typeof _.g&&_.g&&_.g.Object===Object&&_.g,le="object"==typeof self&&self&&self.Object===Object&&self,ve=oe||le||Function("return this")(),we=f&&!f.nodeType&&f,be=we&&r&&!r.nodeType&&r,Pe=be&&be.exports===we,Ae=Pe&&oe.process,Se=function(){try{var r=be&&be.require&&be.require("util").types;return r||Ae&&Ae.binding&&Ae.binding("util")}catch(r){}}(),Re=Se&&Se.isTypedArray;var De,Te=Array.prototype,ke=Function.prototype,Ce=Object.prototype,Ie=ve["__core-js_shared__"],je=ke.toString,Fe=Ce.hasOwnProperty,Ee=(De=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||""))?"Symbol(src)_1."+De:"",Ne=Ce.toString,xe=je.call(Object),Oe=RegExp("^"+je.call(Fe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=Pe?ve.Buffer:void 0,Ue=ve.Symbol,qe=ve.Uint8Array,He=Me?Me.allocUnsafe:void 0,ze=function overArg(r,f){return function(_){return r(f(_))}}(Object.getPrototypeOf,Object),Ge=Object.create,Je=Ce.propertyIsEnumerable,Ve=Te.splice,$e=Ue?Ue.toStringTag:void 0,Ke=function(){try{var r=getNative(Object,"defineProperty");return r({},"",{}),r}catch(r){}}(),Xe=Me?Me.isBuffer:void 0,Qe=Math.max,Ze=Date.now,Ye=getNative(ve,"Map"),et=getNative(Object,"create"),tt=function(){function object(){}return function(r){if(!isObject(r))return{};if(Ge)return Ge(r);object.prototype=r;var f=new object;return object.prototype=void 0,f}}();function Hash(r){var f=-1,_=null==r?0:r.length;for(this.clear();++f<_;){var S=r[f];this.set(S[0],S[1])}}function ListCache(r){var f=-1,_=null==r?0:r.length;for(this.clear();++f<_;){var S=r[f];this.set(S[0],S[1])}}function MapCache(r){var f=-1,_=null==r?0:r.length;for(this.clear();++f<_;){var S=r[f];this.set(S[0],S[1])}}function Stack(r){var f=this.__data__=new ListCache(r);this.size=f.size}function arrayLikeKeys(r,f){var _=st(r),S=!_&&nt(r),k=!_&&!S&&at(r),C=!_&&!S&&!k&&ot(r),I=_||S||k||C,L=I?function baseTimes(r,f){for(var _=-1,S=Array(r);++_<r;)S[_]=f(_);return S}(r.length,String):[],W=L.length;for(var ie in r)!f&&!Fe.call(r,ie)||I&&("length"==ie||k&&("offset"==ie||"parent"==ie)||C&&("buffer"==ie||"byteLength"==ie||"byteOffset"==ie)||isIndex(ie,W))||L.push(ie);return L}function assignMergeValue(r,f,_){(void 0!==_&&!eq(r[f],_)||void 0===_&&!(f in r))&&baseAssignValue(r,f,_)}function assignValue(r,f,_){var S=r[f];Fe.call(r,f)&&eq(S,_)&&(void 0!==_||f in r)||baseAssignValue(r,f,_)}function assocIndexOf(r,f){for(var _=r.length;_--;)if(eq(r[_][0],f))return _;return-1}function baseAssignValue(r,f,_){"__proto__"==f&&Ke?Ke(r,f,{configurable:!0,enumerable:!0,value:_,writable:!0}):r[f]=_}Hash.prototype.clear=function hashClear(){this.__data__=et?et(null):{},this.size=0},Hash.prototype.delete=function hashDelete(r){var f=this.has(r)&&delete this.__data__[r];return this.size-=f?1:0,f},Hash.prototype.get=function hashGet(r){var f=this.__data__;if(et){var _=f[r];return _===S?void 0:_}return Fe.call(f,r)?f[r]:void 0},Hash.prototype.has=function hashHas(r){var f=this.__data__;return et?void 0!==f[r]:Fe.call(f,r)},Hash.prototype.set=function hashSet(r,f){var _=this.__data__;return this.size+=this.has(r)?0:1,_[r]=et&&void 0===f?S:f,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(r){var f=this.__data__,_=assocIndexOf(f,r);return!(_<0)&&(_==f.length-1?f.pop():Ve.call(f,_,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(r){var f=this.__data__,_=assocIndexOf(f,r);return _<0?void 0:f[_][1]},ListCache.prototype.has=function listCacheHas(r){return assocIndexOf(this.__data__,r)>-1},ListCache.prototype.set=function listCacheSet(r,f){var _=this.__data__,S=assocIndexOf(_,r);return S<0?(++this.size,_.push([r,f])):_[S][1]=f,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Ye||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(r){var f=getMapData(this,r).delete(r);return this.size-=f?1:0,f},MapCache.prototype.get=function mapCacheGet(r){return getMapData(this,r).get(r)},MapCache.prototype.has=function mapCacheHas(r){return getMapData(this,r).has(r)},MapCache.prototype.set=function mapCacheSet(r,f){var _=getMapData(this,r),S=_.size;return _.set(r,f),this.size+=_.size==S?0:1,this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(r){var f=this.__data__,_=f.delete(r);return this.size=f.size,_},Stack.prototype.get=function stackGet(r){return this.__data__.get(r)},Stack.prototype.has=function stackHas(r){return this.__data__.has(r)},Stack.prototype.set=function stackSet(r,f){var _=this.__data__;if(_ instanceof ListCache){var S=_.__data__;if(!Ye||S.length<199)return S.push([r,f]),this.size=++_.size,this;_=this.__data__=new MapCache(S)}return _.set(r,f),this.size=_.size,this};var rt=function createBaseFor(r){return function(f,_,S){for(var k=-1,C=Object(f),I=S(f),L=I.length;L--;){var W=I[r?L:++k];if(!1===_(C[W],W,C))break}return f}}();function baseGetTag(r){return null==r?void 0===r?"[object Undefined]":"[object Null]":$e&&$e in Object(r)?function getRawTag(r){var f=Fe.call(r,$e),_=r[$e];try{r[$e]=void 0;var S=!0}catch(r){}var k=Ne.call(r);S&&(f?r[$e]=_:delete r[$e]);return k}(r):function objectToString(r){return Ne.call(r)}(r)}function baseIsArguments(r){return isObjectLike(r)&&baseGetTag(r)==C}function baseIsNative(r){return!(!isObject(r)||function isMasked(r){return!!Ee&&Ee in r}(r))&&(isFunction(r)?Oe:W).test(function toSource(r){if(null!=r){try{return je.call(r)}catch(r){}try{return r+""}catch(r){}}return""}(r))}function baseKeysIn(r){if(!isObject(r))return function nativeKeysIn(r){var f=[];if(null!=r)for(var _ in Object(r))f.push(_);return f}(r);var f=isPrototype(r),_=[];for(var S in r)("constructor"!=S||!f&&Fe.call(r,S))&&_.push(S);return _}function baseMerge(r,f,_,S,k){r!==f&&rt(f,function(C,I){if(k||(k=new Stack),isObject(C))!function baseMergeDeep(r,f,_,S,k,C,I){var W=safeGet(r,_),ie=safeGet(f,_),ne=I.get(ie);if(ne)return void assignMergeValue(r,_,ne);var oe=C?C(W,ie,_+"",r,f,I):void 0,le=void 0===oe;if(le){var ve=st(ie),we=!ve&&at(ie),be=!ve&&!we&&ot(ie);oe=ie,ve||we||be?st(W)?oe=W:!function isArrayLikeObject(r){return isObjectLike(r)&&isArrayLike(r)}(W)?we?(le=!1,oe=function cloneBuffer(r,f){if(f)return r.slice();var _=r.length,S=He?He(_):new r.constructor(_);return r.copy(S),S}(ie,!0)):be?(le=!1,oe=function cloneTypedArray(r,f){var _=f?function cloneArrayBuffer(r){var f=new r.constructor(r.byteLength);return new qe(f).set(new qe(r)),f}(r.buffer):r.buffer;return new r.constructor(_,r.byteOffset,r.length)}(ie,!0)):oe=[]:oe=function copyArray(r,f){var _=-1,S=r.length;f||(f=Array(S));for(;++_<S;)f[_]=r[_];return f}(W):function isPlainObject(r){if(!isObjectLike(r)||baseGetTag(r)!=L)return!1;var f=ze(r);if(null===f)return!0;var _=Fe.call(f,"constructor")&&f.constructor;return"function"==typeof _&&_ instanceof _&&je.call(_)==xe}(ie)||nt(ie)?(oe=W,nt(W)?oe=function toPlainObject(r){return function copyObject(r,f,_,S){var k=!_;_||(_={});var C=-1,I=f.length;for(;++C<I;){var L=f[C],W=S?S(_[L],r[L],L,_,r):void 0;void 0===W&&(W=r[L]),k?baseAssignValue(_,L,W):assignValue(_,L,W)}return _}(r,keysIn(r))}(W):isObject(W)&&!isFunction(W)||(oe=function initCloneObject(r){return"function"!=typeof r.constructor||isPrototype(r)?{}:tt(ze(r))}(ie))):le=!1}le&&(I.set(ie,oe),k(oe,ie,S,C,I),I.delete(ie));assignMergeValue(r,_,oe)}(r,f,I,_,baseMerge,S,k);else{var W=S?S(safeGet(r,I),C,I+"",r,f,k):void 0;void 0===W&&(W=C),assignMergeValue(r,I,W)}},keysIn)}function baseRest(r,f){return it(function overRest(r,f,_){return f=Qe(void 0===f?r.length-1:f,0),function(){for(var S=arguments,k=-1,C=Qe(S.length-f,0),I=Array(C);++k<C;)I[k]=S[f+k];k=-1;for(var L=Array(f+1);++k<f;)L[k]=S[k];return L[f]=_(I),function apply(r,f,_){switch(_.length){case 0:return r.call(f);case 1:return r.call(f,_[0]);case 2:return r.call(f,_[0],_[1]);case 3:return r.call(f,_[0],_[1],_[2])}return r.apply(f,_)}(r,this,L)}}(r,f,identity),r+"")}function getMapData(r,f){var _=r.__data__;return function isKeyable(r){var f=typeof r;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==r:null===r}(f)?_["string"==typeof f?"string":"hash"]:_.map}function getNative(r,f){var _=function getValue(r,f){return null==r?void 0:r[f]}(r,f);return baseIsNative(_)?_:void 0}function isIndex(r,f){var _=typeof r;return!!(f=null==f?k:f)&&("number"==_||"symbol"!=_&&ie.test(r))&&r>-1&&r%1==0&&r<f}function isPrototype(r){var f=r&&r.constructor;return r===("function"==typeof f&&f.prototype||Ce)}function safeGet(r,f){if(("constructor"!==f||"function"!=typeof r[f])&&"__proto__"!=f)return r[f]}var it=function shortOut(r){var f=0,_=0;return function(){var S=Ze(),k=16-(S-_);if(_=S,k>0){if(++f>=800)return arguments[0]}else f=0;return r.apply(void 0,arguments)}}(Ke?function(r,f){return Ke(r,"toString",{configurable:!0,enumerable:!1,value:(_=f,function(){return _}),writable:!0});var _}:identity);function eq(r,f){return r===f||r!=r&&f!=f}var nt=baseIsArguments(function(){return arguments}())?baseIsArguments:function(r){return isObjectLike(r)&&Fe.call(r,"callee")&&!Je.call(r,"callee")},st=Array.isArray;function isArrayLike(r){return null!=r&&isLength(r.length)&&!isFunction(r)}var at=Xe||function stubFalse(){return!1};function isFunction(r){if(!isObject(r))return!1;var f=baseGetTag(r);return f==I||"[object GeneratorFunction]"==f||"[object AsyncFunction]"==f||"[object Proxy]"==f}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=k}function isObject(r){var f=typeof r;return null!=r&&("object"==f||"function"==f)}function isObjectLike(r){return null!=r&&"object"==typeof r}var ot=Re?function baseUnary(r){return function(f){return r(f)}}(Re):function baseIsTypedArray(r){return isObjectLike(r)&&isLength(r.length)&&!!ne[baseGetTag(r)]};function keysIn(r){return isArrayLike(r)?arrayLikeKeys(r,!0):baseKeysIn(r)}var ct=function createAssigner(r){return baseRest(function(f,_){var S=-1,k=_.length,C=k>1?_[k-1]:void 0,I=k>2?_[2]:void 0;for(C=r.length>3&&"function"==typeof C?(k--,C):void 0,I&&function isIterateeCall(r,f,_){if(!isObject(_))return!1;var S=typeof f;if("number"==S?isArrayLike(_)&&isIndex(f,_.length):"string"==S&&f in _)return eq(_[f],r);return!1}(_[0],_[1],I)&&(C=k<3?void 0:C,k=1),f=Object(f);++S<k;){var L=_[S];L&&r(f,L,S,C)}return f})}(function(r,f,_){baseMerge(r,f,_)});function identity(r){return r}r.exports=ct},zSZc:(r,f,_)=>{"use strict";_.d(f,{B:()=>L,CE:()=>ie,D6:()=>Fe,Ey:()=>De,HD:()=>ne,Iv:()=>Oe,L_:()=>be,ND:()=>I,P4:()=>S,PB:()=>Ie,Tz:()=>Ce,US:()=>Se,ac:()=>we,dV:()=>ve,hw:()=>Ne,il:()=>je,jQ:()=>Ae,jn:()=>ke,mx:()=>Pe,pM:()=>Ee,qf:()=>k,r5:()=>oe,rA:()=>Re,sk:()=>le,x1:()=>Te,y8:()=>W,zY:()=>xe,zz:()=>C});const S="rendition.js",k="/review",C="/parcel",I="/external",L="/sign",W="/acp",ie="/pdfnow",ne="wp-acp-storage",oe=["/onedrive","/sharepoint","/gdrive","/local"],le=Object.freeze({"/onedrive":"OneDrive","/sharepoint":"SharePoint","/gdrive":"GDrive","/local":"Local"}),ve=10,we=5,be=30,Pe=10,Ae=1e3,Se=1500,Re=500,De=Object.freeze({S3:"S3",DCAPI:"DCAPI",NONE:"NONE"}),Te=1,ke=Object.freeze({PDF_DOWNLOAD_URI_START:"pdfDownloadUriStartTime",PDF_DOWNLOAD_URI_END:"pdfDownloadUriEndTime",PDF_DOWNLOAD_START:"pdfDownloadStartTime",PDF_DOWNLOAD_END:"pdfDownloadEndTime",DCAPI_INIT:"dcapiInit",DCAPI_LOADED:"dcapiLoaded",WASM_SPLIT_FLOODGATE_START:"wasmSplitFloodgateStart",WASM_SPLIT_FLOODGATE_END:"wasmSplitFloodgateEnd",CACHED_RENDITION_RETURNED:"cachedRenditionReturned",CACHED_RENDITION_FAILED:"cachedRenditionFailed",CACHED_RENDITION:"cachedRendition"}),Ce=Object.freeze({AdobeSignValidator:"AdobeSignCertificateValidator",ExternalValidator:"ExternalCertificateValidator"}),Ie=Object.freeze({valid:"VALID",invalid:"INVALID",unknown:"UNKNOWN"}),je=Object.freeze({currentTime:"currentTime",signingTime:"signingTime"}),Fe=Object.freeze({AATL:"AATL",EUTL:"EUTL",OS:"OS"}),Ee=Object.freeze({tooManyRequests:"TooManyRequests",gatewayTimeout:"GatewayTimeout",internalServerError:"InternalServerError",apiTimeoutError:"APITimeoutError",unknownError:"UnknownError"}),Ne="defaultAJSInstance",xe=10,Oe="anonymous_user"}},S={};function __webpack_require__(r){var f=S[r];if(void 0!==f)return f.exports;var k=S[r]={id:r,loaded:!1,exports:{}};return _[r](k,k.exports,__webpack_require__),k.loaded=!0,k.exports}__webpack_require__.m=_,__webpack_require__.n=r=>{var f=r&&r.__esModule?()=>r.default:()=>r;return __webpack_require__.d(f,{a:f}),f},__webpack_require__.d=(r,f)=>{for(var _ in f)__webpack_require__.o(f,_)&&!__webpack_require__.o(r,_)&&Object.defineProperty(r,_,{enumerable:!0,get:f[_]})},__webpack_require__.f={},__webpack_require__.e=r=>Promise.all(Object.keys(__webpack_require__.f).reduce((f,_)=>(__webpack_require__.f[_](r,f),f),[])),__webpack_require__.u=r=>({56:"fontHelper",814:"ajsProvider"}[r]+"-chunk.js"),__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),__webpack_require__.o=(r,f)=>Object.prototype.hasOwnProperty.call(r,f),r={},f="adobe_dc_sdk.components.rendition:",__webpack_require__.l=(_,S,k,C)=>{if(r[_])r[_].push(S);else{var I,L;if(void 0!==k)for(var W=document.getElementsByTagName("script"),ie=0;ie<W.length;ie++){var ne=W[ie];if(ne.getAttribute("src")==_||ne.getAttribute("data-webpack")==f+k){I=ne;break}}I||(L=!0,(I=document.createElement("script")).charset="utf-8",I.timeout=120,__webpack_require__.nc&&I.setAttribute("nonce",__webpack_require__.nc),I.setAttribute("data-webpack",f+k),I.src=_),r[_]=[S];var onScriptComplete=(f,S)=>{I.onerror=I.onload=null,clearTimeout(oe);var k=r[_];if(delete r[_],I.parentNode&&I.parentNode.removeChild(I),k&&k.forEach(r=>r(S)),f)return f(S)},oe=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:I}),12e4);I.onerror=onScriptComplete.bind(null,I.onerror),I.onload=onScriptComplete.bind(null,I.onload),L&&document.head.appendChild(I)}},__webpack_require__.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},__webpack_require__.nmd=r=>(r.paths=[],r.children||(r.children=[]),r),(()=>{var r;__webpack_require__.g.importScripts&&(r=__webpack_require__.g.location+"");var f=__webpack_require__.g.document;if(!r&&f&&(f.currentScript&&"SCRIPT"===f.currentScript.tagName.toUpperCase()&&(r=f.currentScript.src),!r)){var _=f.getElementsByTagName("script");if(_.length)for(var S=_.length-1;S>-1&&(!r||!/^http(s?):/.test(r));)r=_[S--].src}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=r})(),(()=>{var r={929:0};__webpack_require__.f.j=(f,_)=>{var S=__webpack_require__.o(r,f)?r[f]:void 0;if(0!==S)if(S)_.push(S[2]);else{var k=new Promise((_,k)=>S=r[f]=[_,k]);_.push(S[2]=k);var C=__webpack_require__.p+__webpack_require__.u(f),I=new Error;__webpack_require__.l(C,_=>{if(__webpack_require__.o(r,f)&&(0!==(S=r[f])&&(r[f]=void 0),S)){var k=_&&("load"===_.type?"missing":_.type),C=_&&_.target&&_.target.src;I.message="Loading chunk "+f+" failed.\n("+k+": "+C+")",I.name="ChunkLoadError",I.type=k,I.request=C,S[1](I)}},"chunk-"+f,f)}};var webpackJsonpCallback=(f,_)=>{var S,k,[C,I,L]=_,W=0;if(C.some(f=>0!==r[f])){for(S in I)__webpack_require__.o(I,S)&&(__webpack_require__.m[S]=I[S]);if(L)L(__webpack_require__)}for(f&&f(_);W<C.length;W++)k=C[W],__webpack_require__.o(r,k)&&r[k]&&r[k][0](),r[k]=0},f=self["webpackJsonp-rendition"]=self["webpackJsonp-rendition"]||[];f.forEach(webpackJsonpCallback.bind(null,0)),f.push=webpackJsonpCallback.bind(null,f.push.bind(f))})();var k={};(()=>{"use strict";__webpack_require__.r(k),__webpack_require__.d(k,{RenditionAPI:()=>RenditionAPI,providers:()=>je});var r=__webpack_require__("4eby"),f=__webpack_require__("uY7Q"),_=__webpack_require__.n(f),S=__webpack_require__("sdTo"),C=__webpack_require__.n(S),I=__webpack_require__("sR8A");const L="12.110.0";var W=__webpack_require__("plsW"),ie=__webpack_require__("UtFC"),ne=__webpack_require__("ibkQ");const utils_cancellablePromise=r=>{let f=!1,_=r;_||(_=Promise.reject());return{promise:new Promise((r,S)=>{_.then(_=>!f&&r(_)).catch(r=>!f&&S(r))}),cancel:()=>{f=!0}}};let oe=[];const renditionMakeCancellablePromise=r=>{const f=utils_cancellablePromise(r);return oe.push(f),f.promise};var le=__webpack_require__("4DGF");const getDigest=r=>(0,le.lT)()?window.msCrypto.subtle.digest("SHA-256",r):window.crypto&&window.crypto.subtle?window.crypto.subtle.digest("SHA-256",r):Promise.reject("Crypto is not supported"),getDigestHex=r=>[...new Uint8Array(r)].map(r=>r.toString(16).padStart(2,"0")).join(""),stringToUint8ArrayBuffer=r=>{let f,_,S,k,C,I=0;if(r){for(I=r.length,f=-1,_="undefined"==typeof Uint8Array?new Array(1.5*I):new Uint8Array(3*I),S=0,k=0,C=0;C!==I;){if(S=r.charCodeAt(C),C+=1,S>=55296&&S<=56319){if(C===I){_[f+=1]=239,_[f+=1]=191,_[f+=1]=189;break}k=r.charCodeAt(C),k>=56320&&k<=57343?(S=1024*(S-55296)+(k-56320+65536),C+=1,S>65535&&(_[f+=1]=240|S>>>18,_[f+=1]=128|S>>>12&63,_[f+=1]=128|S>>>6&63,_[f+=1]=128|63&S)):(_[f+=1]=239,_[f+=1]=191,_[f+=1]=189)}S<=127?_[f+=1]=0|S:S<=2047?(_[f+=1]=192|S>>>6,_[f+=1]=128|63&S):(_[f+=1]=224|S>>>12,_[f+=1]=128|S>>>6&63,_[f+=1]=128|63&S)}return"undefined"!=typeof Uint8Array?_.subarray(0,f+1):(_.length=f+1,_)}return""};var ve=__webpack_require__("RbXz"),we=__webpack_require__("zSZc"),be=__webpack_require__("GNuk"),Pe=__webpack_require__("6mnL");const getStreamRequestHeaders=r=>{let{apiKey:f,accessToken:_,transactionId:S,apiTimeoutDuration:k=0}=r;const C={Accept:"application/json, text/plain, */*"};return f&&(C["x-api-key"]=f),_&&(C.Authorization=_),S&&(C["x-transaction-id"]=S),k&&(C.Prefer=`respond-partial, wait=${k}`),new Headers(C)},uploadStream=(r,f,_,S,k)=>new Promise((C,I)=>{const L=getStreamRequestHeaders(k?{apiKey:_,accessToken:k}:{apiKey:_,transactionId:S}),W=(r=>{const f=new FormData;return f.append("contentAnalyzerRequests",'{\n        "sensei:engines": [{\n          "sensei:execution_info": {\n            "sensei:engine": "Annotation:pdf-object-detection:Service-61274bccdf4e4177b62ee988d67b9989"\n          },\n          "sensei:inputs": {\n            "in_stream": {\n              "sensei:multipart_field_name": "in_stream",\n              "dc:format":"application/pdf+dcxucf"\n            }\n          },\n          "sensei:outputs": {\n            "out_stream": {\n              "sensei:multipart_field_name": "out_stream",\n              "dc:format":"application/zip"\n            }\n          },\n          "sensei:params": {\n            "client_analytics_consent":true,\n            "result_format":"cnpdf_updates",\n            "save_intermediate_files":false,\n            "degree_of_parallelism": 1,\n            "overrides":"",\n            "provisional":true\n          }\n        }]\n      }'),f.append("in_stream",r),f})(r);fetch(f,{method:"POST",headers:L,body:W}).then(r=>{r.ok?C(r):I(r)}).catch(r=>{I(r)})}),AdobeSenseiPredictClient=r=>{let{cnpdfZipData:f,mimeType:_}=r;return new Promise((r,S)=>{const k=function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,f="";const _="0123456789";for(let S=0;S<r;S+=1)f+=_.charAt(Math.floor(10*Math.random()));return f}(),C=new Blob([f],{type:_});let I,L,ie,ne;!W.auth2.isSignedIn?(L="https://sensei-stage.adobe.io/anonymous/v2/predict",ie="https://sensei-stage.adobe.io/anonymous/v2/status",ne="ReaderMobileAndroid4_0002_Anonymous"):(I=W.auth2.getAccessTokenInfo().access_token||void 0,L=`https://senseis-stage.adobe.io/services/v2/stream/predict/${k}`,ie=`https://senseis-stage.adobe.io/services/v2/stream/predict/${k}`,ne="AdobeSenseiPredictServiceStageKey"),uploadStream(C,L,ne,k,I).catch(r=>{S(r)}),function(r,f,_,S){let k=arguments.length>4&&void 0!==arguments[4]?arguments[4]:59;return new Promise((C,I)=>{const L=getStreamRequestHeaders(S?{apiKey:f,accessToken:S}:{apiKey:f,transactionId:_,apiTimeoutDuration:k});fetch(r,{method:"GET",headers:L}).then(r=>{r.ok?(r=>!(!r||!r.headers)&&null!==r.headers.get("content-length"))(r)?I(r):C(r.body):I(r)}).catch(r=>{I(r)})})}(ie,ne,k,I).then(f=>{r(f)}).catch(r=>{S(r)})})};var Ae=__webpack_require__("GTUu");class ExternalCertificateValidator extends I.CertificateValidationInterface{constructor(r){super(),this.externalCertificateValidator=r||null}name(){return we.Tz.ExternalValidator}_base64ToArrayBuffer(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!r.length)return null;let f="";r.forEach(r=>{f+=window.atob(r)});const _=f.length,S=new Uint8Array(_);for(let r=0;r<_;r+=1)S[r]=f.charCodeAt(r);return S.buffer}validate(r){return new Promise(async(f,_)=>{if(!Array.isArray(r))return _(new Error("certificateChain must be an array"));if(!this.externalCertificateValidator)return _(new Error("ExternalCertificateValidator is not available"));try{setTimeout(()=>_(new Error(we.pM.apiTimeoutError)),5e3);const S=this._base64ToArrayBuffer(r),k=await this.externalCertificateValidator({buffer:S});if(!k||!k.status)return _(new Error("ExternalCertificateValidator empty response"));"NOTVALID"===k.status&&(k.status=we.PB.invalid),k.certificates||(k.certificates=r),k.trustSources||k.status!==we.PB.valid||(k.trustSources=[we.D6.OS]),k.validation||(k.validation={validatedOn:we.il.currentTime,timestamp:(new Date).toISOString()}),f(k)}catch(r){_(r)}})}}const Se=ExternalCertificateValidator;class AdobeSignCertificateValidation extends I.CertificateValidationInterface{static isAvailable(){return!0}name(){return we.Tz.AdobeSignValidator}static getValidationAPI(){let r="https://certificatevalidator-dev.adobe.io";const f=W.envUtil.getHostEnv();return"prod"===f?r="https://certificatevalidator.adobe.io":"stage"===f&&(r="https://certificatevalidator-stage.adobe.io"),r+="/certificatevalidator/v1/verify",{api:r,apiKey:"certificatevalidator"}}_getError(r,f){const _=new Error(r);return _.reason=f?{code:f}:{},_}validate(r){return new Promise((f,_)=>{if(!Array.isArray(r))return _(this._getError("certificateChain must be an array"));const{api:S,apiKey:k}=AdobeSignCertificateValidation.getValidationAPI(),C=new Headers;C.append("Content-Type","application/json"),C.append("x-api-key",k);const I={method:"POST",headers:C,body:JSON.stringify({certificates:r})};fetch(S,I).then(async r=>{if(r.ok){const _=await r.json();_.validation||(_.validation={validatedOn:we.il.currentTime,timestamp:(new Date).toISOString()}),_&&_.status===we.PB.valid&&!_.trustSources.length&&(_.status=we.PB.unknown),f(_)}const _=r.status;let S=we.pM.unknownError;throw 429===_?S=we.pM.tooManyRequests:504===_?S=we.pM.gatewayTimeout:_>=500&&_<600&&(S=we.pM.internalServerError),this._getError(S,_)}).then(r=>f(r)).catch(r=>_(r))})}}const Re=AdobeSignCertificateValidation,recordNow=(r,f)=>{const _=Math.round(f||performance.now());return window.performance&&window.performance.mark&&window.performance.mark(`provider_rendition_${r}`,{startTime:_}),_};var De=__webpack_require__("Kq49"),Te=__webpack_require__("6Wbc"),ke=__webpack_require__("NHKb");class AJSHandler{constructor(r,f){var _=this;this._shouldEnableProgressiveRendering=()=>!!window.OffscreenCanvas&&this.options.useProgressiveRendering,this.acrobatJSInstanceHandler=new De.A({enableAJSLogging:r.enableAJSLogging,useAJSFullBuild:r.useAJSFullBuild,maxActiveAJSinstanceLimit:we.zY}),this.options=r,this._assetUriToFileHandle={},this._defaultAJSHandle=null,this._defaultAJSHandlePromise=new Promise(r=>{this._defaultAJSHandleResolve=r}),this._defaultAJSMapped=!1,this._defaultInstanceAssetUri=null,this._ajsSetupPromise=null,this._reInitRequested=!1,this._onAjsEvent=function(r){for(var S=arguments.length,k=new Array(S>1?S-1:0),C=1;C<S;C++)k[C-1]=arguments[C];return f(r===we.hw?_._defaultInstanceAssetUri:r,...k)}}async init(){if(!this._ajsSetupPromise){const r=this._assetUriToFileHandle[we.hw];this._ajsSetupPromise=this._defaultAJSHandle||this._ajsSetup(we.hw,r)}return this._ajsSetupPromise}_getAJSInstanceFromAssetUri(r){const f=r,_=this._assetUriToFileHandle[f];return this.acrobatJSInstanceHandler.getAcrobatJSInstance(_)}static _ajsGetPath(){return ve.Ey()}async _ajsSetup(r,f){var _=this;const S={ajsPath:AJSHandler._ajsGetPath(),enableProgressiveRendering:this._shouldEnableProgressiveRendering(),hostEnv:W.envUtil.getHostEnv(),enableWasmExceptions:(0,ke.b)(),enableWasmChunking:(0,Ae.pq)()};this.options.ajsExceptionSupport=S.enableWasmExceptions?"wasm":"js";const k=this.acrobatJSInstanceHandler.createAcrobatJSInstance({ajsConfig:S,forceEvict:!0,onAjsEvent:function(){for(var f=arguments.length,S=new Array(f),k=0;k<f;k++)S[k]=arguments[k];return _._onAjsEvent(r,...S)}},f);r!==we.hw||this._defaultAJSHandle||(k.then(this._defaultAJSHandleResolve),this._defaultAJSHandle=k),this._assetUriToFileHandle[r]=await k}isInstanceCached(r){const f=this._assetUriToFileHandle[r];return this.acrobatJSInstanceHandler.checkInstanceState(f,Te.ht.CACHED)}async activateInstanceIfInactive(r){const f=this._assetUriToFileHandle[r];if(this.isInstanceCached(r)){const{openPdfParams:_}=this.acrobatJSInstanceHandler.getAcrobatJSInstanceParameters(f);await this._ajsSetup(r,f),await this._getAJSInstanceFromAssetUri(r).openPDF(_)}}async assignDefaultInstance(r){r&&this._defaultAJSHandle&&!this._defaultAJSMapped&&(this._assetUriToFileHandle[r]=await this._defaultAJSHandle,this._defaultInstanceAssetUri=r,this._defaultAJSMapped=!0)}callSync(r,f){const _=this._getAJSInstanceFromAssetUri(r||we.hw);if(!_)throw(0,ne.$s)("Filehandle not present",{apiName:f}),Error("Filehandle not present");if(!_[f])throw(0,ne.$s)("Unknown AJS Command",{apiName:f}),Error("Unknown AJS command");for(var S=arguments.length,k=new Array(S>2?S-2:0),C=2;C<S;C++)k[C-2]=arguments[C];return _[f](...k)}updateDefaultAJSInstance(r){if(!this._assetUriToFileHandle[r])throw Error("File handle not present for assetUri:",r);this._assetUriToFileHandle[we.hw]=this._assetUriToFileHandle[r],this._defaultInstanceAssetUri=r}async callAsync(r,f){await this._defaultAJSHandlePromise,await this.assignDefaultInstance(r);const _=this._assetUriToFileHandle[r||we.hw];let S=r;if(this.acrobatJSInstanceHandler.has(_))await this.activateInstanceIfInactive(r);else if(r&&"openPDF"!==f){(0,ne.$s)(`AJS command ${f} called for assetUri ${r} for which openPDF was not called. Using default instance.`);1===new Set(Object.values(this._assetUriToFileHandle)).size&&(S=this._defaultInstanceAssetUri)}else r&&await this._ajsSetup(r);for(var k=arguments.length,C=new Array(k>2?k-2:0),I=2;I<k;I++)C[I-2]=arguments[I];"openPDF"===f&&this.acrobatJSInstanceHandler.setOpenPDFParameters(this._assetUriToFileHandle[r],C[0]);const L=this._getAJSInstanceFromAssetUri(S||we.hw);if(!L)return(0,ne.$s)("Filehandle not present",{apiName:f}),Promise.reject(new Error("Filehandle not present"));if(!L[f])return(0,ne.$s)("Unknown AJS Command",{apiName:f}),Promise.reject(new Error("Unknown AJS command"));const W=await L[f](...C);return"openPDF"===f&&(W.enableWasmExceptions="wasm"===this.options.ajsExceptionSupport),"getPageRendition"===f&&(0,ke.O)(),W}_resetDefaultHandleParams(){this._defaultAJSHandle=null,this._ajsSetupPromise=null,this._defaultAJSHandlePromise=new Promise(r=>{this._defaultAJSHandleResolve=r}),this._defaultAJSMapped=!1}resetWorker(){!Object.keys(this._assetUriToFileHandle).some(r=>r!==we.hw)?(this._resetDefaultHandleParams(),this.init()):this._reInitRequested=!0}close(r){if(r in this._assetUriToFileHandle){const f=this._assetUriToFileHandle[r];this.acrobatJSInstanceHandler.erase(f),delete this._assetUriToFileHandle[r]}!Object.keys(this._assetUriToFileHandle).some(r=>r!==we.hw)&&(this._resetDefaultHandleParams(),this._reInitRequested&&(this.init(),this._reInitRequested=!1))}registerLicense(r){const f=[...new Set(Object.values(this._assetUriToFileHandle))].map(f=>this.acrobatJSInstanceHandler.getAcrobatJSInstance(f).registerLicense(r));return Promise.all(f)}remapAssetUri(r,f){this._assetUriToFileHandle[f]=this._assetUriToFileHandle[r],delete this._assetUriToFileHandle[r]}}const Ce=AJSHandler,utils_ProviderUtil=async(r,f)=>{try{const _=await W.providers.selection(),S=await _.registerSelection("ViewerAsset");if(S.clearSelection(),!f)return;S.selectItem(r,{eTag:f,asset_id:r})}catch(r){console.error("Error during setting etag in selection provider: ",r)}};let Ie=null;class NoRenditionError extends Error{constructor(r){super(r),this.code=415}}class RenditionAPI{constructor(r,f){var _=this;return this._appStateChangeListener=r=>{if("DEFERRED_LOAD"===r)this._getAjs()},this._getFileInfoObj=function(r,f){let S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(W.auth2.isSignedIn&&!_._isS3DownloadUrl){const r=W.auth2.getAccessTokenInfo();r.access_token&&S.push({key:"Authorization",value:`Bearer ${r.access_token}`})}return f&&!("id"in f)&&(f.id=f.asset_id),{content:{location:{url:r,headers:S}},metaData:f}},this._fetchPDFBufferRanges=(r,f,_)=>1===_.length&&0===_[0].start&&void 0===_[0].end?this._fetchCompletePDFBufferPromise.then(r=>[r]):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then(()=>this._externalGetDownloadUri(r,f).then(r=>this._external.fetchPDFBufferRanges(r,_)))),this._fetchPDFSize=(r,f)=>(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then(()=>this._externalGetDownloadUri(r,f).then(r=>this._external.fetchPDFSize(r)))),this._getRenditionParams=r=>{const f=Object.assign({devicePixelRatio:1},r);let{requestType:_}=f;const{PageRequestType:S}=I.enums;return"page"===_?_=S.PAGE:"cache"===_?_=S.PAGE_CACHE:"thumbnail"===_&&(_=S.THUMBNAIL),f.requestType=_,f},this._handleRenditionResponse=r=>{const f=Object.assign({},r),{buffer:_,...S}=f.data;return f.params={pageImgBuffer:_,...S},delete f.data,f},Ie=this,this.queryParams=(0,be.v)(),this.options=Object.assign({},{enableExternal:!0,useAJS:!0,useDCAPI:!0,AJSDelay:0,useReview:!0,usePDFNow:!1,fetchWithCredentials:!1,autoStart:!0,useALMForAutoStart:!1,shouldUseModernViewer:!1,enableAJSLogging:!1,useAJSFullBuild:!1,useProgressiveRendering:!0},f,(0,Ae.qT)(this.queryParams)),this.ajsHandler=new Ce(this.options,this._onAjsEvent.bind(this)),this._fetchCompletePDFBufferPromise=null,this._assetRenditions={},this._assetRenditionsIndex=[],this._assetPageRenditions={},this._assetPageRenditionPromises={},this._assetPageRenditionsIndex=[],this._cachedRedirectUrl={},this._perfTimings={},this._resetAjsPerfTimings(),this._getAssetFileInfoPromise={},this.options.autoStart&&this.init(),Ie}_getAjs(){return this.ajsHandler.init().catch(r=>{this.options.useAJS=!1,this._ajsEmit("ajsInitFailed",r)})}reInitAJS(){this.ajsHandler.resetWorker(),this._resetAjsPerfTimings()}init(){this.options.useDCAPI?(this.dcapiPromise=new Promise((r,f)=>{this.dcapiResolve=r,this.dcapiReject=f}),this._dcapiInit()):this.dcapiPromise=Promise.resolve(),this.options.useAJS&&(this._completePDFBufferAvailablePromiseMap={},this._completeCNPDFAvailablePromiseMap={},this.options.AJSDelay>0?setTimeout(this._getAjs.bind(this),this.options.AJSDelay):this.options.useALMForAutoStart?document.addEventListener("dc:appstatechange",r=>{var f;const _=null===(f=r.detail)||void 0===f?void 0:f.appState;this._appStateChangeListener(_)}):this._getAjs()),this._waitOnCompletePDFBufferMap={},this._ajsMetaDataPromiseMap={}}_resetAjsPerfTimings(){this.options.useAJS&&(this._perfTimings.ajs={})}_getDCAssetFileInfo(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const _=`${r}`;return this._getAssetFileInfoPromise[_]||(this._getAssetFileInfoPromise[_]=this.dcapiPromise.then(()=>{const _=this._dcapiGetMetadata(r,f),S=this._dcapiGetDownloadUri(r,{});return Promise.all([S,_])}).then(r=>{const f=r[0],_=r[1];return this._getFileInfoObj(f,_,[])}).catch(()=>{delete this._getAssetFileInfoPromise[_]})),this._getAssetFileInfoPromise[_]}_getPDFNowAssetFileInfo(r,f){return this.dcapiPromise.then(()=>this._dcapiGetMetadata(r,f)).then(r=>{const f=r;return f&&!("id"in f)&&(f.id=f.asset_id),{metaData:f}})}_getReviewAssetFileInfo(r){let f=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const _=`${r}`,S=window.adobe_dc_sdk.cache.assetURLPromise&&window.adobe_dc_sdk.cache.assetURLPromise[r];if(this._getAssetFileInfoPromise[_])return this._getAssetFileInfoPromise[_];let k;k=f&&W.auth2.isSignedIn?this._dcapiGetMetadata(r,{}):this._reviewGetMetadata(r);const C=S||this._reviewGetDownloadUri(r,f);return this._getAssetFileInfoPromise[_]=Promise.allSettled([C,k]).then(async _=>{let k;if(k="fulfilled"===_[0].status&&_[0].value&&"RESOLVED_WITH_NOT_FOUND"!==_[0].value?S?_[0].value.download_url:_[0].value:await this._reviewGetDownloadUri(r,f),!k)throw new Error("Download Uri is null");const C="fulfilled"===_[1].status?_[1].value:null;return this._getFileInfoObj(k,C,[])}).catch(()=>{delete this._getAssetFileInfoPromise[_]}),this._getAssetFileInfoPromise[_]}getAssetFileInfo(r,f){return RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?this._getReviewAssetFileInfo(r):RenditionAPI._isPDFNowAsset(f)?this._getPDFNowAssetFileInfo(r,f):RenditionAPI._isConnectorAsset(f)?this._connectorGetMetadata(r,f).then(_=>(_&&!("id"in _)&&(_.id=_.asset_id),_.download_url?Promise.resolve({content:{location:{url:_.download_url}},metaData:_}):this._connectorGetContentBuffer(r,f).then(r=>{const f=new Blob([r]);return Promise.resolve({content:{location:{url:URL.createObjectURL(f)}},metaData:_})}))):this._getDCAssetFileInfo(r)}getDcapiRendition(r,f){return this._dcapiGetRendition(r,f)}static _getOriginFromUrl(r){return ve.Yo(r)}_ajsEmit(r,f){const _={...f,acrobatJSVersion:L,shouldUseModernViewer:this.options.shouldUseModernViewer};(0,ne.$s)(r,_)}_filterLogsBeforeSendingToSplunk(r,f){switch(r){case"unembeddedFontsDetected":case"openPDFCalled":case"weblinksDetectionTime":return;default:this._ajsEmit(r,f)}}_onAjsEvent(r,f,_,S){switch(f){case"completeCNPDFAvailable":this._completePDFBufferAvailablePromiseMap[r].resolve(),this._completeCNPDFAvailablePromiseMap[r].resolve();break;case"completePDFBufferAvailable":this._completePDFBufferAvailablePromiseMap[r].resolve();break;case`${S}PerfTimings`:"ajs"===S&&Object.keys(_).forEach(r=>recordNow(r,_[r])),this._perfTimings[S]=Object.assign({},this._perfTimings[S],_);break;case"FontUsed":W.providers["font-provider"]().then(r=>{!_.isInEditMode&&_.fontsList&&_.fontsList.forEach(f=>{r.isUsageUnReported(f)&&this._ajsEmit("FontUsageNotReported",{fontName:f})})});break;default:this._filterLogsBeforeSendingToSplunk(f,_)}}_dcapiInit(){this._perfTimings.dc={dcapiInit:recordNow(we.jn.DCAPI_INIT)},W.providers&&W.providers.dcapi&&W.providers.dcapi().then(r=>{this._dcapi=r.getDcapi(),this._dcapi.promise().then(()=>{this._perfTimings.dc.dcapiLoaded=recordNow(we.jn.DCAPI_LOADED),this.dcapiResolve()}).catch(r=>{(0,ne.$s)(r,{code:r.code,level:"error"}),this.dcapiReject()})})}_pdfnowInitPromise(){return!this.pdfnowApiPromise&&(this.options.usePDFNow?(this.pdfnowApiPromise=new Promise((r,f)=>{this.pdfnowApiResolve=r,this.pdfnowApiReject=f}),!0):(this.pdfnowApiPromise=Promise.resolve(),!1))}_pdfnowInit(){void 0!==W.providers&&W.providers["dcapi-facade"]().then(r=>r.getDcapi().then(r=>{this._pdfnowDcapi=r,this.pdfnowApiResolve()})).catch(r=>{(0,ne.$s)(r,{code:r.code,level:"error"}),this.pdfnowApiReject()})}_resetReviewProvider(){this.reviewApiPromise=void 0,this._initReviewProviderIfRequired()}_initReviewProviderIfRequired(){this._reviewInitPromise()&&this._reviewInit()}_reviewInitPromise(){return!this.reviewApiPromise&&(this.options.useReview?(this.reviewApiPromise=new Promise((r,f)=>{this.reviewApiResolve=r,this.reviewApiReject=f}),!0):(this.reviewApiPromise=Promise.resolve(),!1))}_reviewInit(){void 0!==W.providers&&W.providers["review-handler"]().then(r=>{this._reviewApi=r,this.reviewApiResolve()}).catch(r=>{(0,ne.$s)(r,{code:r.code,level:"error"}),this.reviewApiReject()})}_externalInitPromise(){return!this.externalPromise&&(this.options.enableExternal?(this.externalPromise=new Promise((r,f)=>{this.externalResolve=r,this.externalReject=f}),!0):(this.externalPromise=Promise.resolve(),!1))}_externalInit(){void 0!==W.providers&&W.providers.integrationProvider().then(r=>{this._external=r,this.externalResolve()}).catch(r=>{(0,ne.$s)(r,{code:r.code,level:"error"}),this.externalReject()})}_cacheRendition(r,f){this._assetRenditions[r]||(this._assetRenditionsIndex.length===we.rA&&delete this._assetRenditions[this._assetRenditionsIndex.shift()],this._assetRenditionsIndex.push(r)),this._assetRenditions[r]=_()(this._assetRenditions[r],f)}_cachePageRendition(r,f,S){const k=`${r}-${f}`;this._assetPageRenditions[k]||(this._assetPageRenditionsIndex.length===we.rA&&delete this._assetPageRenditions[this._assetPageRenditionsIndex.shift()],this._assetPageRenditionsIndex.push(k)),this._assetPageRenditions[k]=_()(this._assetPageRenditions[k],S)}_dcapiGetAssetUri(r){return this._dcapi&&r.startsWith("urn:")?this._dcapi.getTemplateURI("asset_uri",{asset_id:r}):r}static _dcapiGetAssetUrn(r){return r.startsWith("urn:")?r:r.substr(r.lastIndexOf("/")+1)}static _isFileTypeImage(r){return new RegExp("^image").test(r)}static _canFileHaveMultiplePages(r){if(RenditionAPI._isFileTypeImage(r))return!1;return!["application/zip","application/octet-stream","text/plain","text/rtf"].includes(r)}_dcapiMetadataCall(f,_){let S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise((k,C)=>{this._dcapi.call("assets.get_metadata",{accept:"asset_metadata_basic_v1.json",resource_parameter:this._dcapiGetAssetUri(f),headers:{"x-request-id":(0,r.A)()}}).then(r=>{var I,L;const W=r,ie=null==W||null===(I=W.content)||void 0===I?void 0:I.page_count;let ne;const oe=null==W||null===(L=W.content)||void 0===L?void 0:L.type;if(W.content.numPages=ie,(_.enableRetryForPDFs||this.queryParams.enableRetryForPDFs||"application/pdf"!==oe)&&!ie){let r="application/pdf"===oe?we.dV:we.L_;RenditionAPI._canFileHaveMultiplePages(oe)||(r=1);const k="application/pdf"===W.content.type?we.jQ:we.US;S===r?W.content.numPages=1:ne=new Promise((r,C)=>{setTimeout(()=>{this._dcapiMetadataCall(f,_,S+1).then(r).catch(C)},k)})}ne||(ne=Promise.resolve(W)),ne.then(k).catch(C)},r=>{C(r)})})}_dcapiGetMetadata(r,f){return this._assetRenditions[r]&&this._assetRenditions[r].dcapi&&this._assetRenditions[r].dcapi.contentData&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[r].dcapi.contentData):RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?this._reviewGetMetadata(r,f):RenditionAPI._isPDFNowAsset(f)?this._pdfnowGetMetadata(r,f):RenditionAPI._isAcpAsset(f)?this._acpGetMetadata(r,f):RenditionAPI._isConnectorAsset(f)?this._connectorGetMetadata(r,f):new Promise((_,S)=>{this.dcapiPromise.then(()=>{const k=this._dcapiMetadataCall(r,f),C=this._dcapiGetDocumentRenditionStatus(r);Promise.all([k,C]).then(f=>{let[S,k]=f;this._cacheRendition(r,{dcapi:{contentData:(0,Ae.mg)(S.content)}}),this._cacheRendition(r,{dcapi:{contentData:{documentRenditionStatus:k}}}),_(this._assetRenditions[r].dcapi.contentData)}).catch(S)})})}static _isReviewAsset(r){return r.assetType===we.qf}static _isParcelAsset(r){return r.assetType===we.zz}static _isExternalAsset(r){return r.assetType===we.ND}static _isConnectorAsset(r){return r.assetType&&we.r5.includes(r.assetType)}static _isSignAsset(r){return r.assetType===we.B}static _isAcpAsset(r){return r.assetType===we.y8}static _isPDFNowAsset(r){return r.assetType===we.CE}_dcapiIsPDFAsset(r,f){return new Promise((_,S)=>{f.useDCAPI?this._dcapiGetMetadata(r,f).then(()=>{this._assetRenditions[r]&&"application/pdf"===this._assetRenditions[r].dcapi.contentData.type?_():S()}).catch(S):_()})}_acpapiIsPDFAsset(r,f){return new Promise((_,S)=>{this._acpGetMetadata(r,f).then(()=>{this._assetRenditions[r]&&"application/pdf"===this._assetRenditions[r].acp.metaData.mimeType?_():S()}).catch(S)})}_isPDFAsset(r,f){return new Promise((_,S)=>{f&&"application/pdf"===f.assetMimeType?_():RenditionAPI._isAcpAsset(f)?this._acpapiIsPDFAsset(r,f).then(_).catch(S):this._dcapiIsPDFAsset(r,f).then(_).catch(S)})}_ajsPostMetaData(r,f){const _=f.buffer;return _?(this._fetchCompletePDFBufferPromise=Promise.resolve(_),delete f.buffer):f.enableCNPDF||(this._fetchCompletePDFBufferPromise=this._fetchCompletePDFBuffer(r,f)),f.enableLinearization&&!f.password?renditionMakeCancellablePromise(this._ajsGetLinearizedContentData(r,f)):f.enableCNPDF?renditionMakeCancellablePromise(this._ajsGetCNPDFContentData(r,f)):this._fetchCompletePDFBufferPromise.then(_=>renditionMakeCancellablePromise(this._ajsGetContentData(r,_,f)).catch(r=>((0,ne.$s)("ajsGetContentData Failed",{error:JSON.stringify(r),size:_?_.byteLength:-1}),Promise.reject(r))))}_fetchCompletePDFBuffer(r,f){let _;return _=RenditionAPI._isExternalAsset(f)?renditionMakeCancellablePromise(this._externalGetDownloadUri(r,f)).catch(r=>((0,ne.$s)("GetDownloadUri failed",{assetType:"external",error:JSON.stringify(r)}),Promise.reject(r))).then(f=>renditionMakeCancellablePromise(this._externalGetContentBuffer(r,f)).catch(r=>((0,ne.$s)("GetContentBuffer failed",{assetType:"external",error:JSON.stringify(r)}),Promise.reject(r)))):renditionMakeCancellablePromise(this._isPDFAsset(r,f)).catch(r=>((0,ne.$s)("Non PDF asset in AJS flow",{assetType:"non-external",error:JSON.stringify(r)}),Promise.reject(r))).then(()=>renditionMakeCancellablePromise(this._getDownloadUri(r,f)).catch(r=>((0,ne.$s)("GetDownloadUri failed",{assetType:"non-external",error:JSON.stringify(r)}),Promise.reject(r))).then(_=>(this._perfTimings.ajs.pdfDownloadStart=recordNow(we.jn.PDF_DOWNLOAD_START),(0,ne.$s)("pdfDownloadStartTime",{pdfDownloadStart:this._perfTimings.ajs.pdfDownloadStart}),renditionMakeCancellablePromise(this._dcapiGetContentBuffer(r,_,f)).catch(r=>((0,ne.$s)("GetContentBuffer failed",{assetType:"non-external",error:JSON.stringify(r)}),Promise.reject(r)))))),_.then(_=>{if(RenditionAPI._isExternalAsset(f)){const _=this._external.apis.file.getDownloadTimes();this._perfTimings.ajs.pdfDownloadStart=recordNow(we.jn.PDF_DOWNLOAD_START,_.pdfDownloadStartTime),this._perfTimings.ajs.pdfDownloadEnd=recordNow(we.jn.PDF_DOWNLOAD_END,_.pdfDownloadEndTime),(0,ne.$s)("pdfDownloadStartTime",{pdfDownloadStart:this._perfTimings.ajs.pdfDownloadStart}),this._getFileSize(r,f).then(r=>{this._logPdfDownloadTotalTime(r)}).catch(()=>{this._logPdfDownloadTotalTime(0)})}else{this._perfTimings.ajs.pdfDownloadEnd=recordNow(we.jn.PDF_DOWNLOAD_END);const{pdfDownloadStart:r,pdfDownloadEnd:f}=this._perfTimings.ajs,_=f-r;(0,ne.$s)("pdfDownloadTotalTime",{pdfDownloadTotalTime:_}),this._setDownloadUrlType(we.Ey.NONE)}return _})}_getDownloadUri(r,f){return RenditionAPI._isAcpAsset(f)?this._acpGetMetadata(r,f).then(r=>{var f;let{download_url:_}=r;return null!=_&&null!==(f=_.toLowerCase())&&void 0!==f&&f.includes("x-amz-security-token")&&this._setDownloadUrlType(we.Ey.S3),_}):this._dcapiGetDownloadUri(r,f)}_getFileSize(r,f){return this._externalGetMetadata(r,f).then(r=>r.size?r.size:0)}_logPdfDownloadTotalTime(r){const{pdfDownloadStart:f,pdfDownloadEnd:_}=this._perfTimings.ajs,S=_-f;(0,ne.$s)("pdfDownloadTotalTime",{pdfDownloadTotalTime:S,fileSize:r,isS3Url:this._isS3DownloadUrl}),this._setDownloadUrlType(we.Ey.NONE)}_ajsGetMetadata(r,f){const _=f?{...f}:{};var S;return renditionMakeCancellablePromise((S=r,new Promise((r,f)=>{if((0,le.lT)()){const _=stringToUint8ArrayBuffer(S);let k="";const C=getDigest(_);C.process(_),C.finish(),C.oncomplete=function onComplete(){if(k=C.result,null!==k){const f=getDigestHex(k);r(f)}else f("documentIdHash error")}}else{const _=(0,le.UP)()?stringToUint8ArrayBuffer(S):(new TextEncoder).encode(S);getDigest(_).then(f=>{const _=getDigestHex(f);r(_)}).catch(r=>{f(r)})}}))).then(r=>{(0,ne.TU)(r),this._documentId=r}).catch(()=>{this._documentId=""}).then(()=>{if(!0!==_.forceCacheless&&this._assetRenditions[r]&&this._assetRenditions[r].ajs&&this._assetRenditions[r].ajs.metadataPromise)return this._assetRenditions[r].ajs.metadataPromise;const S=this._ajsPostMetaData(r,_);return f.enableMetaDataAndRenditionAPI||this._cacheRendition(r,{ajs:{metadataPromise:S}}),S})}_externalGetMetadata(r,f){return this._assetRenditions[r]&&this._assetRenditions[r].external&&this._assetRenditions[r].external.metadata&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[r].external.metadata):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then(()=>this._external.getSelectedFilesListFromFileIds([r]).then(f=>(this._cacheRendition(r,{external:{metadata:f[0]}}),f[0]))))}_externalGetDownloadUri(r,f){return this._assetRenditions[r]&&this._assetRenditions[r].external&&this._assetRenditions[r].external.downloadUri&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[r].external.downloadUri):this._externalGetMetadata(r,f).then(f=>f.downloadUrl?(this._cacheRendition(r,{external:{downloadUri:f.downloadUrl}}),f.downloadUrl):Promise.reject(new Error("Download Uri not available")))}_externalGetContentBuffer(r,f){return this._assetRenditions[r]&&this._assetRenditions[r].external&&this._assetRenditions[r].external.contentBuffer?Promise.resolve(this._assetRenditions[r].external.contentBuffer):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then(()=>this._external.getFileContents(f).then(f=>(this._cacheRendition(r,{external:{contentBuffer:f},ajs:{contentBuffer:f}}),f))))}_connectorGetRendition(r,f){const _=f.size||"3200",S=`${r}-0`;if(!0===f.forceCacheless||!this._assetPageRenditions[S]||!this._assetPageRenditions[S].connector||!this._assetPageRenditions[S].connector.pageImgBuffer||this._assetPageRenditions[S].connector.size!==_||0!==this._assetPageRenditions[S].connector.page){const S=new URLSearchParams(window.location.search),k=we.sk[f.assetType];return k?W.providers["storage-connectors"]().then(C=>C.getStorageProvider(k).then(k=>{let I=S.get("connectorid");return I||(I=f.connectorId),k.getRendition(r,C.getConnectorById(I),{size:_}).then(f=>{const S={params:{pageImgBuffer:f,mimeType:"image/png",pageNum:0}};return this._cachePageRendition(r,0,{connector:{pageImgBuffer:f,size:_,page:0}}),S})})).catch(r=>{throw new NoRenditionError(r&&r.message||"Unknown")}):Promise.reject(new Error("Not supported"))}const k=this._assetPageRenditions[S].connector,C={params:{pageImgBuffer:k.pageImgBuffer,mimeType:"image/png",pageNum:k.page}};return Promise.resolve(C)}_acpGetStorageProvider(){return W.webPlatform.locateImplementation("IStorage",we.HD)}_acpGetRendition(r,f){const _=f.size||"3200",S=f.format||"png",k=void 0!==f.pageNum?f.pageNum:1,C=`image/${S}`,I=`${r.assetId}-${k}`;if(!0===f.forceCacheless||!this._assetPageRenditions[I]||!this._assetPageRenditions[I].acp||!this._assetPageRenditions[I].acp.pageImgBuffer||this._assetPageRenditions[I].acp.format!==S||this._assetPageRenditions[I].acp.size!==_||this._assetPageRenditions[I].acp.page!==k)return new Promise((f,I)=>{this._acpGetStorageProvider().then(L=>{var W;L.getRendition(r,{format:S,pageNum:k,size:_,type:C,prefetchMetaData:null===(W=this._assetRenditions[r.assetId])||void 0===W?void 0:W.prefetchMetaData}).then(I=>{const L={params:{pageImgBuffer:I,mimeType:C,pageNum:k}};this._cachePageRendition(r.assetId,k,{acp:{pageImgBuffer:I,mimeType:C,size:_,page:k,format:S}}),f(L)}).catch(I)}).catch(I)});const L=this._assetPageRenditions[I].acp,W={params:{pageImgBuffer:L.pageImgBuffer,mimeType:L.mimeType,pageNum:L.page}};return Promise.resolve(W)}_connectorGetMetadata(r,f){const _=`${r}`;if(!0!==f.forceCacheless&&this._getAssetFileInfoPromise[_])return this._getAssetFileInfoPromise[_];if(!0!==f.forceCacheless&&this._assetRenditions[r]&&this._assetRenditions[r].connector&&this._assetRenditions[r].connector.metaData)this._getAssetFileInfoPromise[_]=Promise.resolve(this._assetRenditions[r].connector.metaData);else{const S=new URLSearchParams(window.location.search),k=we.sk[f.assetType];this._getAssetFileInfoPromise[_]=k?W.providers["storage-connectors"]().then(C=>C.getStorageProvider(k).then(I=>{const L=f.connectorId||S.get("connectorid");let W;var ie;f.cloudUserId?W=null===(ie=C.getConnectorsByCloudUserId(f.cloudUserId))||void 0===ie?void 0:ie.find(r=>(null==r?void 0:r.connectorType)===k):W=C.getConnectorById(L);return I.getItem(r,W).then(f=>{const _=I.normalizeItem(f,W);return"application/pdf"!==_.type&&(_.numPages=1,_.page_count=1),this._cacheRendition(r,{connector:{metaData:_},ajs:{metaData:_}}),_}).catch(()=>{delete this._getAssetFileInfoPromise[_]})})):Promise.reject(new Error("Not supported"))}return this._getAssetFileInfoPromise[_]}_acpGetMetadata(r,f){const _=`${r}`,S={assetId:r,isACP:!0,sourceName:we.HD};if(!0!==f.forceCacheless&&this._getAssetFileInfoPromise[_])return this._getAssetFileInfoPromise[_];if(!0!==f.forceCacheless&&this._assetRenditions[_]&&this._assetRenditions[_].acp){const r=this._assetRenditions[_].acp;this._getAssetFileInfoPromise[_]=Promise.resolve(null==r?void 0:r.metaData)}else this._getAssetFileInfoPromise[_]=new Promise((r,f)=>{this._acpGetStorageProvider().then(k=>{var C;k.getAssetMetadata(S,{prefetchMetaData:null===(C=this._assetRenditions[_])||void 0===C?void 0:C.prefetchMetaData}).then(f=>{f.type=f.mimeType,this._cacheRendition(_,{acp:{metaData:f}}),r(f)}).catch(r=>{delete this._getAssetFileInfoPromise[_],f(r)})}).catch(f)});return this._getAssetFileInfoPromise[_]}_connectorGetContentBuffer(r,f){if(!this._assetRenditions[r]||!this._assetRenditions[r].connector||!this._assetRenditions[r].connector.contentBuffer){const _=new URLSearchParams(window.location.search),S=we.sk[f.assetType];return S?W.providers["storage-connectors"]().then(k=>k.getStorageProvider(S).then(S=>{const C=f.connectorId||_.get("connectorid");return S.getFileContent(r,k.getConnectorById(C)).then(f=>(this._cacheRendition(r,{connector:{contentBuffer:f},ajs:{contentBuffer:f}}),f))})):Promise.reject(new Error("Not supported"))}return Promise.resolve(this._assetRenditions[r].connector.contentBuffer)}_dcapiGetRenditionUri(f){return this._assetRenditions[f]&&this._assetRenditions[f].dcapi&&this._assetRenditions[f].dcapi.renditionUri?Promise.resolve(this._assetRenditions[f].dcapi.renditionUri):this._dcapi.call("assets.rendition_uri",{resource_parameter:this._dcapiGetAssetUri(f),accept:"asset_uri_rendition_v1.json",headers:{"x-request-id":(0,r.A)()}}).then(r=>(this._cacheRendition(f,{dcapi:{renditionUri:r.content.uri}}),r.content.uri),r=>Promise.reject(r))}_externalGetRendition(r,f){const _=void 0!==f.pageNum?f.pageNum:1,S=`${r}-${_}`;return this._assetPageRenditions[S]&&this._assetPageRenditions[S].external&&this._assetPageRenditions[S].external.rendition&&this._assetPageRenditions[S].external.rendition[_]&&!0!==f.forceCacheless?Promise.resolve(this._assetPageRenditions[S].external.rendition[_]):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then(()=>"function"!=typeof this._external.getRenditionByFileId?Promise.reject(new Error("Cannot get External rendition")):this._external.getRenditionByFileId(r,f).then(f=>{const S={external:{rendition:{}}};return S.external.rendition[_]={params:f},this._cachePageRendition(r,_,S),Promise.resolve({params:f})},r=>Promise.reject(r))))}_dcapiGetDirectRenditionForPage(f,_){const S=_.size||"1200",k=_.format||"jpg",C=void 0!==_.pageNum?_.pageNum:1,I=`${f}-${C}`,L=this._assetPageRenditions[I];let W;if(L&&(W=L.dcapi),W&&W.pageImgBuffer&&W.format===k&&W.size===S&&W.page===C){const r={params:{pageImgBuffer:W.pageImgBuffer,mimeType:W.mimeType,pageNum:W.page}};return Promise.resolve(r)}return this._dcapi.call("assets.rendition_direct",{accept:"image/*",resource_parameter:RenditionAPI._dcapiGetAssetUrn(f),uri_parameters:{size:S,format:k,page:C-1,processing_hint:"speed_over_quality"},headers:{"x-request-id":(0,r.A)()},responseType:"arraybuffer"}).then(r=>{const _={params:{pageImgBuffer:r.content,mimeType:r.headers["content-type"],pageNum:C}};return this._cachePageRendition(f,C,{dcapi:{pageImgBuffer:r.content,mimeType:r.headers["content-type"],size:S,page:C,format:k}}),Promise.resolve(_)},r=>Promise.reject(r))}_dcapiGetRendition(r,f){let _,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const k=performance.now();if(RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f))_=this._reviewGetRendition(r,f);else if(RenditionAPI._isPDFNowAsset(f))_=this._pdfnowGetRendition(r,f);else if(RenditionAPI._isConnectorAsset(f))_=this._connectorGetRendition(r,f);else if(RenditionAPI._isAcpAsset(f)){const S={assetId:r,isACP:!0,sourceName:we.HD};_=this._acpGetRendition(S,f)}else _=this.dcapiPromise.then(()=>this._dcapiGetDirectRenditionForPage(r,f));return _.catch(_=>{const{code:C}=_;if(404===C||429===C){const _=RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?0:(null==f?void 0:f.maxRetries)||we.mx;if(S<_){const _=(null==f?void 0:f.delayTime)||we.jQ;return(0,Ae.cb)(_).then(()=>this._dcapiGetRendition(r,f,S+1))}const{format:I,size:L,type:W}=f;(0,ne.$s)("dcapiGetRendition max retries",{asset_uri:r,code:C,format:I,level:"error",rendition_duration:performance.now()-k,size:L,type:W})}throw _})}_getReviewRenditionWithRetries(r,f){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const S=performance.now();return this._reviewGetRendition(r,f).catch(k=>{const{code:C}=k;if(404===C||429===C){if(_<we.mx)return(0,Ae.cb)(we.jQ).then(()=>this._getReviewRenditionWithRetries(r,f,_+1));const{format:k,size:I,type:L}=f;(0,ne.$s)("getReviewRenditionWithRetries max retries",{asset_uri:r,code:C,format:k,level:"error",rendition_duration:performance.now()-S,size:I,type:L})}throw k})}_dcapiGetDocumentRenditionUri(f,_){const S=_;return this.dcapiPromise.then(()=>{const _=S.format||"owp";return this._assetRenditions[f]&&this._assetRenditions[f].dcapi&&this._assetRenditions[f].dcapi.documentRenditionUri?Promise.resolve(this._assetRenditions[f].dcapi.documentRenditionUri+(S.format?`&format=${S.format}`:"")):this._dcapi.call("assets.rendition_uri",{resource_parameter:this._dcapiGetAssetUri(f),accept:"asset_uri_rendition_v1.json",uri_parameters:{make_ticket:"owp"===_,type:"document"},headers:{"x-request-id":(0,r.A)()}}).then(r=>(this._cacheRendition(f,{dcapi:{documentRenditionUri:r.content.uri}}),this._assetRenditions[f].dcapi.documentRenditionUri+(S.format?`&format=${S.format}`:"")),r=>Promise.reject(r))})}_dcapiGetDocumentRendition(f,_){const S=_;return this.dcapiPromise.then(()=>{const _=S.format||"owp";return S.format=void 0,this._dcapiGetDocumentRenditionUri(f,S).then(f=>this._dcapi.call("assets.document_rendition",{accept:"*/*",resource_parameter:f,uri_parameters:{format:_,fallback:"none"},headers:{"x-request-id":(0,r.A)()},responseType:"arraybuffer"}).then(r=>r.content))})}_dcapiGetDocumentRenditionStatus(f){return this.dcapiPromise.then(()=>this._dcapi.call("assets.document_rendition_status",{resource_parameter:this._dcapiGetAssetUri(f),accept:"asset_document_rendition_status_v1.json",headers:{"x-request-id":(0,r.A)()}}).then(r=>r.content.document_rendition_status,r=>Promise.reject(r)))}_reviewGetDownloadUri(r){let f=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._initReviewProviderIfRequired();return new Promise((_,S)=>{this.reviewApiPromise.then(()=>{this._reviewApi.initReviewIfRequired().then(()=>{const k=this._reviewApi.getReview(r);let C=!0;if(void 0!==k){const S=recordNow(we.jn.PDF_DOWNLOAD_URI_START);(f?k.getFileDownloadURLByAssetUri(r,"view",C):k.getFileDownloadURL("view",C)).then(r=>{this._setDownloadUrlType(we.Ey.S3),_(r);const f=recordNow(we.jn.PDF_DOWNLOAD_URI_END);(0,ne.$s)("pdfDownloadUriTotalTime",{pdfDownloadUriTotalTime:f-S})}).catch(()=>{C=!1;return(f?k.getFileDownloadURLByAssetUri(r,"view",C):k.getFileDownloadURL("view",C)).then(r=>{this._setDownloadUrlType(we.Ey.DCAPI),_(r);const f=recordNow(we.jn.PDF_DOWNLOAD_URI_END);(0,ne.$s)("pdfDownloadUriTotalTime",{pdfDownloadUriTotalTime:f-S})}).catch(r=>{this._setDownloadUrlType(we.Ey.NONE),(0,ne.$s)("Failed to fetch reviewDownloadUri",JSON.stringify(r))})})}else S(new Error("Review does not exist"))})})})}_setDownloadUrlType(r){this._downloadUrlType=r}get _isS3DownloadUrl(){return this._downloadUrlType===we.Ey.S3}_reviewGetMetadata(r){this._initReviewProviderIfRequired();return new Promise((f,_)=>{this.reviewApiPromise.then(()=>{this._reviewApi.initReviewIfRequired().then(()=>{const S=this._reviewApi.getReview(r);void 0!==S?S.getSendBootstrapData().then(k=>{const C={};if(k&&k.meta_list&&k.meta_list instanceof Array&&k.meta_list.length>S.getDownloadAssetIndex()){const _=k.meta_list[S.getDownloadAssetIndex()];C.type=_.content_type,C.assetMimeType=_.content_type,C.name=_.name,C.last_pagenum=_.last_pagenum||0,C.numPages=_.page_count||0,C.size=_.size,C.id=_.id,this._cacheRendition(r,{dcapi:{contentData:(0,Ae.mg)(C)}}),f(C)}else _(new Error("Invalid Bootstrap data"))}).catch(r=>{_(r)}):_(new Error("Review does not exist"))})}).catch(_)})}_reviewGetRenditionAuthHeader(r){const f=r;return this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(f.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),f}_getReviewRenditionURL(r,f){const _=void 0!==f.pageNum?f.pageNum-1:0,S=parseInt(f.size||"1200",10);return new Promise((f,k)=>{this.reviewApiPromise.then(()=>{this._reviewApi.instantiateReview().then(()=>{void 0!==this._reviewApi.getReview(r)?r?this._reviewApi.getAllBaseUris().then(k=>{let C,I=`${k.send_api.replace("/api/","/invitation/")+encodeURIComponent(r)}/asset/asset-0`;switch(!0){case S<=30:C="/icon";break;case S<=120:C="/thumbnail";break;case S<=500:C="/tile";break;default:C="/preview"}I+=C,_&&(I+=`?page=${_}`),f(I)},k):k(new Error("Invalid Bootstrap data")):k(new Error("Review does not exist"))},k)}).catch(k)})}_getCachedRedirectURL(r,f){const{assetUri:_,pageNum:S,renditionUrl:k,fetchOptions:C}=r;return new Promise((r,I)=>{const{pageNum:L,cachedAssetUri:W}=this._cachedRedirectUrl;let{redirectUrl:ie}=this._cachedRedirectUrl;const ne="cachedAssetUri"in this._cachedRedirectUrl,oe=k.includes("/preview");ne&&W===_&&oe&&!f?(L===S&&r(ie),ie=ie.includes("page=")?ie.replace(/page=\d+/g,"page="+(S-1)):`${ie}&page=${S-1}`,r(ie)):RenditionAPI._fetchWithCredentials(k,C).then(f=>{let k;if(f&&200===f.status&&f.content){k=JSON.parse(f.content).url,oe&&(this._cachedRedirectUrl={cachedAssetUri:_,redirectUrl:k,pageNum:S}),r(k)}k||I(new Error("Redirect url could not be obtained"))}).catch(r=>I(r))})}_getRenditionsUsingCachedRedirectURL(r){let f=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((S,k)=>{this._getCachedRedirectURL(r,f).then(f=>{S(this._getRenditionsUsingRedirectURL(f,r,_))}).catch(r=>{k(r)})})}_getRenditionsUsingRedirectURL(r,f){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{assetUri:S,pageNum:k,size:C,renditionUrl:I,pageRenditionPromise:L}=f;let W={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return W=this._reviewGetRenditionAuthHeader(W),W.headers||(W.headers={}),new Promise((ie,ne)=>{L?L.then(r=>{const f={params:{pageImgBuffer:r.buffer,mimeType:r.mimeType,pageNum:k}};this._cachePageRendition(S,k,{dcapi:{renditionUri:I,pageImgBuffer:r.buffer,mimeType:r.mimeType,size:C,page:k}}),ie(f)}).catch(r=>{ne(r)}):RenditionAPI._fetchWithCredentials(r,W).then(L=>{const W={params:{pageImgBuffer:L.content,mimeType:L.headers["content-type"],pageNum:k}};this._cachePageRendition(S,k,{dcapi:{renditionUri:I,pageImgBuffer:L.content,mimeType:L.headers["content-type"],size:C,page:k}});L&&(410===L.status||401===L.status)&&_<we.x1&&this._getRenditionsUsingRedirectURL(r,f,_+1),ie(W)}).catch(r=>{ne(r)})})}_reviewGetRendition(r,f){this._initReviewProviderIfRequired();const _=window.adobe_dc_sdk.cache.assetURLPromise&&window.adobe_dc_sdk.cache.assetURLPromise[r],S=void 0!==f.pageNum?f.pageNum:1,k=f.size||"1200",C=`${r}-${S}-${k}`,I=f.pageRenditionPromise;return this._assetPageRenditionPromises[C]||(this._assetPageRenditionPromises[C]=new Promise((L,W)=>{if(_){const ie={assetUri:r,pageNum:S,size:k,pageRenditionPromise:I};_.then(r=>{let f=r.url;f.includes("page=")&&(f=f.replace(/page=\d+/g,"page="+(S-1))),this._getRenditionsUsingRedirectURL(f,ie).then(r=>L(r)).catch(r=>{delete this._assetPageRenditionPromises[C],delete window.adobe_dc_sdk.cache.assetURLPromise,W(r)})}).catch(()=>(delete this._assetPageRenditionPromises[C],delete window.adobe_dc_sdk.cache.assetURLPromise,this._reviewGetRendition(r,f)))}else this._getReviewRenditionURL(r,f).then(f=>{let _={withCredentials:this.options.fetchWithCredentials};_=this._reviewGetRenditionAuthHeader(_),_.headers||(_.headers={}),Object.assign(_.headers,{ACCEPT:"application/vnd.adobe.skybox+json;version=1","x-api-client-id":"api_browser"});const I=`${r}-${S}`;if(this._assetPageRenditions[I]&&this._assetPageRenditions[I].dcapi&&this._assetPageRenditions[I].dcapi.pageImgBuffer&&this._assetPageRenditions[I].dcapi.renditionUri===f&&this._assetPageRenditions[I].dcapi.size===k&&this._assetPageRenditions[I].dcapi.page===S){const r={params:{pageImgBuffer:this._assetPageRenditions[I].dcapi.pageImgBuffer,mimeType:this._assetPageRenditions[I].dcapi.mimeType,pageNum:this._assetPageRenditions[I].dcapi.page}};return void L(r)}const ie={assetUri:r,pageNum:S,size:k,renditionUrl:f,fetchOptions:_};this._getRenditionsUsingCachedRedirectURL(ie).then(r=>L(r)).catch(r=>{delete this._assetPageRenditionPromises[C],W(r)})}).catch(()=>{delete this._assetPageRenditionPromises[C],W(new Error("Review Rendition url could not be created"))})})),this._assetPageRenditionPromises[C]}_dcapiGetDownloadUri(f,_){if(RenditionAPI._isReviewAsset(_)||RenditionAPI._isParcelAsset(_))return this._reviewGetDownloadUri(f,_);if(RenditionAPI._isSignAsset(_))return Promise.resolve(f);if(!this.options.useDCAPI)return Promise.resolve(f);const S={resource_parameter:this._dcapiGetAssetUri(f),accept:"asset_uri_download_v1.json",headers:{"x-request-id":(0,r.A)()}};return new Promise((r,_)=>{this.dcapiPromise.then(()=>(recordNow(we.jn.PDF_DOWNLOAD_URI_START),this._dcapi.call("assets.download_uri",{...S,uri_parameters:{make_direct_storage_uri:!0}}).then(async _=>{var S;this._setDownloadUrlType(we.Ey.S3),recordNow(we.jn.PDF_DOWNLOAD_URI_END);const k=null==_||null===(S=_.headers)||void 0===S?void 0:S.etag;await utils_ProviderUtil(f,k),r(_.content.uri)}).catch(()=>this._dcapi.call("assets.download_uri",S).then(f=>{this._setDownloadUrlType(we.Ey.DCAPI),recordNow(we.jn.PDF_DOWNLOAD_URI_END),r(f.content.uri)}).catch(r=>{this._setDownloadUrlType(we.Ey.NONE),_(r)}))))})}_dcapiGetUserDownloadUri(f,_){return RenditionAPI._isReviewAsset(_)||RenditionAPI._isParcelAsset(_)?this._reviewGetDownloadUri(f,_):this.options.useDCAPI?this._assetRenditions[f]&&this._assetRenditions[f].dcapi&&this._assetRenditions[f].dcapi.userDownloadUri?Promise.resolve(this._assetRenditions[f].dcapi.userDownloadUri):this.dcapiPromise.then(()=>this._dcapi.call("assets.download_uri",{resource_parameter:this._dcapiGetAssetUri(f),accept:"asset_uri_download_v1.json",headers:{"x-request-id":(0,r.A)()}}).then(r=>(this._cacheRendition(f,{dcapi:{userDownloadUri:r.content.uri}}),r.content.uri),r=>Promise.reject(r))):Promise.resolve(f)}_dcapiSetLastPageNum(r,f){return RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?Promise.reject(new Error("Cannot set last page number on a review/parcel asset")):this.dcapiPromise.then(()=>this._dcapi.call("assets.put_metadata_field",{resource_parameter:this._dcapiGetAssetUri(r),content_type:"asset_metadata_field_v1.json",content:{last_pagenum:f.lastPageNum-1},uri_parameters:{fields:"last_pagenum"}}))}_dcapiSetLastAccess(r,f){return RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?Promise.reject(new Error("Cannot set last access on a review/parcel asset")):this.dcapiPromise.then(()=>this._dcapi.call("assets.put_metadata_field",{resource_parameter:this._dcapiGetAssetUri(r),content_type:"asset_metadata_field_v1.json",content:{last_access:""},uri_parameters:{fields:"last_access"}}))}static _fetchWithCredentials(r,f){let _,S;const k=f||{};S=k.timeout,S>=0||(S=C().http.timeout);const I=new Promise((f,I)=>{try{_=new XMLHttpRequest,_.open("GET",r,!0),S>=0&&(_.timeout=S),k.responseType&&(_.responseType=k.responseType),k.headers&&Object.entries(k.headers).some(r=>{let[f,S]=r;return _.setRequestHeader(f,S)}),k.withCredentials&&(_.withCredentials=k.withCredentials),_.onreadystatechange=()=>{if(k.response_content_open){if(!_.readyState||_.readyState<2)return}else if(4!==_.readyState)return;let r;try{if(r={status:_.status,statusText:_.statusText||_.status,headers:C().http.parseHeaders(_.getAllResponseHeaders()),content:void 0},k.response_content_open||(_.responseType&&"text"!==_.responseType?r.content=_.response:r.content=_.responseText),!(_.status>0&&_.status<400))throw 0!==_.status||r.statusText||(r.statusText="Timeout or network error"),new(C().AdobeError)(r.statusText,r.status,r);f(r)}catch(f){!f||f instanceof Error?I(f):I(new(C().AdobeError)(f.stack||f,r.status,r))}},k.request_content_open||_.send(undefined)}catch(f){I(new(C().AdobeError)(f.stack||f,0,{method:"GET",url:r,options:k}))}});return(k.request_content_open||k.response_content_open)&&(I.request=_),I}_dcapiGetContentBuffer(r,f,_){if(!this._assetRenditions[r]||!this._assetRenditions[r].dcapi||!this._assetRenditions[r].dcapi.contentBuffer){const S={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return!RenditionAPI._isSignAsset(_)&&!this._isS3DownloadUrl&&this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(S.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),RenditionAPI._fetchWithCredentials(f,S).then(f=>{const _=f.content;return this._cacheRendition(r,{ajs:{contentBuffer:_,contentFormat:f.headers["x-content-format"]},dcapi:{contentBuffer:_,contentFormat:f.headers["x-content-format"]}}),_})}return Promise.resolve(this._assetRenditions[r].dcapi.contentBuffer)}_dcapiGetUserContentBuffer(r,f){if(!this._assetRenditions[r]||!this._assetRenditions[r].dcapi||!this._assetRenditions[r].dcapi.userContentBuffer){const _={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(_.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),RenditionAPI._fetchWithCredentials(f,_).then(f=>{const _=f.content;return this._cacheRendition(r,{ajs:{userContentBuffer:_},dcapi:{userContentBuffer:_}}),_})}return Promise.resolve(this._assetRenditions[r].dcapi.userContentBuffer)}_pdfnowGetMetadata(r,f){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this._assetRenditions[r]&&this._assetRenditions[r].pdfnow&&this._assetRenditions[r].pdfnow.contentData&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[r].pdfnow.contentData):(this._pdfnowInitPromise()&&this._pdfnowInit(),new Promise((S,k)=>{this.pdfnowApiPromise.then(()=>{this._pdfnowDcapi.call("assets.get_metadata",{accept:"asset_metadata_basic_v1.json",resource_parameter:r}).then(C=>{const I=C.content;I.assetMimeType=C.content_type,I.last_pagenum=C.content.last_pagenum||0;let L,W=C.content.page_count;return void 0===W&&(_===we.ac?(W=1,(0,ne.$s)("Maximum DCAPI metadata retries reached",{tryCount:_})):L=this._pdfnowGetMetadata(r,f,_+1)),L||(I.numPages=W,this._cacheRendition(r,{pdfnow:{contentData:(0,Ae.mg)(I)}}),L=Promise.resolve(this._assetRenditions[r].pdfnow.contentData)),L.then(S).catch(k)}).catch(k)}).catch(k)}))}_pdfnowGetRendition(r,f){const _=f.size||"3200",S=f.format||"png",k=void 0!==f.pageNum?f.pageNum:1,C=`${r}-${k}`;if(!0===f.forceCacheless||!this._assetPageRenditions[C]||!this._assetPageRenditions[C].pdfnow||!this._assetPageRenditions[C].pdfnow.pageImgBuffer||this._assetPageRenditions[C].pdfnow.format!==S||this._assetPageRenditions[C].pdfnow.size!==_||this._assetPageRenditions[C].pdfnow.page!==k)return this._pdfnowInitPromise()&&this._pdfnowInit(),new Promise((f,C)=>{this.pdfnowApiPromise.then(()=>{this._pdfnowDcapi.call("assets.rendition_direct",{accept:"image/*",resource_parameter:r,responseType:"arraybuffer",uri_parameters:{format:S,page:k-1,size:_}}).then(C=>{const I={params:{pageImgBuffer:C.content,mimeType:C.headers["content-type"],pageNum:k}};this._cachePageRendition(r,k,{pdfnow:{pageImgBuffer:C.content,mimeType:C.headers["content-type"],size:_,page:k,format:S}}),f(I)}).catch(C)}).catch(C)});const I=this._assetPageRenditions[C].pdfnow,L={params:{pageImgBuffer:I.pageImgBuffer,mimeType:I.mimeType,pageNum:I.page}};return Promise.resolve(L)}_openPdfResponseCallback(r,f,_){if((null==_?void 0:_.enableMetaDataAndRenditionAPI)&&!f.errorCode){const{zoomLevelCalculatorFn:S,renditionParams:{renditionContainerWidth:k}}=_;this._assetRenditions[r].ajs.renditionZoomLevel[_.renditionParams.pageNum]=S(f,{renditionContainerWidth:k})}this._assetRenditions[r].ajs.metadataPromiseResolve(f)}_cacheRenditionPromise(r,f,_){this._assetRenditions[r].ajs.renditionPromise||(this._assetRenditions[r].ajs.renditionPromise={},this._assetRenditions[r].ajs.renditionZoomLevel={},this._assetRenditions[r].ajs.renditionShowAnnots={}),_.zoomLevel&&(this._assetRenditions[r].ajs.renditionZoomLevel[_.renditionParams.pageNum]=_.zoomLevel),this._assetRenditions[r].ajs.renditionPromise[_.renditionParams.pageNum]=f,this._assetRenditions[r].ajs.renditionShowAnnots[_.renditionParams.pageNum]=_.renditionParams.showAnnots,recordNow(we.jn.CACHED_RENDITION)}_getMetaDataAndRendition(r,f){var _;let S,k,C={...f,openPdfResponseCallback:_=>this._openPdfResponseCallback(r,_,f)};const I=new Promise((r,f)=>{S=r,k=f});this._cacheRendition(r,{ajs:{metadataPromise:I,metadataPromiseResolve:S,metadataPromiseReject:k}}),C=Object.assign(C,this._getRenditionParams(f.renditionParams));const{priority:L,viewState:W}=C,ie=this._getAjs().then(()=>this.ajsHandler.callAsync(r,"openPDFAndGetPageRendition",C,W,L).then(_=>(this._assetRenditions[r].ajs.renditionZoomLevel||(this._assetRenditions[r].ajs.renditionZoomLevel={}),this._assetRenditions[r].ajs.renditionZoomLevel[f.renditionParams.pageNum]=_.data.zoomLevel,this._handleRenditionResponse(_))));return C.shouldCacheAJSRendition&&null!==(_=this._assetRenditions[r])&&void 0!==_&&_.ajs&&this._cacheRenditionPromise(r,ie,f),I}_ajsGetContentData(r,f,_){(0,ne.$s)("ajsGetContentData Called",{size:f?f.byteLength:-1});const S=Object.assign({buffer:f,documentId:this._documentId,securityHandler:_.fetchPasswordCallback?new Pe.A({fetchPasswordCallback:_.fetchPasswordCallback}):void 0},_);return _.enableMetaDataAndRenditionAPI?this._getMetaDataAndRendition(r,S):this._getAjs().then(()=>this.ajsHandler.callAsync(r,"openPDF",S).then(r=>Object.assign({},r.data,{buffer:f,acrobatJSVersion:L,openPDFWasmTime:Math.round(r.timeTaken),openPDFQueueWaitTime:Math.round(r.queueWaitTime),openPDFTotalTime:Math.round(r.totalTime),openPDFMainToWorkerTime:Math.round(r.mainToWorkerTime),openPDFWorkerToMainTime:Math.round(r.workerToMainTime),enableWasmExceptions:r.enableWasmExceptions})))}_setCompleteCNPDFAvailablePromise(r){return this._completeCNPDFAvailablePromiseMap[r]||(this._completeCNPDFAvailablePromiseMap[r]={},this._completeCNPDFAvailablePromiseMap[r].promise=new Promise(f=>{this._completeCNPDFAvailablePromiseMap[r].resolve=f})),this._completeCNPDFAvailablePromiseMap[r].promise}async _ajsGetCNPDFContentData(r,f){this._setCompleteCNPDFAvailablePromise(r);const _=await(f.cnpdfFetcherPromise||this._external.apis.file.getCNPDFFetcher()),S=await _.getManifest(),k=Object.assign({manifest:S,cnpdfFetcher:_},f);return this._getAjs().then(()=>this.ajsHandler.callAsync(r,"openCNPDF",k).then(r=>Object.assign({},r.data,{enableCNPDF:!0,acrobatJSVersion:L,openPDFWasmTime:Math.round(r.timeTaken),openPDFQueueWaitTime:Math.round(r.queueWaitTime),openPDFTotalTime:Math.round(r.totalTime),openPDFMainToWorkerTime:Math.round(r.mainToWorkerTime),openPDFWorkerToMainTime:Math.round(r.workerToMainTime),enableWasmExceptions:r.enableWasmExceptions})))}_ajsGetLinearizedContentData(r,f){const _={password:f.password,fetchPdfSizeCallback:()=>this._fetchPDFSize(r,f),fetchPdfBufferRangesCallback:_=>this._fetchPDFBufferRanges(r,f,_),blockSize:f.linearizationBlockSize,documentId:this._documentId};return this._getAjs().then(()=>this.ajsHandler.callAsync(r,"openLinearizedPDF",_).then(r=>Object.assign({},r.data)))}_ajsDeleteRenditionCache(r){var f,_,S,k,C,I;null!==(f=this._assetRenditions[r])&&void 0!==f&&null!==(_=f.ajs)&&void 0!==_&&_.renditionZoomLevel&&null!==(S=this._assetRenditions[r])&&void 0!==S&&null!==(k=S.ajs)&&void 0!==k&&k.renditionShowAnnots&&null!==(C=this._assetRenditions[r])&&void 0!==C&&null!==(I=C.ajs)&&void 0!==I&&I.renditionPromise&&(delete this._assetRenditions[r].ajs.renditionZoomLevel,delete this._assetRenditions[r].ajs.renditionPromise,delete this._assetRenditions[r].ajs.renditionShowAnnots)}_ajsGetRenditionForPage(r,f){var _,S,k,C,I,L,W,ie,oe,le,ve,be;if(null!==(_=this._assetRenditions[r])&&void 0!==_&&_.ajs.renditionPromise&&null!==(S=this._assetRenditions[r])&&void 0!==S&&S.ajs.renditionZoomLevel&&null!==(k=this._assetRenditions[r])&&void 0!==k&&k.ajs.renditionShowAnnots&&null!==(C=this._assetRenditions[r])&&void 0!==C&&C.ajs.renditionPromise[f.pageNum]&&null!==(I=this._assetRenditions[r])&&void 0!==I&&I.ajs.renditionShowAnnots[f.pageNum]&&null!==(L=this._assetRenditions[r])&&void 0!==L&&L.ajs.renditionZoomLevel[f.pageNum]&&(null===(W=this._assetRenditions[r])||void 0===W?void 0:W.ajs.renditionZoomLevel[f.pageNum])===f.zoomLevel&&(null===(ie=this._assetRenditions[r])||void 0===ie?void 0:ie.ajs.renditionShowAnnots[f.pageNum])===f.showAnnots&&!f.colorPallete&&"page"===f.requestType){var Pe;recordNow(we.jn.CACHED_RENDITION_RETURNED);const _=null===(Pe=this._assetRenditions[r])||void 0===Pe?void 0:Pe.ajs.renditionPromise[f.pageNum];return this._ajsDeleteRenditionCache(r),_}if(null!==(oe=this._assetRenditions[r])&&void 0!==oe&&oe.ajs.renditionZoomLevel&&null!==(le=this._assetRenditions[r])&&void 0!==le&&le.ajs.renditionPromise&&null!==(ve=this._assetRenditions[r])&&void 0!==ve&&ve.ajs.renditionShowAnnots){const _=we.jn.CACHED_RENDITION_FAILED;let S="",k={};this._assetRenditions[r].ajs.renditionPromise[f.pageNum]&&this._assetRenditions[r].ajs.renditionZoomLevel[f.pageNum]&&this._assetRenditions[r].ajs.renditionShowAnnots[f.pageNum]?this._assetRenditions[r].ajs.renditionZoomLevel[f.pageNum]!==f.zoomLevel?(S="ZOOM",k={reason:S,zoomLevel:f.zoomLevel,cachedZoomLevel:this._assetRenditions[r].ajs.renditionZoomLevel[f.pageNum]}):f.colorPallete?(S="COLOR_PALLETE",k.reason=S):this._assetRenditions[r].ajs.renditionShowAnnots[f.pageNum]!==f.showAnnots?(S="SHOW_ANNOT",k={reason:S,showAnnots:f.showAnnots,cachedShowAnnots:this._assetRenditions[r].ajs.renditionShowAnnots[f.pageNum]}):"page"!==f.requestType&&(S="REQUEST_TYPE",k={reason:S,requestType:f.requestType}):(S="PAGE_NUM",k={reason:S,pageNum:f.pageNum}),recordNow(`${_}_${S}`),(0,ne.$s)("cache rendition return failed",{error:JSON.stringify(k)}),this._ajsDeleteRenditionCache(r)}const Ae=this._getRenditionParams(f),{priority:Se,viewState:Re}=Ae,De=this._getAjs().then(()=>this.ajsHandler.callAsync(r,"getPageRendition",Ae,Re,Se).then(r=>this._handleRenditionResponse(r)));return f.shouldCacheAJSRendition&&null!==(be=this._assetRenditions[r])&&void 0!==be&&be.ajs&&(this._assetRenditions[r].ajs.renditionPromise||(this._assetRenditions[r].ajs.renditionPromise={},this._assetRenditions[r].ajs.renditionZoomLevel={},this._assetRenditions[r].ajs.renditionShowAnnots={}),f.zoomLevel&&(this._assetRenditions[r].ajs.renditionZoomLevel[f.pageNum]=f.zoomLevel),this._assetRenditions[r].ajs.renditionShowAnnots[f.pageNum]=f.showAnnots,this._assetRenditions[r].ajs.renditionPromise[f.pageNum]=De,recordNow(we.jn.CACHED_RENDITION)),De}_downloadUserAssetContentBuffer(r,f){const _=f||{};return this._dcapiGetUserDownloadUri(r,_).then(f=>this._dcapiGetUserContentBuffer(r,f).then(r=>r))}_ajsPerformCommand(r,f){const{commandName:_}=f;if("forceSwitchJS"===_)return this._resetReviewProvider(),this._getAjs().then(()=>this.ajsHandler.callAsync(r,"loadFullWorker"));if("switchToCNPDF"===_&&this._setCompleteCNPDFAvailablePromise(r),"resetWorker"===_)return this._assetRenditions[r]&&this._assetRenditions[r].ajs&&delete this._assetRenditions[r].ajs,this._assetRenditions[r]&&this._assetRenditions[r].dcapi&&(delete this._assetRenditions[r].dcapi.contentData,delete this._assetRenditions[r].dcapi.contentBuffer,delete this._assetRenditions[r].dcapi.contentFormat),this._assetRenditions[r]&&this._assetRenditions[r].external&&(delete this._assetRenditions[r].external.contentBuffer,delete this._assetRenditions[r].external.metadata),this._assetRenditions[r]&&this._assetRenditions[r].prefetchMetaData&&delete this._assetRenditions[r].prefetchMetaData,this.closeRendition(r,{...f,cancelPromises:!0}),this._resetReviewProvider(),this._getAjs().then(()=>this.ajsHandler.close(r));if("translateToLiquidModeView"===_)return this._getAjs().then(()=>this.ajsHandler.callAsync(r,"translateToLiquidModeView",{fetchCNFTPDFUpdatesCallback:AdobeSenseiPredictClient}));if("verifyDigitalSignatures"===_){const{externalCertificateValidator:_}=f,S=(r=>{const f=[];return"function"==typeof r&&f.push(new Se(r)),Re.isAvailable()&&f.push(new Re),f})(_);return this._getAjs().then(()=>this.ajsHandler.callAsync(r,"verifyDigitalSignatures",{certificateChainValidators:S}))}if("remapAJSCache"===_){const{oldAssetUri:r,newAssetUri:_}=f,S=this._assetRenditionsIndex.indexOf(r);return this._assetRenditions[r]&&this._assetRenditions[r].ajs&&(this._assetRenditions[_]=this._assetRenditions[_]||{},this._assetRenditions[_].ajs=this._assetRenditions[r].ajs,this._assetRenditionsIndex.splice(S,1),this._assetRenditionsIndex.includes(_)||this._assetRenditionsIndex.push(_)),this._completePDFBufferAvailablePromiseMap[r]&&(this._completePDFBufferAvailablePromiseMap[_]=this._completePDFBufferAvailablePromiseMap[r],delete this._completePDFBufferAvailablePromiseMap[r]),this._waitOnCompletePDFBufferMap[r]&&(this._waitOnCompletePDFBufferMap[_]=this._waitOnCompletePDFBufferMap[r],delete this._waitOnCompletePDFBufferMap[r]),this._getAjs().then(()=>this.ajsHandler.remapAssetUri(r,_)),Promise.resolve()}const{priority:S,viewState:k,...C}=f;return this._getAjs().then(()=>this.ajsHandler.callAsync(r,_,C,k,S))}_dcapiPerformCommand(r,f){return this.dcapiPromise.then(()=>new Promise((_,S)=>{"setLastPageNum"===f.commandName?this._dcapiSetLastPageNum(r,f).then(_).catch(S):"setLastAccess"===f.commandName?this._dcapiSetLastAccess(r,f).then(_).catch(S):"getContentBuffer"===f.commandName?this.downloadAssetContentBuffer(r,f).then(_).catch(S):"getUserContentBuffer"===f.commandName?this._downloadUserAssetContentBuffer(r,f).then(_).catch(S):S()}))}_externalPerformCommand(r,f){return new Promise((_,S)=>{"setLastPageNum"===f.commandName?_():"getContentBuffer"===f.commandName?this.downloadAssetContentBuffer(r,f).then(_).catch(S):"setLastAccess"===f.commandName||"getUserContentBuffer"===f.commandName?_():S()})}ready(){return Promise.resolve(this)}canPerformSync(r){return{canPerformSync:this._getAjs().then(()=>this.ajsHandler.isInstanceCached(r)),ready:this._getAjs().then(()=>this.ajsHandler.activateInstanceIfInactive(r))}}performCommandSynchronously(r,f){const{priority:_,viewState:S,...k}=f;return this.ajsHandler.callSync(r,f.commandName,k,S,_)}performCommand(r,f){const _={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.enableExternal=!1!==S.enableExternal&&this.options.enableExternal,S.useAJS?_.ajs=this._ajsPerformCommand(r,S):_.ajs=Promise.reject(new Error("Cannot perform AJS command if AJS is disabled")),S.useDCAPI?_.dcapi=this._dcapiPerformCommand(r,S):_.dcapi=Promise.reject(new Error("Cannot perform DCAPI command if DCAPI is disabled")),S.enableExternal&&RenditionAPI._isExternalAsset(S)&&(_.external=this._externalPerformCommand(r,S)),_}isCompletePDFBufferAvailable(r){return this._completePDFBufferAvailablePromiseMap[r].promise}isCompleteCNPDFAvailable(r){return this._setCompleteCNPDFAvailablePromise(r)}getMetadata(r,f){const _={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.enableExternal=!1!==S.enableExternal&&this.options.enableExternal,this.options.shouldUseModernViewer=S.shouldUseModernViewer,S.useDCAPI?_.dcapi=this._dcapiGetMetadata(r,S):_.dcapi=Promise.reject(new Error("Cannot get DCAPI metadata if DCAPI is disabled")),S.enableExternal&&RenditionAPI._isExternalAsset(S)&&(_.external=this._externalGetMetadata(r,S)),S.useAJS?(this._completePDFBufferAvailablePromiseMap[r]||(this._completePDFBufferAvailablePromiseMap[r]={},this._completePDFBufferAvailablePromiseMap[r].promise=new Promise(f=>{this._completePDFBufferAvailablePromiseMap[r].resolve=f})),_.ajs=this._ajsGetMetadata(r,S)):_.ajs=Promise.reject(new Error("Cannot get AJS metadata if AJS is disabled")),this._waitOnCompletePDFBufferMap[r]||(this._waitOnCompletePDFBufferMap[r]={},this._waitOnCompletePDFBufferMap[r].promise=new Promise(f=>{this._waitOnCompletePDFBufferMap[r].resolve=f})),_}_ajsRegisterLicense(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={token:r.licenseString,domain:r.domain};return this._getAjs().then(()=>this.ajsHandler.registerLicense(f))}registerLicense(r){const f={},_=r||{};return _.useDCAPI=!1!==_.useDCAPI&&this.options.useDCAPI,_.useAJS=!1!==_.useAJS&&this.options.useAJS,f.dcapi=Promise.reject(new Error("DCAPI doesn't support sdk license validation")),_.useAJS?f.ajs=this._ajsRegisterLicense(_):f.ajs=Promise.reject(new Error("Cannot register license if AJS is disabled")),f}getRendition(r,f){const _={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.enableExternal=!1!==S.enableExternal&&this.options.enableExternal,S.useDCAPI?_.dcapi=this._dcapiGetRendition(r,S):_.dcapi=Promise.reject(new Error("Cannot get DCAPI rendition if DCAPI is disabled")),S.enableExternal&&RenditionAPI._isExternalAsset(S)&&(_.external=this._externalGetRendition(r,S)),S.useAJS?_.ajs=this._ajsGetRenditionForPage(r,S):_.ajs=Promise.reject(new Error("Cannot get AJS rendition if AJS is disabled")),_}getDocumentRenditionUri(r,f){const _={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.useDCAPI?_.dcapi=this._dcapiGetDocumentRenditionUri(r,S):_.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition URI if DCAPI is disabled")),_.ajs=Promise.reject(new Error("Cannot get AJS doc rendition URI")),_}getDocumentRendition(r,f){const _={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.useDCAPI?_.dcapi=this._dcapiGetDocumentRendition(r,S):_.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition if DCAPI is disabled")),_.ajs=Promise.reject(new Error("Cannot get AJS doc rendition")),_}getDocumentRenditionStatus(r,f){const _={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.useDCAPI?_.dcapi=this._dcapiGetDocumentRenditionStatus(r):_.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition status if DCAPI is disabled")),_.ajs=Promise.reject(new Error("Cannot get DCAPI doc rendition status")),_}downloadAssetContentBuffer(r,f){return f&&RenditionAPI._isExternalAsset(f)?this._externalGetDownloadUri(r,f).then(f=>this._externalGetContentBuffer(r,f).then(r=>r)):this._assetRenditions[r]&&this._assetRenditions[r].dcapi&&this._assetRenditions[r].dcapi.contentBuffer?Promise.resolve(this._assetRenditions[r].dcapi.contentBuffer):this._dcapiGetDownloadUri(r,f).then(_=>this._dcapiGetContentBuffer(r,_,f).then(r=>r))}updateDefaultAJSInstance(r){this.ajsHandler.updateDefaultAJSInstance(r)}clearRenditionCache(r,f){const _=f||{},S=`${r}`;return _.useDCAPI=!1!==_.useDCAPI&&this.options.useDCAPI,_.useAJS=!1!==_.useAJS&&this.options.useAJS,_.enableExternal=!1!==_.enableExternal&&this.options.enableExternal,_.useAJS&&this._assetRenditions[r]&&this._assetRenditions[r].ajs&&delete this._assetRenditions[r].ajs,_.useDCAPI&&this._assetRenditions[r]&&this._assetRenditions[r].dcapi&&delete this._assetRenditions[r].dcapi,_.enableExternal&&this._assetRenditions[r]&&this._assetRenditions[r].external&&delete this._assetRenditions[r].external,this._getAssetFileInfoPromise[S]&&delete this._getAssetFileInfoPromise[S],window.adobe_dc_sdk.cache&&window.adobe_dc_sdk.cache.assetURLPromise&&delete window.adobe_dc_sdk.cache.assetURLPromise,Promise.resolve()}closeRendition(r,f){const _={dcapi:Promise.resolve(),ajs:Promise.resolve()},S=f||{},k=`${r}`;if(S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,this._assetRenditions[r]&&S.clearCache&&(delete this._assetRenditions[r],this._assetRenditionsIndex=this._assetRenditionsIndex.filter(f=>f!==r)),S.clearCache){this._assetPageRenditions=Object.entries(this._assetPageRenditions).reduce((f,_)=>{let[S,k]=_;return S.startsWith(r)||(f[S]=k),f},{}),this._assetPageRenditionsIndex=Object.keys(this._assetPageRenditions);const f=Object.entries(this._assetPageRenditionPromises);this._assetPageRenditionPromises=f.reduce((f,_)=>{let[S,k]=_;return S.startsWith(r)||(f[S]=k),f},{})}this._getAssetFileInfoPromise[k]&&delete this._getAssetFileInfoPromise[k],window.adobe_dc_sdk.cache&&window.adobe_dc_sdk.cache.assetURLPromise&&delete window.adobe_dc_sdk.cache.assetURLPromise,S.useDCAPI&&void 0!==S.lastPageNum&&(_.dcapi=this._dcapiSetLastPageNum(r,S)),S.cancelPromises&&(oe.forEach(r=>{r.cancel()}),oe=[])}getOwnScriptSrc(){return ve.ip(we.P4)}getAJSWorker(){}shouldWaitOnCompletePDFBuffer(r){return this._waitOnCompletePDFBufferMap[r].promise}setPrefetchMetaData(r,f){let{assetId:_}=r;this._assetRenditions[_]||(this._assetRenditions[_]={}),this._assetRenditions[_].prefetchMetaData=f}}const je={rendition:{load:function renditionLoad(){return Promise.resolve(RenditionAPI)}},"font-provider":{load:function loadFontProvider(r){return __webpack_require__.p=r,__webpack_require__.e(56).then(__webpack_require__.bind(__webpack_require__,"llGi")).then(r=>r.default)}},acrobatjs:{load:function loadAJSProvider(r){return __webpack_require__.p=r,__webpack_require__.e(814).then(__webpack_require__.bind(__webpack_require__,"gTnC")).then(r=>r.default)}},ajspdfl:{load:function loadAJSPdflProvider(r){return __webpack_require__.p=r,__webpack_require__.e(814).then(__webpack_require__.bind(__webpack_require__,"46va")).then(r=>r.default)}}};RenditionAPI.getInstance=(0,ie.Q)(RenditionAPI,!0),W.providers.rendition=RenditionAPI.getInstance})(),((window.adobe_dc_sdk=window.adobe_dc_sdk||{}).components=window.adobe_dc_sdk.components||{}).rendition=k})();
//# sourceMappingURL=private/rendition.js.map
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="712ffe94-8684-359a-b260-761ca6acac44")}catch(e){}}();
define(["require","exports","react","./e_file_viewer_static_scl_page_file","./c_ui_locked-state-modal_open_locked_state_modal","./c_over-quota_over-quota-sweep-blocking-modal_over_quota_sweep_blocking_modal_wrapper","./c_core_i18n","./c_dig-icons_assets_ui-icon_line_upsell","./c_ui_contextual-nudge_atoms"],(function(e,t,a,n,s,o,i,l,r){"use strict";function c(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}var u=c(a);const d="ops.trials.locked_state_modal_wrapper_loading",m=({children:t,action:a,onStatusChange:o})=>{const i=(t=>{const[a,o]=u.default.useState(n.Status.LOADING),{viewer:i,isLoading:l}=n.useViewer(),{variant:r,isLoading:c}=n.useExperimentVariant("lifecycle_2026_01_12_locked_team_restriction");return u.default.useEffect((()=>{var u;if(a!==n.Status.LOADING)return;if(l||c)return;if(!s.getIsUserEligibleForLockedStateModal(i,"V1"===r))return void o(n.Status.USER_NOT_ELIGIBLE_FOR_LOCKED_STATE_MODAL);const d={action:t,isAdmin:(null===(u=i.active_user)||void 0===u?void 0:u.is_team_admin)||!1,teamName:i.team_name||"",continueCallback:()=>{o(n.Status.USER_CONTINUED_ACTION)},abortCallback:()=>{o(n.Status.USER_ABORTED_ACTION)}};new Promise((function(t,a){e(["./c_ui_locked-state-modal_open_locked_state_modal"],t,a)})).then((e=>{e.openLockedStateModal(d).then((e=>{e||o(n.Status.FAILURE)}))})),o(n.Status.OPEN)}),[t,a,i,l]),a})(a),l=u.default.useRef(null);return u.default.useEffect((()=>{i!==l.current&&(o(i),l.current=i,i===n.Status.LOADING?n.UDCL.logStart(d,{tags:{action:a}}):i===n.Status.OPEN?n.UDCL.logEnd(d,{eventState:"success",tags:{action:a}}):i===n.Status.USER_NOT_ELIGIBLE_FOR_LOCKED_STATE_MODAL?n.UDCL.logEnd(d,{eventState:"canceled",tags:{action:a}}):i===n.Status.FAILURE?n.UDCL.logEnd(d,{eventState:"failed",tags:{action:a}}):i!==n.Status.USER_CONTINUED_ACTION&&i!==n.Status.USER_ABORTED_ACTION||n.UDCL.logEvent("ops.trials.locked_state_modal_wrapper_end_state",{tags:{status:i,action:a}}))}),[i,o,a]),i===n.Status.LOADING||i===n.Status.OPEN||i===n.Status.USER_ABORTED_ACTION?null:u.default.createElement(u.default.Fragment,null,t)};m.displayName="LockedStateModalWrapper";const g=e=>{const{children:t,action:a,withLockedStateModal:n=!0,onStatusChange:s}=e;return u.createElement(o.OverQuotaSweepBlockingModalWrapperWithProviders,{action:a,onStatusChange:s},n?u.createElement(m,{action:a,onStatusChange:s},t):t)};g.displayName="ShareBlockingWrapper";const _=i.defineMessage({id:"DDL59e",defaultMessage:"Your file is ready to collaborate on"}),f=i.defineMessage({id:"f72aSQ",defaultMessage:"Edit and comment together, all in one place."}),p=i.defineMessage({id:"2hXjOl",defaultMessage:"Set up your team to stay in sync"}),E=i.defineMessage({id:"maqxSQ",defaultMessage:"Team folders sync updates for everyone automatically."}),C=i.defineMessage({id:"klK+wr",defaultMessage:"Try it"}),S=i.defineMessage({id:"PWWPWZ",defaultMessage:"Create team folder"}),b=i.defineMessage({id:"dunXAE",defaultMessage:"Close button"}),x=i.defineMessage({id:"/6LBKV",defaultMessage:"Premium feature"});n.injectInternalStyle("/static/js/growth-components/contextual-nudge-message-section/contextual-nudge-message-section.module.out-vflVXuuu1.css",(e=>"._contextual-nudge-message-section-container_1m5e6_1{background:var(--dig-color__background__base)}._contextual-nudge-message-section-container-hidden_1m5e6_5{display:none}._contextual-nudge-message-section_1m5e6_1{background:var(--dig-color__highlight__green);background:color-mix(in srgb,var(--dig-color__highlight__green) 25%,transparent);border:1px solid var(--dig-color__identity__green);position:relative}._contextual-nudge-message-section-close-button_1m5e6_17{position:absolute;right:6px;top:6px}"));const v="_contextual-nudge-message-section-container_1m5e6_1",h="_contextual-nudge-message-section-container-hidden_1m5e6_5",N="_contextual-nudge-message-section_1m5e6_1",k="_contextual-nudge-message-section-close-button_1m5e6_17",A={createTeamFolder:{title:p,subtitle:E,confirmCTAText:S},editAndComment:{title:_,subtitle:f,confirmCTAText:C}},L=({variant:e="editAndComment",onConfirmCallback:t,onDismissCallback:s})=>{const o=i.useIntl(),[r,c]=a.useState(!0);return u.default.createElement(n.Box,{className:n.cx(v,{[h]:!r}),borderRadius:"XLarge"},u.default.createElement(n.Box,{"data-testid":"contextual-nudge-message-section",className:N,display:"flex",alignItems:"flex-start",padding:"Micro Medium",borderRadius:"XLarge",columnGap:"8"},u.default.createElement(n.IconButton,{"data-testid":"contextual-nudge-message-section-close-button",className:k,variant:"transparent",size:"small",onClick:()=>{c(!1),s()},"aria-label":o.formatMessage(b)},u.default.createElement(n.UIIcon,{src:n.CloseLine})),u.default.createElement(n.UIIcon,{"data-testid":"contextual-nudge-message-section-upsell-icon",size:"medium",src:l.UpsellLine,"aria-label":o.formatMessage(x)}),u.default.createElement(n.Box,{display:"flex",flexDirection:"column",rowGap:"8"},u.default.createElement(n.Box,null,u.default.createElement(n.Text,{"data-testid":"contextual-nudge-message-section-title",variant:"label",size:"medium",tagName:"div",isBold:!0},o.formatMessage(A[e].title)),u.default.createElement(n.Text,{"data-testid":"contextual-nudge-message-section-subtitle",variant:"label",size:"medium",tagName:"div"},o.formatMessage(A[e].subtitle))),u.default.createElement(n.Box,null,u.default.createElement(n.Button,{"data-testid":"contextual-nudge-message-section-confirm-button",variant:"transparent",onClick:t},o.formatMessage(A[e].confirmCTAText))))))};L.displayName="ContextualNudgeMessageSection";const M=["contextual-nudge-out-of-band-file-sharing-individual-trial-users-edit-and-comment","contextual-nudge-out-of-band-file-sharing-team-trial-users-edit-and-comment","contextual-nudge-out-of-band-folder-sharing-adopt-team-space"],O={"contextual-nudge-out-of-band-folder-sharing-adopt-team-space":"createTeamFolder","contextual-nudge-out-of-band-file-sharing-individual-trial-users-edit-and-comment":"editAndComment","contextual-nudge-out-of-band-file-sharing-team-trial-users-edit-and-comment":"editAndComment"},T=({campaignName:e,campaignData:t,fqPath:s,onClose:o})=>{const{user:l}=n.useActiveUser(),c=u.default.useRef(!1),d=O[e],{onConfirmCallback:m,onDismissCallback:g,onLogImpressionCallback:_,onLogClientDispatchedCallback:f}=n.useCampaignActions(t);a.useEffect((()=>{f()}),[f]),a.useEffect((()=>{_()}),[_]),a.useEffect((()=>(c.current=!1,()=>{c.current||g()})),[]);const p=n.useSetAtom(r.showCreateTeamModalAtom);return u.default.createElement(i.Provider,{value:i.intl},u.default.createElement(n.Box,{paddingTop:"8"},u.default.createElement(L,{variant:d,onConfirmCallback:()=>{switch(d){case"createTeamFolder":p(!0);break;case"editAndComment":if(s&&l){const e=n.preview_uri_for_fq_path(l,s,{},!1);n.CompatNavigate.navigate(e.toRelativeUri())}}c.current=!0,m(),o()},onDismissCallback:()=>{c.current=!0,g()}})))};T.displayName="ContextualNudgeMessageSectionWithCampaignActions";const D=({fqPath:e,onClose:t})=>{const[s,o]=a.useState(null),[i,l]=a.useState(null);return a.useEffect((()=>(M.forEach((e=>{n.listenForCustomCampaignEvent(e,(e=>t=>{o(e),l(t),n.getCampaignsEmitter().removeAllListeners(e)})(e))})),()=>{M.forEach((e=>{n.getCampaignsEmitter().removeAllListeners(e)}))})),[]),i&&s?u.default.createElement(T,{campaignName:s,campaignData:i,fqPath:e,onClose:t}):null};D.displayName="CampaignContextualNudgeSection",t.CampaignContextualNudgeSection=D,t.ShareBlockingWrapper=g}));
//# sourceMappingURL=c_ui_contextual-nudge_campaign-contextual-nudge-section.js-vflhWvfuo.map

//# debugId=712ffe94-8684-359a-b260-761ca6acac44
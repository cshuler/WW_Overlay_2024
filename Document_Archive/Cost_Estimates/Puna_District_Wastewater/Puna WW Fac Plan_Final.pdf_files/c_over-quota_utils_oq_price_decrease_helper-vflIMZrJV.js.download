!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="121b3934-3e35-34c0-9fcc-64dc9c9f53f3")}catch(e){}}();
define(["exports","./e_file_viewer_static_scl_page_file","./c_custom_campaigns_out_of_space_modal_out_of_space_checkout_modal_logger","react"],(function(o,e,t,a){"use strict";const r=["organic","churned","unlabeled"];const n="overquota_restrictions_modal",i=(o,a)=>{const r=e.PAP_Shown_PortableCheckoutModal({actionSurface:a,eventState:o}),n={tags:{action_surface:a}};o===t.PortableCheckoutModalEventState.START?e.UDCL.logStart(r,n):e.UDCL.logEnd(r,{...n,eventState:o})};o.getOrganicOrChurnedFromString=function(o){return r.find((e=>e===(null==o?void 0:o.toLowerCase())))},o.logSelectOverquotaRestrictionsModal=(o,t)=>{e.UDCL.logEvent({class:"quota",action:"select",object:"overquota_restrictions_modal",properties:{...t,actionElement:o}},{tags:{actionElement:o,overQuotaSweepBlockingModalAction:t.overQuotaSweepBlockingModalAction||"unknown",hardblocked:t.hardblocked?"true":"false",organicOrChurned:t.organicOrChurned||"unknown",restrictionsStartDateShown:t.restrictionsStartDateShown?"true":"false",planShown:t.planShown||"unknown"}})},o.logSelectPortableCheckoutModalPurchaseSuccess=(o=n)=>((o,t)=>{e.UDCL.logEvent(e.PAP_Select_PortableCheckoutModal({actionSurface:t,actionElement:o}),{tags:{action_surface:t,action_element:o}})})(t.PortableCheckoutModalActionElement.PURCHASE_SUCCESS,o),o.logShownOverquotaRestrictionsModal=o=>{e.UDCL.logEvent({class:"quota",action:"shown",object:"overquota_restrictions_modal",properties:o},{tags:{overQuotaSweepBlockingModalAction:o.overQuotaSweepBlockingModalAction||"unknown",hardblocked:o.hardblocked?"true":"false",organicOrChurned:o.organicOrChurned||"unknown",restrictionsStartDateShown:o.restrictionsStartDateShown?"true":"false",planShown:o.planShown||"unknown"}})},o.logShownPortableCheckoutModalError=(o=n)=>i(t.PortableCheckoutModalEventState.FAILED,o),o.logShownPortableCheckoutModalSuccess=(o=n)=>i(t.PortableCheckoutModalEventState.SUCCESS,o),o.useOverquotaPriceDecrease=function(o){var t,r,n,i,l,c;const{quotaUpsellInfo:s,isLoadingQuotaUpsellInfo:u,quotaUpsellInfoError:_}=e.useQuotaUpsellInfo(o,!1),{variant:d,isLoading:v,error:f}=e.useExperimentVariant("life_2025_10_20_smaller_skus_for_overquota_users"),{variant:S,isLoading:g,error:h}=e.useExperimentVariant("life_2026_01_30_heavy_discount_for_overquota_users");a.useEffect((()=>{var o;d!==e.Variant.V1&&d!==e.Variant.CONTROL||!(null===(o=null==s?void 0:s.activity_info)||void 0===o?void 0:o.is_eligible_for_oq_price_decrease)||e.logExposure({feature:"life_2025_10_20_smaller_skus_for_overquota_users",variant:d})}),[d,null===(t=null==s?void 0:s.activity_info)||void 0===t?void 0:t.is_eligible_for_oq_price_decrease]),a.useEffect((()=>{var o;S!==e.Variant.V1&&S!==e.Variant.CONTROL||!(null===(o=null==s?void 0:s.activity_info)||void 0===o?void 0:o.is_eligible_for_oq_price_decrease)||e.logExposure({feature:"life_2026_01_30_heavy_discount_for_overquota_users",variant:S})}),[S,null===(r=null==s?void 0:s.activity_info)||void 0===r?void 0:r.is_eligible_for_oq_price_decrease]);const p=null!==(i=null===(n=null==s?void 0:s.activity_info)||void 0===n?void 0:n.is_eligible_for_oq_price_decrease)&&void 0!==i&&i&&S===e.Variant.V1;return{shouldUseSmallSkus:null!==(c=null===(l=null==s?void 0:s.activity_info)||void 0===l?void 0:l.is_eligible_for_oq_price_decrease)&&void 0!==c&&c&&d===e.Variant.V1,shouldUseHeavyDiscount:p,isLoading:u||v||g,error:_||(f||h)}}}));
//# sourceMappingURL=c_over-quota_utils_oq_price_decrease_helper.js-vflXqDTKc.map

//# debugId=121b3934-3e35-34c0-9fcc-64dc9c9f53f3
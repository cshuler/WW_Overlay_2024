!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="221f4287-36a9-356a-abb5-ac5ceb116dfc")}catch(e){}}();
define(["exports","react","react/jsx-runtime","./e_file_viewer_static_scl_page_file","./c_api_v2_routes_team_insights_provider","./c_lodash-es_lodash","./c_src_sink_index","./e_core_exception"],(function(e,t,n,r,o,i,c,s){"use strict";var a=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var c=i[o];if(!e(t[c],n[c]))return!1}return!0}return t!=t&&n!=n},u=i.getDefaultExportFromCjs(a);function l(e){let t="";for(let n=0;n<e.length;++n)if(n>0){const r=e[n].toLowerCase();r!==e[n]?t+=` ${r}`:t+=e[n]}else t+=e[n].toUpperCase();return t}const d={default:"endpoint"},f={default:"tlsEndpoint"},R="Client timeout",h="Network connection error",_="Network request aborted",E="Response cannot be parsed",p="Blocked by CSP",v="The endpoint parameter is not a valid URL",g="Handle on demand agent data error",O=l("WrongRegion"),y=l("SubscriptionNotActive"),w=l("UnsupportedVersion"),I=l("InstallationMethodRestricted"),m=l("HostnameRestricted"),T=l("IntegrationFailed"),S=l("NetworkRestricted"),N=l("InvalidProxyIntegrationSecret"),A=l("InvalidProxyIntegrationHeaders"),b=l("ProxyIntegrationSecretEnvironmentMismatch"),P="API key required",C="API key not found",L="API key expired",D="Request cannot be parsed",x="Request failed",j="Request failed to process",M="Too many requests, rate limit exceeded",k="Not available for this origin",F="Not available with restricted header",V=P,K=C,U=L;const G="Failed to load the JS script of the agent",B="9319";function H(e,t){const n=[],[r,o]=function(e){const t=function(e){const t=[...e];return{current:()=>t[0],postpone(){const e=t.shift();void 0!==e&&t.push(e)},exclude(){t.shift()}}}(e),n=function(e,t){let n=0;return()=>Math.random()*Math.min(3e3,100*Math.pow(2,n++))}(),r=new Set;return[t.current(),(e,o)=>{let i;const c=o instanceof Error?o.message:"";if(c===p||c===v)t.exclude(),i=0;else if(c===B)t.exclude();else if(c===G){const n=Date.now()-e.getTime()<50,o=t.current();o&&n&&!r.has(o)&&(r.add(o),i=0),t.postpone()}else t.postpone();const s=t.current();return void 0===s?void 0:[s,null!=i?i:e.getTime()+n()-Date.now()]}]}(e);let i;if(void 0===r)return Promise.reject(new TypeError("The list of script URL patterns is empty"));const c=e=>{const r=new Date,s=t=>n.push({url:e,startedAt:r,finishedAt:new Date,error:t}),a=t(e);return a.then((()=>s()),s),a.catch((e=>{if(null!=i||(i=e),n.length>=5)throw i;const t=o(r,e);if(!t)throw i;const[s,a]=t;return(u=a,new Promise((e=>setTimeout(e,u)))).then((()=>c(s)));var u}))};return c(r).then((e=>[e,n]))}const q="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",Y=q;function J(e){var t,n;const{picked:r,rest:i}=function(e,t){const n={},r={};for(const[o,i]of Object.entries(e))t.includes(o)?n[o]=i:r[o]=i;return{picked:n,rest:r}}(e,["scriptUrlPattern","token","apiKey"]),c=r.token,s=null!==(t=r.apiKey)&&void 0!==t?t:c,a=null!==(n=function(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}(e,"scriptUrlPattern"))&&void 0!==n?n:q,[u,l]=function(){const e=[],t=()=>{e.push({time:new Date,state:document.visibilityState})},n=function(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}(document,"visibilitychange",t);return t(),[e,n]}();return Promise.resolve().then((()=>{if(!s||"string"!=typeof s)throw new Error(P);const e=function(e,t){return(Array.isArray(e)?e:[e]).map((e=>function(e,t){const n=encodeURIComponent;return e.replace(/<[^<>]+>/g,(e=>"<version>"===e?"3":"<apiKey>"===e?n(t):"<loaderVersion>"===e?n("3.12.1"):e))}(String(e),t)))}(a,s);return H(e,W)})).catch((e=>{throw l(),function(e){return e instanceof Error&&e.message===B?new Error(G):e}(e)})).then((e=>{let[t,n]=e;return l(),t.load(o._objectSpread2(o._objectSpread2({},i),{},{ldi:{attempts:n,visibilityStates:u}}))}))}function W(e){return function(e,t,n,r){const o=document,i="securitypolicyviolation";let c;const s=t=>{const n=new URL(e,location.href),{blockedURI:r}=t;r!==n.href&&r!==n.protocol.slice(0,-1)&&r!==n.origin||(c=t,a())};o.addEventListener(i,s);const a=()=>o.removeEventListener(i,s);return null==r||r.then(a,a),Promise.resolve().then(t).then((e=>(a(),e)),(e=>new Promise((e=>{const t=new MessageChannel;t.port1.onmessage=()=>e(),t.port2.postMessage(null)})).then((()=>{if(a(),c)return n(c);throw e}))))}(e,(()=>function(e){return new Promise(((t,n)=>{if(function(e){if(URL.prototype)try{return new URL(e,location.href),!1}catch(e){if(e instanceof Error&&"TypeError"===e.name)return!0;throw e}}(e))throw new Error(v);const r=document.createElement("script"),o=()=>{var e;return null===(e=r.parentNode)||void 0===e?void 0:e.removeChild(r)},i=document.head||document.getElementsByTagName("head")[0];r.onload=()=>{o(),t()},r.onerror=()=>{o(),n(new Error(G))},r.async=!0,r.src=e,i.appendChild(r)}))}(e)),(()=>{throw new Error(p)})).then(X)}function X(){const e=window,t="__fpjs_p_l_b",n=e[t];if(function(e,t){var n;const r=null===(n=Object.getOwnPropertyDescriptor)||void 0===n?void 0:n.call(Object,e,t);(null==r?void 0:r.configurable)?delete e[t]:r&&!r.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==n?void 0:n.load))throw new Error(B);return n}var $={load:J,defaultScriptUrlPattern:Y,ERROR_SCRIPT_LOAD_FAIL:G,ERROR_API_KEY_EXPIRED:L,ERROR_API_KEY_INVALID:C,ERROR_API_KEY_MISSING:P,ERROR_BAD_REQUEST_FORMAT:D,ERROR_BAD_RESPONSE_FORMAT:E,ERROR_CLIENT_TIMEOUT:R,ERROR_CSP_BLOCK:p,ERROR_FORBIDDEN_ENDPOINT:m,ERROR_FORBIDDEN_HEADER:F,ERROR_FORBIDDEN_ORIGIN:k,ERROR_GENERAL_SERVER_FAILURE:x,ERROR_HANDLE_AGENT_DATA:g,ERROR_INSTALLATION_METHOD_RESTRICTED:I,ERROR_INTEGRATION_FAILURE:T,ERROR_INVALID_ENDPOINT:v,ERROR_INVALID_PROXY_INTEGRATION_HEADERS:A,ERROR_INVALID_PROXY_INTEGRATION_SECRET:N,ERROR_NETWORK_ABORT:_,ERROR_NETWORK_CONNECTION:h,ERROR_NETWORK_RESTRICTED:S,ERROR_PROXY_INTEGRATION_SECRET_ENVIRONMENT_MISMATCH:b,ERROR_RATE_LIMIT:M,ERROR_SERVER_TIMEOUT:j,ERROR_SUBSCRIPTION_NOT_ACTIVE:y,ERROR_TOKEN_EXPIRED:U,ERROR_TOKEN_INVALID:K,ERROR_TOKEN_MISSING:V,ERROR_UNSUPPORTED_VERSION:w,ERROR_WRONG_REGION:O,defaultEndpoint:d,defaultTlsEndpoint:f},z=Object.freeze({__proto__:null,ERROR_API_KEY_EXPIRED:L,ERROR_API_KEY_INVALID:C,ERROR_API_KEY_MISSING:P,ERROR_BAD_REQUEST_FORMAT:D,ERROR_BAD_RESPONSE_FORMAT:E,ERROR_CLIENT_TIMEOUT:R,ERROR_CSP_BLOCK:p,ERROR_FORBIDDEN_ENDPOINT:m,ERROR_FORBIDDEN_HEADER:F,ERROR_FORBIDDEN_ORIGIN:k,ERROR_GENERAL_SERVER_FAILURE:x,ERROR_HANDLE_AGENT_DATA:g,ERROR_INSTALLATION_METHOD_RESTRICTED:I,ERROR_INTEGRATION_FAILURE:T,ERROR_INVALID_ENDPOINT:v,ERROR_INVALID_PROXY_INTEGRATION_HEADERS:A,ERROR_INVALID_PROXY_INTEGRATION_SECRET:N,ERROR_NETWORK_ABORT:_,ERROR_NETWORK_CONNECTION:h,ERROR_NETWORK_RESTRICTED:S,ERROR_PROXY_INTEGRATION_SECRET_ENVIRONMENT_MISMATCH:b,ERROR_RATE_LIMIT:M,ERROR_SCRIPT_LOAD_FAIL:G,ERROR_SERVER_TIMEOUT:j,ERROR_SUBSCRIPTION_NOT_ACTIVE:y,ERROR_TOKEN_EXPIRED:U,ERROR_TOKEN_INVALID:K,ERROR_TOKEN_MISSING:V,ERROR_UNSUPPORTED_VERSION:w,ERROR_WRONG_REGION:O,default:$,defaultEndpoint:d,defaultScriptUrlPattern:Y,defaultTlsEndpoint:f,load:J});const Q="@fpjs@client@",Z=()=>Date.now();class ee{constructor(e){var t;this.tag=e.tag||null,this.linkedId=e.linkedId||null,this.extendedResult=null!==(t=e.extendedResult)&&void 0!==t&&t}toKey(){return`${JSON.stringify(this.tag)}__${JSON.stringify(this.linkedId)}__${this.extendedResult}`}}function te(e,t){return`${t}__${e}`}function ne(e,t){return e.replace(`${t}__`,"")}class re{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;this.prefix=e}set(e,t){window.localStorage.setItem(te(e,this.prefix),JSON.stringify(t))}get(e){const t=window.localStorage.getItem(te(e,this.prefix));if(t)try{return JSON.parse(t)}catch(e){return}}remove(e){window.localStorage.removeItem(te(e,this.prefix))}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith(this.prefix))).map((e=>ne(e,this.prefix)))}}class oe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;this.prefix=e}set(e,t){window.sessionStorage.setItem(te(e,this.prefix),JSON.stringify(t))}get(e){const t=window.sessionStorage.getItem(te(e,this.prefix));if(t)try{return JSON.parse(t)}catch(e){return}}remove(e){window.sessionStorage.removeItem(te(e,this.prefix))}allKeys(){return Object.keys(window.sessionStorage).filter((e=>e.startsWith(this.prefix))).map((e=>ne(e,this.prefix)))}}class ie{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3600,n=arguments.length>2?arguments[2]:void 0;this.cache=e,this.cacheTime=t,this.nowProvider=n||Z}get(e){return r.__awaiter(this,void 0,void 0,(function*(){const t=yield this.cache.get(e.toKey());if(!t)return;const n=yield this.nowProvider(),r=Math.floor(n/1e3);if(!(t.expiresAt<r))return t.body;yield this.cache.remove(e.toKey())}))}set(e,t){return r.__awaiter(this,void 0,void 0,(function*(){const n=yield this.wrapCacheEntry(t);yield this.cache.set(e.toKey(),n)}))}clearCache(){return r.__awaiter(this,void 0,void 0,(function*(){const e=yield this.cache.allKeys();yield Promise.all(e.map((e=>this.cache.remove(e))))}))}wrapCacheEntry(e){return r.__awaiter(this,void 0,void 0,(function*(){const t=yield this.nowProvider(),n=Math.floor(t/1e3)+this.cacheTime;return{body:e,expiresAt:n}}))}}class ce{constructor(){this.enclosedCache=function(){const e={};return{set(t,n){e[t]=n},get(t){const n=e[t];if(n)return n},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}class se{set(){}get(){}remove(){}allKeys(){return[]}}var ae;!function(e){e.Memory="memory",e.LocalStorage="localstorage",e.SessionStorage="sessionstorage",e.NoCache="nocache"}(ae||(ae={}));const ue={[ae.Memory]:()=>(new ce).enclosedCache,[ae.LocalStorage]:e=>new re(e),[ae.SessionStorage]:e=>new oe(e),[ae.NoCache]:()=>new se},le=e=>ue[e];class de{constructor(e){var t;let n;if(this.inFlightRequests=new Map,this.agentPromise=null,this.customAgent=null==e?void 0:e.customAgent,this.agent={collect:()=>{throw new Error("FPJSAgent hasn't loaded yet. Make sure to call the init() method first.")},get:()=>{throw new Error("FPJSAgent hasn't loaded yet. Make sure to call the init() method first.")}},this.loadOptions=null==e?void 0:e.loadOptions,(null==e?void 0:e.cache)&&(null==e?void 0:e.cacheLocation)&&console.warn("Both `cache` and `cacheLocation` options have been specified in the FpjsClient configuration; ignoring `cacheLocation` and using `cache`."),null==e?void 0:e.cache)n=e.cache;else{if(this.cacheLocation=(null==e?void 0:e.cacheLocation)||ae.SessionStorage,!le(this.cacheLocation))throw new Error(`Invalid cache location "${this.cacheLocation}"`);(e=>{switch(e){case ae.SessionStorage:try{window.sessionStorage.getItem("item")}catch(e){return!1}return!0;case ae.LocalStorage:try{window.localStorage.getItem("item")}catch(e){return!1}return!0;default:return!0}})(this.cacheLocation)||(this.cacheLocation=ae.Memory),n=le(this.cacheLocation)(null==e?void 0:e.cachePrefix)}if((null==e?void 0:e.cacheTimeInSeconds)&&e.cacheTimeInSeconds>86400)throw new Error("Cache time cannot exceed 86400 seconds (24 hours)");const r=null!==(t=null==e?void 0:e.cacheTimeInSeconds)&&void 0!==t?t:3600;this.cacheManager=new ie(n,r)}init(e){return r.__awaiter(this,void 0,void 0,(function*(){var t,n,r;if(!this.loadOptions&&!e)throw new TypeError("No load options provided");const o=!0===(null===(t=this.loadOptions)||void 0===t?void 0:t.silent)?[]:[...(null===(n=this.loadOptions)||void 0===n?void 0:n.integrationInfo)||[],...(null==e?void 0:e.integrationInfo)||[],"spa-sdk/1.3.3"],i=Object.assign(Object.assign(Object.assign({},this.loadOptions),e),{integrationInfo:o});if(!this.agentPromise){const e=null!==(r=this.customAgent)&&void 0!==r?r:z;this.agentPromise=e.load(i).then((e=>(this.agent=e,e))).catch((e=>{throw this.agentPromise=null,e}))}return this.agentPromise}))}getVisitorData(){return r.__awaiter(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){const r=de.makeCacheKey(t).toKey();if(!e.inFlightRequests.has(r)){const o=e._identify(t,n).finally((()=>{e.inFlightRequests.delete(r)}));e.inFlightRequests.set(r,o)}return yield e.inFlightRequests.get(r)}()}))}getVisitorDataFromCache(){return r.__awaiter(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){const n=de.makeCacheKey(t),r=yield e.cacheManager.get(n);return r?Object.assign(Object.assign({},r),{cacheHit:!0}):void 0}()}))}isInCache(){return r.__awaiter(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return Boolean(yield e.getVisitorDataFromCache(t))}()}))}clearCache(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.cacheManager.clearCache()}))}static makeCacheKey(e){return new ee(e)}_identify(e){return r.__awaiter(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){const r=de.makeCacheKey(e);if(!n){const e=yield t.cacheManager.get(r);if(e)return Object.assign(Object.assign({},e),{cacheHit:!0})}const o=yield t.agent.get(e);return yield t.cacheManager.set(r,o),Object.assign(Object.assign({},o),{cacheHit:!1})}()}))}}var fe=function(){throw new Error("You forgot to wrap your component in <FpjsProvider>.")},Re={getVisitorData:fe,clearCache:fe},he=t.createContext(Re),_e=function(e,t){return _e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_e(e,t)};var Ee=function(){return Ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ee.apply(this,arguments)};function pe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function ve(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}a((r=r.apply(e,t||[])).next())}))}function ge(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,r=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){c=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){c.label=s[1];break}if(6===s[0]&&c.label<o[1]){c.label=o[1],o=s;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(s);break}o[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function Oe(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var ye="2.6.2",we=function(){return"undefined"==typeof window||void 0===window.document};function Ie(e){var t=e.checkCondition,n=e.intervalMs,r=void 0===n?250:n,o=e.timeoutMs,i=void 0===o?2e3:o;return new Promise((function(e,n){var o=setTimeout((function(){clearInterval(c),n(new Error("Timeout"))}),i),c=setInterval((function(){t()&&(clearTimeout(o),clearInterval(c),e())}),r)}))}var me;function Te(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"==typeof window)return!1;for(var n=0,r=e;n<r.length;n++)if((0,r[n])())return!0;return!1}((function(){return"next"in window&&Boolean(window.next)}),(function(){return document.querySelector("script[id=__NEXT_DATA__]")}))}function Se(){var e;return null===(e=null===window||void 0===window?void 0:window.next)||void 0===e?void 0:e.version}function Ne(e){try{var t=JSON.parse("%DETECTED_ENV%");if("object"==typeof t)return t}catch(e){}return n=e.context,Te()?{name:me.Next,version:Se()}:function(e){return e.classRenderReceivesAnyArguments}(n)?{name:me.Preact}:function(e){return!e.classRenderReceivesAnyArguments}(n)?{name:me.React}:{name:me.Unknown};var n}!function(e){e.React="react",e.Preact="preact",e.Next="next",e.Unknown="unknown"}(me||(me={}));var Ae=function(e){function n(t){return e.call(this,t)||this}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_e(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),n.prototype.render=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.detectedEnv){var r={context:{classRenderReceivesAnyArguments:e.length>0}};this.detectedEnv=Ne(r)}return t.cloneElement(this.props.children,{env:this.detectedEnv})},n}(t.Component),be="@fingerprintjs/fingerprintjs-pro-react".split("/")[1];function Pe(e){var r=this,o=e.children,i=e.forceRebuild,c=e.cache,s=e.cacheTimeInSeconds,a=e.cachePrefix,u=e.cacheLocation,l=e.customAgent,d=e.loadOptions,f=e.env,R=t.useRef(),h=t.useRef(),_=t.useMemo((function(){return{cache:c,cacheTimeInSeconds:s,cachePrefix:a,cacheLocation:u,customAgent:l,loadOptions:d}}),[d,c,s,a,u,l]),E=t.useCallback((function(){var e="".concat(be,"/").concat(ye);if(f){var t=f.version?"".concat(f.name,"/").concat(f.version):f.name;e+="/".concat(t)}var n=Ee(Ee({},_),{loadOptions:Ee(Ee({},d),{integrationInfo:Oe(Oe([],d.integrationInfo||[],!0),[e],!1)})}),r=new de(n);return h.current=r.init(),r}),[_,f,d]),p=t.useCallback((function(){return ve(r,void 0,void 0,(function(){var e=this;return ge(this,(function(t){switch(t.label){case 0:if(we())throw new Error("FpjsProvider client cannot be used in SSR");return R.current?[3,2]:[4,Ie({checkCondition:function(){return Boolean(R.current)}}).catch((function(){return ve(e,void 0,void 0,(function(){return ge(this,(function(e){return E(),[2]}))}))}))];case 1:t.sent(),t.label=2;case 2:return[2,R.current]}}))}))}),[E]),v=t.useCallback((function(e,t){return ve(r,void 0,void 0,(function(){var n;return ge(this,(function(r){switch(r.label){case 0:return[4,p()];case 1:return n=r.sent(),[4,h.current];case 2:return r.sent(),[2,n.getVisitorData(e,t)]}}))}))}),[p]),g=t.useCallback((function(){return ve(r,void 0,void 0,(function(){return ge(this,(function(e){switch(e.label){case 0:return[4,p()];case 1:return[4,e.sent().clearCache()];case 2:return e.sent(),[2]}}))}))}),[p]),O=t.useMemo((function(){return{clearCache:g,getVisitorData:v}}),[g,v]);return t.useEffect((function(){R.current&&!i||(R.current=E())}),[i,_,E]),n.jsx(he.Provider,Ee({value:O},{children:o}))}function Ce(e,t){if(!e)throw new TypeError("".concat(t," must not be null or undefined"))}var Le={immediate:!0};const De=new r.HiveLogger;const xe={getVisitorData:()=>(s.reportException({err:new Error("Missing <AbuseFpjsProvider> in component tree"),severity:s.SEVERITY.USER_ERROR,tags:["fingerprintjs"]}),Promise.resolve({visitorId:"",requestId:"",sealedResult:""}))},je=t.createContext(xe);e.AbuseFpjsContext=je,e.FpjsProvider=function(e){var t=e;return n.jsx(Ae,{children:n.jsx(Pe,Ee({},t))})},e.logEmptyVisitorData=function(e,t){try{De.log(new r.FingerprintJsLogsRow({email:t,event:e,request_id:"",visitor_id:"",visitor_found:!1,confidence_score:void 0,confidence_comment:"",browser_name:"",browser_version:void 0,device:"",incognito:void 0,ip:"",latitude:"",longitude:"",timezone:"",city:"",country:"",os:"",os_version:"",confidence_score_double:void 0}))}catch(e){s.reportException({err:e,severity:s.SEVERITY.CRITICAL,tags:["fingerprintjs"]})}},e.logVisitorData=function(e,t,n){if(!n.sealedResult)try{De.log(new r.FingerprintJsLogsRow({email:t,event:e,request_id:n.requestId,visitor_id:n.visitorId,visitor_found:n.visitorFound,confidence_score:void 0,confidence_comment:n.confidence?n.confidence.comment:"",browser_name:n.browserName,browser_version:n.browserVersion,device:n.device,incognito:n.incognito,ip:n.ip,latitude:n.ipLocation?String(n.ipLocation.latitude):"",longitude:n.ipLocation?String(n.ipLocation.longitude):"",timezone:n.ipLocation?String(n.ipLocation.timezone):"",city:n.ipLocation&&n.ipLocation.city?n.ipLocation.city.name:void 0,country:n.ipLocation&&n.ipLocation.country?n.ipLocation.country.name:void 0,os:n.os,os_version:String(n.osVersion),confidence_score_double:n.confidence.score}))}catch(e){s.reportException({err:e,severity:s.SEVERITY.CRITICAL,tags:["fingerprintjs"]})}},e.recordFingerprintJsInvocationStats=function(e,t){const n=c.getMetricsReporter().createCounter({ns:"abuse",name:"fingerprintjs/invocation"},{event:e,region:t});n.increment(),n.record()},e.recordFingerprintJsLoadingStats=function(e,t,n,r,o){const i=c.getMetricsReporter(),s=i.createCounter({ns:"abuse",name:"fingerprintjs/loading_result"},{is_success:String(t),event:e,err:n,region:o});s.increment(),s.record(),i.createStats({ns:"abuse",name:"fingerprintjs/loading_latency"},{is_success:String(t),event:e,err:n,region:o}).record(r)},e.useAbuseFpjsContext=()=>t.useContext(je),e.useVisitorData=function(e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n=Le),Ce(e,"getOptions");var o,i,c=(o=e,i=t.useRef(),t.useEffect((function(){i.current=o}),[o]),i.current),s=n.immediate,a=t.useContext(he).getVisitorData,l=t.useState({isLoading:!1}),d=l[0],f=l[1],R=t.useCallback((function(t){return void 0===t&&(t={}),ve(r,void 0,void 0,(function(){var n,r,o,i,c,s,u,l;return ge(this,(function(d){switch(d.label){case 0:Ce(t,"getDataParams"),n=t.ignoreCache,r=pe(t,["ignoreCache"]),d.label=1;case 1:return d.trys.push([1,3,4,5]),f((function(e){return Ee(Ee({},e),{isLoading:!0})})),o=e.ignoreCache,i=pe(e,["ignoreCache"]),c=Ee(Ee({},i),r),[4,a(c,"boolean"==typeof n?n:o)];case 2:return s=d.sent(),f((function(e){return Ee(Ee({},e),{data:s,isLoading:!1,error:void 0})})),[2,s];case 3:throw u=d.sent(),l=function(e){return e instanceof Error?e:new Error(String(e))}(u),l.name="FPJSAgentError",f((function(e){return Ee(Ee({},e),{data:void 0,error:l})})),l;case 4:return f((function(e){return e.isLoading?Ee(Ee({},e),{isLoading:!1}):e})),[7];case 5:return[2]}}))}))}),[e,a]);t.useEffect((function(){!s||c&&u(e,c)||R().catch((function(e){console.error("Failed to fetch visitor data on mount: ".concat(e))}))}),[s,R,c,e]);var h=d.isLoading,_=d.data,E=d.error;return{getData:R,isLoading:h,data:_,error:E}}}));
//# sourceMappingURL=c_abuse_fingerprintjs_abuse_fpjs_context.js-vfly48X6y.map

//# debugId=221f4287-36a9-356a-abb5-ac5ceb116dfc
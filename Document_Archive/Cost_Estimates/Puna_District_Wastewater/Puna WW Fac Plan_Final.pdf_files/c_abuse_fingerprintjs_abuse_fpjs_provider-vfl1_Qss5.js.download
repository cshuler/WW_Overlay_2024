!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="343a885b-e713-3d29-a08c-760b74cdfd49")}catch(e){}}();
define(["exports","react","./e_file_viewer_static_scl_page_file","./e_edison","./c_abuse_fingerprintjs_abuse_fpjs_context","./c_fingerprintjs_fpjs-pro-static_fp","./e_core_exception","./c_spectrum_util_raf_throttle"],(function(e,t,n,s,r,o,i,a){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var l=u(t);const d=()=>a.isSeleniumTest()||"undefined"!=typeof jest,c=async(e,t,n=2e3,s=!1)=>d()?{visitorId:"test_visitor_id",requestId:"test_request_id",sealedResult:"test_sealed_result"}:{visitorId:"",requestId:"",sealedResult:""};function f({region:e,shouldInvokeFPJS:n,children:s}){const{getData:o}=r.useVisitorData({extendedResult:!0},{immediate:!1}),a=t.useMemo((()=>o),[]),u=l.default.useCallback((async(t,s,o=2e3,u=!1)=>{if(d()||!n)return await c(0,0,o,u);r.recordFingerprintJsInvocationStats(t,e);const l=Date.now();try{const n=await a({timeout:o,ignoreCache:u}),i=Date.now(),d=void 0!==n.sealedResult;return r.logVisitorData(t,s,n),r.recordFingerprintJsLoadingStats(t,d,"None",i-l,e),{visitorId:n.visitorId,requestId:n.requestId,sealedResult:n.sealedResult?n.sealedResult:""}}catch(n){const o=Date.now();return r.logEmptyVisitorData(t,s),r.recordFingerprintJsLoadingStats(t,!1,n instanceof Error?n.message:"Unknown error",o-l,e),i.reportException({err:n,severity:i.SEVERITY.NONCRITICAL,tags:["fingerprintjs"]}),{visitorId:"",requestId:"",sealedResult:""}}}),[a,e,n]),f=l.default.useMemo((()=>({getVisitorData:u})),[u]);return l.default.createElement(l.default.Fragment,null,l.default.createElement(r.AbuseFpjsContext.Provider,{value:f},s))}e.AbuseFpjsProvider=({children:e,loadInTest:t=!1,loadingComponent:u=null})=>{const[p,g]=l.default.useState();l.default.useMemo((()=>{d()?g(new n.FingerPrintJSConstants({token:"test_token",region:"US",shouldInvoke:!1})):async function(e){return await s.Edison.fetch(n.FingerPrintJSService,"FetchConstants",e?{currentUrl:e}:void 0)}().then((e=>{g(e)})).catch((e=>{i.reportException({err:e,severity:i.SEVERITY.NONCRITICAL,tags:["fingerprintjs"]}),g(new n.FingerPrintJSConstants({token:"",region:"US",shouldInvoke:!1}))}))}),[]);const m=l.default.useMemo((()=>({getVisitorData:c})),[]);return d()&&!t?l.default.createElement(r.AbuseFpjsContext.Provider,{value:m},e):p?l.default.createElement(l.default.Fragment,null,l.default.createElement(r.FpjsProvider,{loadOptions:{apiKey:p.token,endpoint:a.isRunningAgainstProductionBackend()?"https://fp.dropbox.com":o.vn,modules:[o.ts(),o.zc(),o.Be()],urlHashing:{path:!0,query:!0,fragment:!0},cacheTimeInSeconds:3600,silent:!0},customAgent:o.FingerprintJS},l.default.createElement(f,{shouldInvokeFPJS:p.shouldInvoke,region:p.region},e))):l.default.createElement(l.default.Fragment,null,u)},e.withAbuseFpjsContext=function(e){const t=t=>l.default.createElement(r.AbuseFpjsContext.Consumer,null,(n=>l.default.createElement(e,{...t,fpjsContext:n})));var n;return t.displayName=`WithAbuseFpjsContext(${n=e,n.displayName||n.name||"Component"})`,t}}));
//# sourceMappingURL=c_abuse_fingerprintjs_abuse_fpjs_provider.js-vflg1ML6o.map

//# debugId=343a885b-e713-3d29-a08c-760b74cdfd49
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="26e33c2c-adf7-38c7-9e21-05529431e306")}catch(e){}}();
define(["exports","react","./e_file_viewer_static_scl_page_file","./c_utils_dsx_dsx-react","./c_core_i18n","./c_internals_access-management-modal_types","./c_common_components_buttons","./c_src_utils_initials","./c_content-member-list_internals_content-member-list","./c_dig-icons_assets_ui-icon_line_settings","./c_settings-page_internals_settings-page-wrapper","./c_inband-screen_internals_share-modal-share","./c_hive_schemas_sharing-request_access_user_events","./c_memoize-one","./e_data_modules_stormcrow","./c_dig-components_combinations_index","./e_core_exception"],(function(e,t,n,a,i,s,r,o,l,c,d,m,u,g,E,p,S){"use strict";function b(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var f=b(t);const C=e=>e.formatMessage({id:"azBLeN",defaultMessage:"Close"}),M=e=>e.formatMessage({id:"fFhvfv",defaultMessage:"Couldn’t load member list"}),I={$props:a.atom({objectIdentifier:{".tag":"file",fileId:""},fileOrFolderName:"file_name",isOpen:!0,onRequestClose:()=>{},initialScreen:s.Screen.MANAGE_ACCESS,initialSettingsTab:"object_settings"}),$currentScreen:a.atom(s.Screen.MANAGE_ACCESS),$initialSettingsTab:a.atom("object_settings"),$objectIdentifier:a.atom({".tag":"file",fileId:""})},{StoreProvider:_,useStore:L}=a.defineStoreProvider((e=>{var t,n;return{$props:e,$objectIdentifier:a.store(e.get().objectIdentifier),$currentScreen:a.atom(null!==(t=e.get().initialScreen)&&void 0!==t?t:s.Screen.MANAGE_ACCESS),$initialSettingsTab:a.atom(null!==(n=e.get().initialSettingsTab)&&void 0!==n?n:"object_settings")}}),I),k=e=>f.createElement(_,{...e});k.displayName="Provider";const h=()=>{const e=L(),{fileOrFolderName:t,onRequestClose:d}=e.$props.get(),m=a.useStore(e.$currentScreen),u=n.useEmitter$3(),g=f.useCallback((()=>{u.select(n.ON_CLICK_SETTINGS_BUTTON).emit(null),e.$currentScreen.set(s.Screen.SETTINGS),e.$initialSettingsTab.set("object_settings")}),[u,e.$currentScreen,e.$initialSettingsTab]),E=f.useMemo((()=>{switch(m){case s.Screen.SETTINGS:return e=i.intl,a=t,e.formatMessage({id:"a0hOt7",defaultMessage:"Settings for {contentName}"},{contentName:o.Emstring.em_snippet(a,n.SNIPPET_SIZES.FILENAME)});case s.Screen.MANAGE_ACCESS:default:return((e,t)=>e.formatMessage({id:"uXba7s",defaultMessage:"Manage access to {contentName}"},{contentName:o.Emstring.em_snippet(t,n.SNIPPET_SIZES.FOLDER_NAME)}))(i.intl,t)}var e,a}),[m,t]);return f.createElement(f.Fragment,null,f.createElement(n.Box,{className:l.classes.headerSectionTextContainer},f.createElement(n.Text,{style:{display:"flex",justifyContent:"flex-start"},size:"large",isBold:!0,className:l.classes.headerSectionPrimaryText},E)),f.createElement(n.Box,{className:l.classes.headerSectionButtonContainer},m===s.Screen.SETTINGS?null:f.createElement(r.HeaderIconButton,{onClick:g,variant:"borderless","aria-label":(p=i.intl,p.formatMessage({id:"XAZa6R",defaultMessage:"Settings"})),"data-testid":"access-management-settings-button"},f.createElement(n.UIIcon,{src:c.SettingsLine})),f.createElement(r.HeaderIconButton,{onClick:d,variant:"borderless","aria-label":C(i.intl),"data-testid":"access-management-close-button"},f.createElement(n.UIIcon,{src:n.CloseLine}))));var p};h.displayName="AccessManagementHeader";const y=()=>f.createElement(n.Box,{style:{width:"100%"},marginTop:"Macro Small","data-testid":"people-list-placeholder"},f.createElement(n.Stack,{gap:"Macro Small"},Array.from({length:5}).map(((e,t)=>f.createElement(n.Box,{style:{padding:"0 8px 0 0",display:"flex",alignItems:"center",justifyContent:"center",height:"32px"},key:t},f.createElement(n.Box,{style:{paddingRight:"12px"}},f.createElement(n.Skeleton.Avatar,null)),f.createElement(n.Box,{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around"}},f.createElement(n.Stack,{gap:"Micro XSmall"},f.createElement(n.Skeleton.Box,{height:16,width:231}),f.createElement(n.Skeleton.Box,{height:12,width:139}))))))));y.displayName="PeopleListPlaceholder";const x=({objectIdentifier:e,inviteMessage:t,inviteTargets:n,setInviteMessage:a,setInviteTargets:i,onRequestClose:s,onStartInband:r,initialInput:o,onInitialInputUsed:l})=>{const c=f.useCallback((e=>{a(e)}),[a]),d=f.useCallback((e=>{i(e)}),[i]),u=f.useCallback((()=>{i([]),a(""),s()}),[i,a,s]),g=f.useCallback((()=>{i([]),a(""),s()}),[i,a,s]);return f.createElement(m.Inband,{oid:e,inviteMessage:t,inviteTargets:n,onInviteMessageChange:c,hasUpdatedAccountMetadata:!1,onCloseClick:()=>{},onTargetsDropdownFocusChange:()=>{},onInviteTargetsChange:d,onShareStart:()=>{},onInbandShareSuccess:u,onShareFailure:g,onStartInband:r,shouldStyleForSM21:!0,onRefreshObjectMetadata:()=>{},onRefreshModal:()=>{},shouldTransitionAccessoryAreaEnter:!0,initialInput:o,onInitialInputUsed:l})};x.displayName="AccessManagementInband";const N=({title:e,subtitle:t,adminConsoleInbandView:a})=>f.createElement(n.Box,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderWidth:"2",borderStyle:"Solid",borderColor:"Border Subtle",borderRadius:"Large",height:"100%",style:{padding:a===s.AdminConsoleInbandView.INBAND?"35px 8px":"65px 8px"}},f.createElement(n.Title,{size:"small",color:"subtle",style:{textAlign:"center"}},e),f.createElement(n.Text,{color:"subtle",style:{textAlign:"center"}},t));N.displayName="CustomScreen";const T=({objectIdentifier:e,onRequestClose:t,onSettingsClick:a,adminConsoleInbandView:s,onObjectIdentifierChanged:r,onMemberListDataLoading:c})=>{const d=i.useIntl(),m=f.useCallback((()=>{t(),o.invalidateSharingObjectMetadata(e),o.invalidateNewApiObjectMetadata(e),l.invalidateListSharedLinks(e),n.invalidateObjectMembers(e)}),[e,t]),u=f.useCallback((()=>{a()}),[a]),g=f.useCallback((()=>{}),[]),E=f.useCallback((()=>{}),[]),p="function"==typeof r?r:()=>{},S=f.useMemo((()=>{const t=(e=>e.formatMessage({id:"SWV1dE",defaultMessage:"Keep track of people and permissions"}))(d),n=((e,t)=>e.formatMessage({id:"ajXUcE",defaultMessage:"When specific people are invited to this {isFile, select, true {file} other {folder}}, they’ll be listed here."},{isFile:t?"true":"false"}))(d,"file"===e[".tag"]);return f.createElement(N,{title:t,subtitle:n,adminConsoleInbandView:s})}),[s,d,e]);return f.createElement(l.ContentMemberList,{objectIdentifier:e,openLinkSettings:u,onRequestClose:t,onChangeConfidentiality:E,onTransferFolderOwnership:m,onObjectIdentifierChanged:p,onConfirmationModalShownChange:g,memberNameTruncationLimit:300,inheritedListTitleTruncationLimit:450,customNoOtherMembersScreen:S,customErrorScreenWrapper:({errorMessage:e})=>f.createElement(N,{title:M(d),subtitle:e,adminConsoleInbandView:s}),useSimpleDowngradeBanner:!0,onMemberListDataLoading:c})};T.displayName="AccessManagementMemberList";const v=({objectIdentifier:e,isOpen:t,setIsOpen:a})=>{const{user:s}=n.useActiveUser(),r=i.useIntl(),c=o.useSharingObjectMetadata(e.fileId),d=n.useObjectMembers(e),m=l.useAccountDataBatch(A(d,s)),u=!c.isLoading&&!c.isError,g=!m.isLoading&&!m.isError,E=d.isFirstPageLoaded&&d.isFirstPageOnly;return u&&E&&g?f.createElement(n.Box,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",onClick:()=>{a(!t)},cursor:"pointer"},f.createElement(n.Box,{display:"flex",alignItems:"center",style:{width:"100%"}},f.createElement(n.Box,{marginRight:"Micro Small"},f.createElement(l.ContentMemberFacepileButton,{oid:e,disableRightChevron:!0,onClick:()=>{a(!t)},onView:()=>{}})),f.createElement(n.Text,{size:"small",style:{maxWidth:"calc(100% - 78px)"}},(e=>e.formatMessage({id:"cx2Oxf",defaultMessage:"People with access"}))(r))),f.createElement(n.Box,null,f.createElement(n.IconButton,{variant:"opacity",size:"small","aria-expanded":t,"aria-controls":"sm24-access-management-member-list","data-testid":"access-management-member-list-dropdown-toggle"},f.createElement(n.UIIcon,{src:t?n.ChevronUpLine:n.ChevronDownLine})))):null};v.displayName="AccessManagementMemberListDropdown";const A=(e,t)=>{const n=[];return e.isFirstPageLoaded&&e.isFirstPageOnly?(e.firstPage.users.map((e=>n.push(e.user.account_id))),0===e.firstPage.users.length&&t&&n.push(t.account_id),n):[]},w=(e,t)=>"editor"===t?e.formatMessage({id:"z7dGdQ",defaultMessage:"Link for editing"}):e.formatMessage({id:"gL4fDf",defaultMessage:"Link for viewing"}),B=(e,t,n,a)=>n?e.formatMessage({id:"Ee/uzy",defaultMessage:"Link settings are unavailable right now"}):t?e.formatMessage({id:"Hpj0Wp",defaultMessage:"Active"}):a?e.formatMessage({id:"CMAwE0",defaultMessage:"Not available – you don’t have permission to create this link"}):e.formatMessage({id:"yJ0Cty",defaultMessage:"Not created – set up in Settings"}),j=(e,t)=>"editor"===t?e.formatMessage({id:"vEhq9Y",defaultMessage:"Edit link settings"}):e.formatMessage({id:"ZFSdE4",defaultMessage:"View link settings"}),$={$props:a.atom({objectIdentifier:{".tag":"file",fileId:""},openLinkSettings:()=>{},listSharedLinksResult:{isLoading:!0},objectMetadataResult:{isLoading:!0}})},{StoreProvider:O,useStore:R}=a.defineStoreProvider((e=>({$props:e})),$),P=e=>{const t=l.useListSharedLinks(e.objectIdentifier,!0),n=o.useSharingObjectMetadata(e.objectIdentifier.fileId);return f.createElement(O,{listSharedLinksResult:t,objectMetadataResult:n,...e})};P.displayName="Provider";const D=Symbol("ON_VIEW_MANAGE_ACCESS_LINKS"),V=Symbol("ON_FAILURE_RENDER"),{useEmitter:G,defaultEmitter:U}=n.defineLogger((async({event:e,getContextValue:t})=>{const a=t(n.Context$4),i=t(n.Context$5),s=t(n.Context$6),r=t(n.Context$7),o={...n.getTags$4(a),...n.getTags$5(i),...n.getTags$6(s),...n.getTags$7(r),isSm24:"true"},c={...n.getProperties$4(a),...n.getProperties$5(i),...n.getProperties$6(s),...n.getProperties$7(r)};e.key===D?n.UDCL.logEvent(l.PAP_View_ManageAccess({...c,manageAccessElement:"manage_access_links"}),{tags:{...o,element:"manage_access_links"}}):e.key===V&&n.UDCL.logEvent("ops.view_manage_access_failure",{tags:{...o,eventState:"failed",element:"manage_access_links"}})})),z=({iconSrc:e})=>e?f.createElement(n.Box,{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"Circular",backgroundColor:"Background Subtle",style:{width:"32px",height:"32px"}},f.createElement(n.UIIcon,{src:e,size:"standard"})):null;z.displayName="CircularIconContainer";const F=({iconSrc:e})=>f.createElement(n.List.Item,{padding:0},f.createElement(n.List.Accessory,null,f.createElement(z,{iconSrc:e})),f.createElement(n.List.Content,null,f.createElement(n.LabelGroupNamespace,{withLabel:f.createElement(n.Skeleton.Text,{size:"medium",width:230,borderRadius:"XSmall"}),withSubText:f.createElement(n.Skeleton.Text,{size:"small",width:140,borderRadius:"XSmall"})})));F.displayName="SkeletonListItem";const W=()=>f.createElement(n.List,{"data-testid":"manage-links-list-skeleton"},f.createElement(F,{iconSrc:n.EditLine}),f.createElement(F,{iconSrc:n.ShowLine}));W.displayName="ManageLinksSkeleton";const K=()=>{const e=R(),t=G(),{objectMetadataResult:i,listSharedLinksResult:s,openLinkSettings:r}=a.useAtom(e.$props),o=s.isLoading||s.isError?void 0:s.output,l=!s.isLoading&&s.isError,c=i.isLoading||i.isError?void 0:i.output,d=!i.isLoading&&i.isError||l,{editLink:m,viewLink:u}=(e=>({editLink:e?n.getEditLinkMetadata(e):null,viewLink:e?n.getViewLinkMetadata(e):null}))(o),{canCreateEditLink:g,canCreateViewLink:E}=(e=>({canCreateEditLink:e?n.getCanDoAction(e,n.CREATE_EDIT_LINK_TAG):void 0,canCreateViewLink:e?n.getCanDoAction(e,n.CREATE_VIEW_LINK_TAG):void 0}))(c),p=!g&&!E,S=!!m||g||p||d,b=!!u||E||p||d,C=!d&&(!!u||E),M=e=>t=>{t.preventDefault(),r(e)},I={isLinkExisting:!!m,onLinkSettingsClick:!d&&(!!m||g)?M("edit_link_settings"):void 0,linkAccessLevel:n.EDITOR,iconSrc:n.EditLine,isError:d,isNoPermissions:!1===g},_={isLinkExisting:!!u,onLinkSettingsClick:C?M("view_link_settings"):void 0,linkAccessLevel:n.VIEWER,iconSrc:n.ShowLine,isError:d,isNoPermissions:!1===E};return f.useEffect((()=>{d||t.select(D).emit(null)}),[t,d]),f.createElement(n.List,{"data-testid":"manage-links-list",paddingY:0},S&&f.createElement(q,{...I}),b&&f.createElement(q,{..._}))};K.displayName="ManageLinksInner";const q=({isLinkExisting:e,linkAccessLevel:t,onLinkSettingsClick:a,iconSrc:s,isError:r,isNoPermissions:o})=>{const d=i.useIntl(),m=(null==t?void 0:t[".tag"])||"",u=e&&!r;return["viewer","editor"].includes(m)?f.createElement(n.List.Item,{paddingX:0},f.createElement(n.List.Accessory,null,f.createElement(z,{iconSrc:s})),f.createElement(n.List.Content,null,f.createElement(n.LabelGroupNamespace,{verticalAlignment:"center",labelGap:"0",withLabel:f.createElement(n.Text,{variant:"label"},w(d,m)),withMeta:f.createElement(l.Metadata2,{size:"small"},f.createElement(l.Metadata2.Item,null,f.createElement(l.Metadata2.ArbitraryIcon,{src:f.createElement(n.Badge,{variant:u?"success":"standard",style:u?void 0:{backgroundColor:"var(--dig-color__disabled__on-surface)"}}),style:{display:"flex",alignItems:"center",width:"auto",height:"100%",paddingRight:"4px"}}),f.createElement(l.Metadata2.Label,null,B(d,e,r,o))))})),f.createElement(n.List.Accessory,null,!!a&&f.createElement(p.IconButtonGroup,null,(({getButtonProps:e})=>f.createElement(n.IconButton,{variant:"borderless",onClick:a,"aria-label":j(d,m),"data-uxa-log":"sm24-manage-links-settings-button","data-testid":`manage-links-${m}-link-settings-button`,"data-uxa-interactions":"click",...e()},f.createElement(n.UIIcon,{src:c.SettingsLine})))))):null};q.displayName="ManageLinksListItem";const X=()=>{const e=R(),t=G(),{objectMetadataResult:n,listSharedLinksResult:i}=a.useAtom(e.$props),s=n.isLoading,r=!s&&n.isError,o=i.isLoading,l=!o&&i.isError,c=s||o;return(r||l)&&(t.select(V).emit(null),S.reportStack("Error fetching data for Manage Links.",{severity:S.SEVERITY.CRITICAL,tags:["manage-links"],silent:!0})),c?f.createElement(W,null):f.createElement(K,null)};X.displayName="ManageLinksWithStore";const H=e=>f.createElement(P,{...e},f.createElement(n.ErrorBoundary$2,{fallback:null,onError:e=>{S.reportException({err:e,severity:S.SEVERITY.CRITICAL,tags:["manage-links","sharing"],exc_extra:{message:"Error loading Manage Links"}})}},f.createElement(X,null)));H.displayName="ManageLinks";const Y=({objectIdentifier:e,onSettingsClick:t})=>{const n=f.useCallback((e=>{t&&t(e)}),[t]);return f.createElement(H,{objectIdentifier:e,openLinkSettings:n})};Y.displayName="AccessManagementManageLinks";const Z=()=>{const e=L(),{isOpen:t,onRequestClose:r}=e.$props.get(),o=Date.now(),c=a.useStore(e.$objectIdentifier),{isNonUserRelativeContext:m}=n.useSharingApiContext(),[u,g]=f.useState([]),[E,p]=f.useState(""),[S,b]=f.useState(""),[C,M]=f.useState(s.AdminConsoleInbandView.BUTTON),[I,_]=f.useState(null),[k,h]=f.useState(!1),[N,A]=f.useState(!0),w=!m,B=w?520:354,j=w?716:578,$=n.useEmitter$3(),O=J()<600;f.useEffect((()=>{if(!t||C!==s.AdminConsoleInbandView.BUTTON)return;const e=e=>{1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey||(e.preventDefault(),b(e.key),h(!0),$.select(n.ON_CLICK_INBAND_ENTRY_BUTTON).emit(null))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[t,C,$]);const R=f.useMemo((()=>C===s.AdminConsoleInbandView.INBAND),[C]),P=f.useCallback((()=>{h(!0),$.select(n.ON_CLICK_INBAND_ENTRY_BUTTON).emit(null)}),[h,$]),D=f.useCallback((()=>{M(s.AdminConsoleInbandView.INBAND)}),[M]),V=f.useCallback((()=>{_(!I),$.select(n.ON_CLICK_MEMBER_LIST_TOGGLE).emit(null)}),[I,$]),G=f.useCallback((t=>{e.$objectIdentifier.set(t)}),[e.$objectIdentifier]),U=f.useCallback((t=>{$.select(n.ON_CLICK_LINK_SETTINGS_BUTTON).emit(null),e.$currentScreen.set(s.Screen.SETTINGS),t&&("file_settings"===t||"folder_settings"===t?e.$initialSettingsTab.set("object_settings"):"view_link_settings"!==t&&"edit_link_settings"!==t||e.$initialSettingsTab.set(t))}),[$,e.$currentScreen,e.$initialSettingsTab]),z=f.useCallback((e=>{A(e)}),[]);return f.createElement(n.Modal.Body,{style:{minHeight:`${B}px`,maxHeight:O?"100%":`${j}px`,overflow:"hidden",display:"flex",flexDirection:"column"}},f.createElement(n.Box,{style:{flex:"0 0 auto"}},w&&f.createElement(n.Box,{marginBottom:"Micro Medium"},f.createElement(n.Text,{size:"medium",isBold:!0},i.intl.formatMessage({id:"XlibN2",defaultMessage:"People"}))),f.createElement(n.Box,{marginTop:"Micro Medium"},C===s.AdminConsoleInbandView.BUTTON&&f.createElement(d.TokenizerButton,{oid:c,onTokenizerButtonClick:P,componentViewTime:o,shareModalVersion:"sm24"}),k&&f.createElement(n.Box,{style:{display:C!==s.AdminConsoleInbandView.INBAND?"none":void 0}},f.createElement(x,{objectIdentifier:c,inviteMessage:E,inviteTargets:u,setInviteMessage:p,setInviteTargets:g,onRequestClose:r,onStartInband:D,initialInput:S,onInitialInputUsed:()=>b("")})))),f.createElement(n.Box,{display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%",overflow:"hidden",marginBottom:"Micro Large"},R&&f.createElement(n.Box,{paddingX:"Micro Small",paddingTop:"Micro Large",borderTop:"Solid",borderWidth:"1",borderColor:"Border Subtle",marginTop:"Micro Medium","data-testid":"access-management-member-list-dropdown"},f.createElement(v,{objectIdentifier:c,isOpen:!!I,setIsOpen:V})),N&&f.createElement(y,null),f.createElement(n.Box,{className:n.cx(l.classes.accessManagementPeopleList,{[l.classes.accessManagementPeopleListDropdownDefault]:R&&!I,[l.classes.accessManagementPeopleListDropdownExpand]:R&&!0===I,[l.classes.accessManagementPeopleListDropdownCollapse]:R&&!1===I}),display:N?"none":void 0,width:"100%",marginTop:R?"Micro Small":"Micro Large",paddingX:R?"Micro Small":void 0,"data-testid":"sm24-access-management-member-list",id:"sm24-access-management-member-list"},f.createElement(T,{objectIdentifier:c,onRequestClose:r,onSettingsClick:U,adminConsoleInbandView:C,onObjectIdentifierChanged:G,onMemberListDataLoading:z}))),w&&f.createElement(n.Box,{paddingTop:"Micro Medium",paddingBottom:"Micro Medium","data-testid":"access-management-manage-links"},f.createElement(n.Box,{paddingBottom:"Micro XSmall"},f.createElement(n.Text,{size:"medium",isBold:!0},(e=>e.formatMessage({id:"YZPZOn",defaultMessage:"Links"}))(i.intl))),f.createElement(Y,{objectIdentifier:c,onSettingsClick:U})))};Z.displayName="ManageAccessScreen";const J=()=>{const[e,t]=f.useState(window.innerWidth);return f.useEffect((()=>{const e=()=>t(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e},Q=()=>{const e=L(),{onRequestClose:t}=e.$props.get(),n=a.useAtom(e.$initialSettingsTab),i=a.useAtom(e.$objectIdentifier),r=f.useCallback((async t=>{e.$objectIdentifier.set(t)}),[e.$objectIdentifier]),o=f.useCallback((()=>{e.$currentScreen.set(s.Screen.MANAGE_ACCESS)}),[e.$currentScreen]),l=f.useCallback((()=>{e.$currentScreen.set(s.Screen.MANAGE_ACCESS)}),[e.$currentScreen]),c=f.useCallback((()=>{t()}),[t]),m=f.useCallback((()=>{e.$currentScreen.set(s.Screen.MANAGE_ACCESS)}),[e.$currentScreen]),u=f.useCallback((()=>{t()}),[t]);return f.createElement(d.SettingsPage,{objectIdentifier:i,initialTab:n,onClose:c,onCancel:m,onComplete:u,onManageLinkAccess:o,onConfirmationModalShownChange:()=>{},onObjectIdentifierChanged:r,onRefreshModal:async()=>{},onFallback:void 0,onUnshareCompleted:l})};Q.displayName="SettingsScreen";const ee=()=>{const e=L(),{isOpen:t,onRequestClose:r}=e.$props.get(),o=a.useStore(e.$currentScreen),c=a.useStore(e.$props).objectIdentifier,d=a.useStore(e.$objectIdentifier),m=n.useEmitter$3(),u=ne()<600;return f.useEffect((()=>{n.Modal.setAppElement(document.body)}),[]),f.useEffect((()=>{c[".tag"]===d[".tag"]&&e.$objectIdentifier.set(c)}),[c,d,e.$objectIdentifier]),f.createElement(n.Modal,{contentStyles:{height:u?"100%":"auto"},width:540,isCentered:!0,open:t,onRequestClose:()=>{r(),m.select(n.ON_CLICK_CLOSE_BUTTON).emit(null)},"aria-label":i.intl.formatMessage({id:"oP7zBj",defaultMessage:"Access Management Modal"}),"data-testid":"shareme24-modal"},f.createElement(n.Box,{"data-test-id":"access-management-modal"},f.createElement(n.Modal.Header,{className:l.classes.headerSection,style:{padding:"24px 24px 16px",marginBottom:"0",maxWidth:"100%"}},f.createElement(h,null)),o===s.Screen.MANAGE_ACCESS&&f.createElement(Z,null),o===s.Screen.SETTINGS&&f.createElement(Q,null)))};ee.displayName="AccessManagementModalInner";const te=e=>f.createElement(k,{...e},f.createElement(n.ErrorBoundary,{componentTag:"access-management-modal",exceptionTags:["error_boundary:access_management_modal","access_management"],reportMetrics:!0,fallback:null},f.createElement(ee,null)));te.displayName="AccessManagementModalWithErrorBoundaryAndStore";const ne=()=>{const[e,t]=f.useState(window.innerWidth);return f.useEffect((()=>{const e=()=>t(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e};e.AccessManagementModalWithErrorBoundaryAndStore=te}));
//# sourceMappingURL=c_internals_access-management-modal_modal.js-vflM3fjXj.map

//# debugId=26e33c2c-adf7-38c7-9e21-05529431e306